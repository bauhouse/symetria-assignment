var _c_icons_=function(){_c_icons_=null;return {"btc":"<g fill='none' fill-rule='evenodd'><circle cx='16' cy='16' r='16' fill='#F7931A'/><path fill='#FFF' fill-rule='nonzero' d='M23.189 14.02c.314-2.096-1.283-3.223-3.465-3.975l.708-2.84-1.728-.43-.69 2.765c-.454-.114-.92-.22-1.385-.326l.695-2.783L15.596 6l-.708 2.839c-.376-.086-.746-.17-1.104-.26l.002-.009-2.384-.595-.46 1.846s1.283.294 1.256.312c.7.175.826.638.805 1.006l-.806 3.235c.048.012.11.03.18.057l-.183-.045-1.13 4.532c-.086.212-.303.531-.793.41.018.025-1.256-.313-1.256-.313l-.858 1.978 2.25.561c.418.105.828.215 1.231.318l-.715 2.872 1.727.43.708-2.84c.472.127.93.245 1.378.357l-.706 2.828 1.728.43.715-2.866c2.948.558 5.164.333 6.097-2.333.752-2.146-.037-3.385-1.588-4.192 1.13-.26 1.98-1.003 2.207-2.538zm-3.95 5.538c-.533 2.147-4.148.986-5.32.695l.95-3.805c1.172.293 4.929.872 4.37 3.11zm.535-5.569c-.487 1.953-3.495.96-4.47.717l.86-3.45c.975.243 4.118.696 3.61 2.733z'/></g>","doge":"<g fill='none' fill-rule='evenodd'><circle cx='16' cy='16' r='16' fill='#C3A634'/><path fill='#FFF' d='M13.248 14.61h4.314v2.286h-4.314v4.818h2.721c1.077 0 1.958-.145 2.644-.437.686-.291 1.224-.694 1.615-1.21.39-.515.656-1.12.796-1.815.14-.695.21-1.445.21-2.252 0-.807-.07-1.557-.21-2.252a4.396 4.396 0 0 0-.796-1.815c-.391-.516-.93-.919-1.615-1.21-.686-.292-1.567-.437-2.644-.437h-2.721v4.325zm-2.766 2.286H9v-2.285h1.482V8h6.549c1.21 0 2.257.21 3.142.627.885.419 1.607.99 2.168 1.715.56.724.977 1.572 1.25 2.543.273.971.409 2.01.409 3.115a11.47 11.47 0 0 1-.41 3.115c-.272.97-.689 1.819-1.25 2.543-.56.725-1.282 1.296-2.167 1.715-.885.418-1.933.627-3.142.627h-6.549v-7.104z'/></g>","eth":"<g fill='none' fill-rule='evenodd'><circle cx='16' cy='16' r='16' fill='#627EEA'/><g fill='#FFF' fill-rule='nonzero'><path fill-opacity='.602' d='M16.498 4v8.87l7.497 3.35z'/><path d='M16.498 4L9 16.22l7.498-3.35z'/><path fill-opacity='.602' d='M16.498 21.968v6.027L24 17.616z'/><path d='M16.498 27.995v-6.028L9 17.616z'/><path fill-opacity='.2' d='M16.498 20.573l7.497-4.353-7.497-3.348z'/><path fill-opacity='.602' d='M9 16.22l7.498 4.353v-7.701z'/></g></g>","ltc":"<g fill='none' fill-rule='evenodd'><circle cx='16' cy='16' r='16' fill='#CBC6C6'/><path fill='#FFF' d='M10.427 19.214L9 19.768l.688-2.759 1.444-.58L13.213 8h5.129l-1.519 6.196 1.41-.571-.68 2.75-1.427.571-.848 3.483H23L22.127 24H9.252z'/></g>"};};var jsPerf={},isWorker=typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope,KJUR,BigInteger,ECFieldElementFp,ECPointFp,ECCurveFp,CryptoJS,_QR_,saveAs,jsEncryption,randomBytes,BrowserHistory;if(!isWorker)try{jsPerf.start=window.performance.now()}catch(e){}KJUR={crypto:{}};isWorker||!function(n,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=n.document?t(n,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return t(n)}:t(n)}("undefined"!=typeof window?window:this,function(n,t){"use strict";function hr(n,t,i){var r,u=(t=t||f).createElement("script");if(u.text=n,i)for(r in df)i[r]&&(u[r]=i[r]);t.head.appendChild(u).parentNode.removeChild(u)}function it(n){return null==n?n+"":"object"==typeof n||"function"==typeof n?bt[or.call(n)]||"object":typeof n}function hi(n){var t=!!n&&"length"in n&&n.length,i=it(n);return!u(n)&&!tt(n)&&("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in n)}function v(n,t){return n.nodeName&&n.nodeName.toLowerCase()===t.toLowerCase()}function li(n,t,r){return u(t)?i.grep(n,function(n,i){return!!t.call(n,i,n)!==r}):t.nodeType?i.grep(n,function(n){return n===t!==r}):"string"!=typeof t?i.grep(n,function(n){return wt.call(t,n)>-1!==r}):i.filter(t,n,r)}function wr(n,t){while((n=n[t])&&1!==n.nodeType);return n}function ne(n){var t={};return i.each(n.match(l)||[],function(n,i){t[i]=!0}),t}function ut(n){return n}function dt(n){throw n;}function br(n,t,i,r){var f;try{n&&u(f=n.promise)?f.call(n).done(t).fail(i):n&&u(f=n.then)?f.call(n,t,i):t.apply(void 0,[n].slice(r))}catch(n){i.apply(void 0,[n])}}function ni(){f.removeEventListener("DOMContentLoaded",ni);n.removeEventListener("load",ni);i.ready()}function re(n,t){return t.toUpperCase()}function y(n){return n.replace(te,"ms-").replace(ie,re)}function at(){this.expando=i.expando+at.uid++}function ee(n){return"true"===n||"false"!==n&&("null"===n?null:n===+n+""?+n:ue.test(n)?JSON.parse(n):n)}function dr(n,t,i){var r;if(void 0===i&&1===n.nodeType)if(r="data-"+t.replace(fe,"-$&").toLowerCase(),"string"==typeof(i=n.getAttribute(r))){try{i=ee(i)}catch(n){}o.set(n,t,i)}else i=void 0;return i}function tu(n,t,r,u){var s,h,c=20,l=u?function(){return u.cur()}:function(){return i.css(n,t,"")},o=l(),e=r&&r[3]||(i.cssNumber[t]?"":"px"),f=(i.cssNumber[t]||"px"!==e&&+o)&&vt.exec(i.css(n,t));if(f&&f[3]!==e){for(o/=2,e=e||f[3],f=+o||1;c--;)i.style(n,t,f+e),(1-h)*(1-(h=l()/o||.5))<=0&&(c=0),f/=h;f*=2;i.style(n,t,f+e);r=r||[]}return r&&(f=+f||+o||0,s=r[1]?f+(r[1]+1)*r[2]:+r[2],u&&(u.unit=e,u.start=f,u.end=s)),s}function oe(n){var r,f=n.ownerDocument,u=n.nodeName,t=ai[u];return t||(r=f.body.appendChild(f.createElement(u)),t=i.css(r,"display"),r.parentNode.removeChild(r),"none"===t&&(t="block"),ai[u]=t,t)}function ft(n,t){for(var e,u,f=[],i=0,o=n.length;i<o;i++)(u=n[i]).style&&(e=u.style.display,t?("none"===e&&(f[i]=r.get(u,"display")||null,f[i]||(u.style.display="")),""===u.style.display&&ti(u)&&(f[i]=oe(u))):"none"!==e&&(f[i]="none",r.set(u,"display",e)));for(i=0;i<o;i++)null!=f[i]&&(n[i].style.display=f[i]);return n}function s(n,t){var r;return r="undefined"!=typeof n.getElementsByTagName?n.getElementsByTagName(t||"*"):"undefined"!=typeof n.querySelectorAll?n.querySelectorAll(t||"*"):[],void 0===t||t&&v(n,t)?i.merge([n],r):r}function vi(n,t){for(var i=0,u=n.length;i<u;i++)r.set(n[i],"globalEval",!t||r.get(t[i],"globalEval"))}function eu(n,t,r,u,f){for(var e,o,p,a,w,v,h=t.createDocumentFragment(),y=[],l=0,b=n.length;l<b;l++)if((e=n[l])||0===e)if("object"===it(e))i.merge(y,e.nodeType?[e]:e);else if(fu.test(e)){for(o=o||h.appendChild(t.createElement("div")),p=(ru.exec(e)||["",""])[1].toLowerCase(),a=c[p]||c._default,o.innerHTML=a[1]+i.htmlPrefilter(e)+a[2],v=a[0];v--;)o=o.lastChild;i.merge(y,o.childNodes);(o=h.firstChild).textContent=""}else y.push(t.createTextNode(e));for(h.textContent="",l=0;e=y[l++];)if(u&&i.inArray(e,u)>-1)f&&f.push(e);else if(w=i.contains(e.ownerDocument,e),o=s(h.appendChild(e),"script"),w&&vi(o),r)for(v=0;e=o[v++];)uu.test(e.type||"")&&r.push(e);return h}function ri(){return!0}function et(){return!1}function su(){try{return f.activeElement}catch(n){}}function yi(n,t,r,u,f,e){var o,s;if("object"==typeof t){"string"!=typeof r&&(u=u||r,r=void 0);for(s in t)yi(n,s,r,u,t[s],e);return n}if(null==u&&null==f?(f=r,u=r=void 0):null==f&&("string"==typeof r?(f=u,u=void 0):(f=u,u=r,r=void 0)),!1===f)f=et;else if(!f)return n;return 1===e&&(o=f,(f=function(n){return i().off(n),o.apply(this,arguments)}).guid=o.guid||(o.guid=i.guid++)),n.each(function(){i.event.add(this,t,f,u,r)})}function hu(n,t){return v(n,"table")&&v(11!==t.nodeType?t:t.firstChild,"tr")?i(n).children("tbody")[0]||n:n}function ye(n){return n.type=(null!==n.getAttribute("type"))+"/"+n.type,n}function pe(n){return"true/"===(n.type||"").slice(0,5)?n.type=n.type.slice(5):n.removeAttribute("type"),n}function cu(n,t){var u,c,f,s,h,l,a,e;if(1===t.nodeType){if(r.hasData(n)&&(s=r.access(n),h=r.set(t,s),e=s.events)){delete h.handle;h.events={};for(f in e)for(u=0,c=e[f].length;u<c;u++)i.event.add(t,f,e[f][u])}o.hasData(n)&&(l=o.access(n),a=i.extend({},l),o.set(t,a))}}function we(n,t){var i=t.nodeName.toLowerCase();"input"===i&&iu.test(n.type)?t.checked=n.checked:"input"!==i&&"textarea"!==i||(t.defaultValue=n.defaultValue)}function ot(n,t,f,o){t=er.apply([],t);var l,w,a,v,h,b,c=0,y=n.length,d=y-1,p=t[0],k=u(p);if(k||y>1&&"string"==typeof p&&!e.checkClone&&ae.test(p))return n.each(function(i){var r=n.eq(i);k&&(t[0]=p.call(this,i,r.html()));ot(r,t,f,o)});if(y&&(l=eu(t,n[0].ownerDocument,!1,n,o),w=l.firstChild,1===l.childNodes.length&&(l=w),w||o)){for(v=(a=i.map(s(l,"script"),ye)).length;c<y;c++)h=l,c!==d&&(h=i.clone(h,!0,!0),v&&i.merge(a,s(h,"script"))),f.call(n[c],h,c);if(v)for(b=a[a.length-1].ownerDocument,i.map(a,pe),c=0;c<v;c++)h=a[c],uu.test(h.type||"")&&!r.access(h,"globalEval")&&i.contains(b,h)&&(h.src&&"module"!==(h.type||"").toLowerCase()?i._evalUrl&&i._evalUrl(h.src):hr(h.textContent.replace(ve,""),b,h))}return n}function lu(n,t,r){for(var u,e=t?i.filter(t,n):n,f=0;null!=(u=e[f]);f++)r||1!==u.nodeType||i.cleanData(s(u)),u.parentNode&&(r&&i.contains(u.ownerDocument,u)&&vi(s(u,"script")),u.parentNode.removeChild(u));return n}function yt(n,t,r){var o,s,h,f,u=n.style;return(r=r||ui(n))&&(""!==(f=r.getPropertyValue(t)||r[t])||i.contains(n.ownerDocument,n)||(f=i.style(n,t)),!e.pixelBoxStyles()&&pi.test(f)&&be.test(t)&&(o=u.width,s=u.minWidth,h=u.maxWidth,u.minWidth=u.maxWidth=u.width=f,f=r.width,u.width=o,u.minWidth=s,u.maxWidth=h)),void 0!==f?f+"":f}function au(n,t){return{get:function(){if(!n())return(this.get=t).apply(this,arguments);delete this.get}}}function ge(n){if(n in wu)return n;for(var i=n[0].toUpperCase()+n.slice(1),t=pu.length;t--;)if((n=pu[t]+i)in wu)return n}function bu(n){var t=i.cssProps[n];return t||(t=i.cssProps[n]=ge(n)||n),t}function ku(n,t,i){var r=vt.exec(t);return r?Math.max(0,r[2]-(i||0))+(r[3]||"px"):t}function wi(n,t,r,u,f,e){var o="width"===t?1:0,h=0,s=0;if(r===(u?"border":"content"))return 0;for(;o<4;o+=2)"margin"===r&&(s+=i.css(n,r+w[o],!0,f)),u?("content"===r&&(s-=i.css(n,"padding"+w[o],!0,f)),"margin"!==r&&(s-=i.css(n,"border"+w[o]+"Width",!0,f))):(s+=i.css(n,"padding"+w[o],!0,f),"padding"!==r?s+=i.css(n,"border"+w[o]+"Width",!0,f):h+=i.css(n,"border"+w[o]+"Width",!0,f));return!u&&e>=0&&(s+=Math.max(0,Math.ceil(n["offset"+t[0].toUpperCase()+t.slice(1)]-e-s-h-.5))),s}function du(n,t,r){var f=ui(n),u=yt(n,t,f),s="border-box"===i.css(n,"boxSizing",!1,f),o=s;if(pi.test(u)){if(!r)return u;u="auto"}return o=o&&(e.boxSizingReliable()||u===n.style[t]),("auto"===u||!parseFloat(u)&&"inline"===i.css(n,"display",!1,f))&&(u=n["offset"+t[0].toUpperCase()+t.slice(1)],o=!0),(u=parseFloat(u)||0)+wi(n,t,r||(s?"border":"content"),o,f,u)+"px"}function h(n,t,i,r,u){return new h.prototype.init(n,t,i,r,u)}function bi(){fi&&(!1===f.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(bi):n.setTimeout(bi,i.fx.interval),i.fx.tick())}function tf(){return n.setTimeout(function(){st=void 0}),st=Date.now()}function ei(n,t){var u,r=0,i={height:n};for(t=t?1:0;r<4;r+=2-t)i["margin"+(u=w[r])]=i["padding"+u]=n;return t&&(i.opacity=i.width=n),i}function rf(n,t,i){for(var u,f=(a.tweeners[t]||[]).concat(a.tweeners["*"]),r=0,e=f.length;r<e;r++)if(u=f[r].call(i,t,n))return u}function no(n,t,u){var f,y,w,c,b,h,o,l,k="width"in t||"height"in t,v=this,p={},s=n.style,a=n.nodeType&&ti(n),e=r.get(n,"fxshow");u.queue||(null==(c=i._queueHooks(n,"fx")).unqueued&&(c.unqueued=0,b=c.empty.fire,c.empty.fire=function(){c.unqueued||b()}),c.unqueued++,v.always(function(){v.always(function(){c.unqueued--;i.queue(n,"fx").length||c.empty.fire()})}));for(f in t)if(y=t[f],gu.test(y)){if(delete t[f],w=w||"toggle"===y,y===(a?"hide":"show")){if("show"!==y||!e||void 0===e[f])continue;a=!0}p[f]=e&&e[f]||i.style(n,f)}if((h=!i.isEmptyObject(t))||!i.isEmptyObject(p)){k&&1===n.nodeType&&(u.overflow=[s.overflow,s.overflowX,s.overflowY],null==(o=e&&e.display)&&(o=r.get(n,"display")),"none"===(l=i.css(n,"display"))&&(o?l=o:(ft([n],!0),o=n.style.display||o,l=i.css(n,"display"),ft([n]))),("inline"===l||"inline-block"===l&&null!=o)&&"none"===i.css(n,"float")&&(h||(v.done(function(){s.display=o}),null==o&&(l=s.display,o="none"===l?"":l)),s.display="inline-block"));u.overflow&&(s.overflow="hidden",v.always(function(){s.overflow=u.overflow[0];s.overflowX=u.overflow[1];s.overflowY=u.overflow[2]}));h=!1;for(f in p)h||(e?"hidden"in e&&(a=e.hidden):e=r.access(n,"fxshow",{display:o}),w&&(e.hidden=!a),a&&ft([n],!0),v.done(function(){a||ft([n]);r.remove(n,"fxshow");for(f in p)i.style(n,f,p[f])})),h=rf(a?e[f]:0,f,v),f in e||(e[f]=h.start,a&&(h.end=h.start,h.start=0))}}function to(n,t){var r,f,e,u,o;for(r in n)if(f=y(r),e=t[f],u=n[r],Array.isArray(u)&&(e=u[1],u=n[r]=u[0]),r!==f&&(n[f]=u,delete n[r]),(o=i.cssHooks[f])&&"expand"in o){u=o.expand(u);delete n[f];for(r in u)r in n||(n[r]=u[r],t[r]=e)}else t[f]=e}function a(n,t,r){var o,s,h=0,v=a.prefilters.length,e=i.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var o=st||tf(),t=Math.max(0,f.startTime+f.duration-o),i=1-(t/f.duration||0),r=0,u=f.tweens.length;r<u;r++)f.tweens[r].run(i);return e.notifyWith(n,[f,i,t]),i<1&&u?t:(u||e.notifyWith(n,[f,1,0]),e.resolveWith(n,[f]),!1)},f=e.promise({elem:n,props:i.extend({},t),opts:i.extend(!0,{specialEasing:{},easing:i.easing._default},r),originalProperties:t,originalOptions:r,startTime:st||tf(),duration:r.duration,tweens:[],createTween:function(t,r){var u=i.Tween(n,f.opts,t,r,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(u),u},stop:function(t){var i=0,r=t?f.tweens.length:0;if(s)return this;for(s=!0;i<r;i++)f.tweens[i].run(1);return t?(e.notifyWith(n,[f,1,0]),e.resolveWith(n,[f,t])):e.rejectWith(n,[f,t]),this}}),c=f.props;for(to(c,f.opts.specialEasing);h<v;h++)if(o=a.prefilters[h].call(f,n,c,f.opts))return u(o.stop)&&(i._queueHooks(f.elem,f.opts.queue).stop=o.stop.bind(o)),o;return i.map(c,rf,f),u(f.opts.start)&&f.opts.start.call(n,f),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always),i.fx.timer(i.extend(l,{elem:n,anim:f,queue:f.opts.queue})),f}function g(n){return(n.match(l)||[]).join(" ")}function nt(n){return n.getAttribute&&n.getAttribute("class")||""}function ki(n){return Array.isArray(n)?n:"string"==typeof n?n.match(l)||[]:[]}function tr(n,t,r,u){var f;if(Array.isArray(t))i.each(t,function(t,i){r||io.test(n)?u(n,i):tr(n+"["+("object"==typeof i&&null!=i?t:"")+"]",i,r,u)});else if(r||"object"!==it(t))u(n,t);else for(f in t)tr(n+"["+f+"]",t[f],r,u)}function af(n){return function(t,i){"string"!=typeof t&&(i=t,t="*");var r,f=0,e=t.toLowerCase().match(l)||[];if(u(i))while(r=e[f++])"+"===r[0]?(r=r.slice(1)||"*",(n[r]=n[r]||[]).unshift(i)):(n[r]=n[r]||[]).push(i)}}function vf(n,t,r,u){function e(s){var h;return f[s]=!0,i.each(n[s]||[],function(n,i){var s=i(t,r,u);return"string"!=typeof s||o||f[s]?o?!(h=s):void 0:(t.dataTypes.unshift(s),e(s),!1)}),h}var f={},o=n===ir;return e(t.dataTypes[0])||!f["*"]&&e("*")}function ur(n,t){var r,u,f=i.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((f[r]?n:u||(u={}))[r]=t[r]);return u&&i.extend(!0,n,u),n}function lo(n,t,i){for(var e,u,f,o,s=n.contents,r=n.dataTypes;"*"===r[0];)r.shift(),void 0===e&&(e=n.mimeType||t.getResponseHeader("Content-Type"));if(e)for(u in s)if(s[u]&&s[u].test(e)){r.unshift(u);break}if(r[0]in i)f=r[0];else{for(u in i){if(!r[0]||n.converters[u+" "+r[0]]){f=u;break}o||(o=u)}f=f||o}if(f)return f!==r[0]&&r.unshift(f),i[f]}function ao(n,t,i,r){var h,u,f,s,e,o={},c=n.dataTypes.slice();if(c[1])for(f in n.converters)o[f.toLowerCase()]=n.converters[f];for(u=c.shift();u;)if(n.responseFields[u]&&(i[n.responseFields[u]]=t),!e&&r&&n.dataFilter&&(t=n.dataFilter(t,n.dataType)),e=u,u=c.shift())if("*"===u)u=e;else if("*"!==e&&e!==u){if(!(f=o[e+" "+u]||o["* "+u]))for(h in o)if((s=h.split(" "))[1]===u&&(f=o[e+" "+s[0]]||o["* "+s[0]])){!0===f?f=o[h]:!0!==o[h]&&(u=s[0],c.unshift(s[1]));break}if(!0!==f)if(f&&n.throws)t=f(t);else try{t=f(t)}catch(n){return{state:"parsererror",error:f?n:"No conversion from "+e+" to "+u}}}return{state:"success",data:t}}var k=[],f=n.document,bf=Object.getPrototypeOf,d=k.slice,er=k.concat,si=k.push,wt=k.indexOf,bt={},or=bt.toString,kt=bt.hasOwnProperty,sr=kt.toString,kf=sr.call(Object),e={},u=function(n){return"function"==typeof n&&"number"!=typeof n.nodeType},tt=function(n){return null!=n&&n===n.window},df={type:!0,src:!0,noModule:!0},i=function(n,t){return new i.fn.init(n,t)},gf=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,b,ci,ar,vr,yr,pr,l,kr,gt,lt,ai,fu,st,fi,gu,nf,uf,ht,ff,ef,of,di,gi,yf,ct,fr,oi,pf,wf;i.fn=i.prototype={jquery:"3.3.1",constructor:i,length:0,toArray:function(){return d.call(this)},get:function(n){return null==n?d.call(this):n<0?this[n+this.length]:this[n]},pushStack:function(n){var t=i.merge(this.constructor(),n);return t.prevObject=this,t},each:function(n){return i.each(this,n)},map:function(n){return this.pushStack(i.map(this,function(t,i){return n.call(t,i,t)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(n){var i=this.length,t=+n+(n<0?i:0);return this.pushStack(t>=0&&t<i?[this[t]]:[])},end:function(){return this.prevObject||this.constructor()},push:si,sort:k.sort,splice:k.splice};i.extend=i.fn.extend=function(){var o,e,t,r,s,h,n=arguments[0]||{},f=1,l=arguments.length,c=!1;for("boolean"==typeof n&&(c=n,n=arguments[f]||{},f++),"object"==typeof n||u(n)||(n={}),f===l&&(n=this,f--);f<l;f++)if(null!=(o=arguments[f]))for(e in o)t=n[e],n!==(r=o[e])&&(c&&r&&(i.isPlainObject(r)||(s=Array.isArray(r)))?(s?(s=!1,h=t&&Array.isArray(t)?t:[]):h=t&&i.isPlainObject(t)?t:{},n[e]=i.extend(c,h,r)):void 0!==r&&(n[e]=r));return n};i.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(n){throw new Error(n);},noop:function(){},isPlainObject:function(n){var t,i;return!(!n||"[object Object]"!==or.call(n))&&(!(t=bf(n))||"function"==typeof(i=kt.call(t,"constructor")&&t.constructor)&&sr.call(i)===kf)},isEmptyObject:function(n){for(var t in n)return!1;return!0},globalEval:function(n){hr(n)},each:function(n,t){var r,i=0;if(hi(n)){for(r=n.length;i<r;i++)if(!1===t.call(n[i],i,n[i]))break}else for(i in n)if(!1===t.call(n[i],i,n[i]))break;return n},trim:function(n){return null==n?"":(n+"").replace(gf,"")},makeArray:function(n,t){var r=t||[];return null!=n&&(hi(Object(n))?i.merge(r,"string"==typeof n?[n]:n):si.call(r,n)),r},inArray:function(n,t,i){return null==t?-1:wt.call(t,n,i)},merge:function(n,t){for(var u=+t.length,i=0,r=n.length;i<u;i++)n[r++]=t[i];return n.length=r,n},grep:function(n,t,i){for(var f,u=[],r=0,e=n.length,o=!i;r<e;r++)(f=!t(n[r],r))!==o&&u.push(n[r]);return u},map:function(n,t,i){var e,u,r=0,f=[];if(hi(n))for(e=n.length;r<e;r++)null!=(u=t(n[r],r,i))&&f.push(u);else for(r in n)null!=(u=t(n[r],r,i))&&f.push(u);return er.apply([],f)},guid:1,support:e});"function"==typeof Symbol&&(i.fn[Symbol.iterator]=k[Symbol.iterator]);i.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(n,t){bt["[object "+t+"]"]=t.toLowerCase()});b=function(n){function u(n,t,r,u){var s,p,l,a,w,d,g,y=t&&t.ownerDocument,v=t?t.nodeType:9;if(r=r||[],"string"!=typeof n||!n||1!==v&&9!==v&&11!==v)return r;if(!u&&((t?t.ownerDocument||t:c)!==i&&b(t),t=t||i,h)){if(11!==v&&(w=cr.exec(n)))if(s=w[1]){if(9===v){if(!(l=t.getElementById(s)))return r;if(l.id===s)return r.push(l),r}else if(y&&(l=y.getElementById(s))&&et(t,l)&&l.id===s)return r.push(l),r}else{if(w[2])return k.apply(r,t.getElementsByTagName(n)),r;if((s=w[3])&&e.getElementsByClassName&&t.getElementsByClassName)return k.apply(r,t.getElementsByClassName(s)),r}if(e.qsa&&!lt[n+" "]&&(!o||!o.test(n))){if(1!==v)y=t,g=n;else if("object"!==t.nodeName.toLowerCase()){for((a=t.getAttribute("id"))?a=a.replace(vi,yi):t.setAttribute("id",a=f),p=(d=ft(n)).length;p--;)d[p]="#"+a+" "+yt(d[p]);g=d.join(",");y=ni.test(n)&&ri(t.parentNode)||t}if(g)try{return k.apply(r,y.querySelectorAll(g)),r}catch(n){}finally{a===f&&t.removeAttribute("id")}}}return si(n.replace(at,"$1"),t,r,u)}function ti(){function n(r,u){return i.push(r+" ")>t.cacheLength&&delete n[i.shift()],n[r+" "]=u}var i=[];return n}function l(n){return n[f]=!0,n}function a(n){var t=i.createElement("fieldset");try{return!!n(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t);t=null}}function ii(n,i){for(var r=n.split("|"),u=r.length;u--;)t.attrHandle[r[u]]=i}function wi(n,t){var i=t&&n,r=i&&1===n.nodeType&&1===t.nodeType&&n.sourceIndex-t.sourceIndex;if(r)return r;if(i)while(i=i.nextSibling)if(i===t)return-1;return n?1:-1}function ar(n){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===n}}function vr(n){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===n}}function bi(n){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===n:t.disabled===n:t.isDisabled===n||t.isDisabled!==!n&&lr(t)===n:t.disabled===n:"label"in t&&t.disabled===n}}function it(n){return l(function(t){return t=+t,l(function(i,r){for(var u,f=n([],i.length,t),e=f.length;e--;)i[u=f[e]]&&(i[u]=!(r[u]=i[u]))})})}function ri(n){return n&&"undefined"!=typeof n.getElementsByTagName&&n}function ki(){}function yt(n){for(var t=0,r=n.length,i="";t<r;t++)i+=n[t].value;return i}function pt(n,t,i){var r=t.dir,u=t.next,e=u||r,o=i&&"parentNode"===e,s=di++;return t.first?function(t,i,u){while(t=t[r])if(1===t.nodeType||o)return n(t,i,u);return!1}:function(t,i,h){var c,l,a,y=[v,s];if(h){while(t=t[r])if((1===t.nodeType||o)&&n(t,i,h))return!0}else while(t=t[r])if(1===t.nodeType||o)if(a=t[f]||(t[f]={}),l=a[t.uniqueID]||(a[t.uniqueID]={}),u&&u===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=l[e])&&c[0]===v&&c[1]===s)return y[2]=c[2];if(l[e]=y,y[2]=n(t,i,h))return!0}return!1}}function ui(n){return n.length>1?function(t,i,r){for(var u=n.length;u--;)if(!n[u](t,i,r))return!1;return!0}:n[0]}function yr(n,t,i){for(var r=0,f=t.length;r<f;r++)u(n,t[r],i);return i}function wt(n,t,i,r,u){for(var e,o=[],f=0,s=n.length,h=null!=t;f<s;f++)(e=n[f])&&(i&&!i(e,r,u)||(o.push(e),h&&t.push(f)));return o}function fi(n,t,i,r,u,e){return r&&!r[f]&&(r=fi(r)),u&&!u[f]&&(u=fi(u,e)),l(function(f,e,o,s){var l,c,a,p=[],y=[],w=e.length,b=f||yr(t||"*",o.nodeType?[o]:o,[]),v=!n||!f&&t?b:wt(b,p,n,o,s),h=i?u||(f?n:w||r)?[]:e:v;if(i&&i(v,h,o,s),r)for(l=wt(h,y),r(l,[],o,s),c=l.length;c--;)(a=l[c])&&(h[y[c]]=!(v[y[c]]=a));if(f){if(u||n){if(u){for(l=[],c=h.length;c--;)(a=h[c])&&l.push(v[c]=a);u(null,h=[],l,s)}for(c=h.length;c--;)(a=h[c])&&(l=u?nt(f,a):p[c])>-1&&(f[l]=!(e[l]=a))}}else h=wt(h===e?h.splice(w,h.length):h),u?u(null,e,h,s):k.apply(e,h)})}function ei(n){for(var o,u,r,s=n.length,h=t.relative[n[0].type],c=h||t.relative[" "],i=h?1:0,l=pt(function(n){return n===o},c,!0),a=pt(function(n){return nt(o,n)>-1},c,!0),e=[function(n,t,i){var r=!h&&(i||t!==ht)||((o=t).nodeType?l(n,t,i):a(n,t,i));return o=null,r}];i<s;i++)if(u=t.relative[n[i].type])e=[pt(ui(e),u)];else{if((u=t.filter[n[i].type].apply(null,n[i].matches))[f]){for(r=++i;r<s;r++)if(t.relative[n[r].type])break;return fi(i>1&&ui(e),i>1&&yt(n.slice(0,i-1).concat({value:" "===n[i-2].type?"*":""})).replace(at,"$1"),u,i<r&&ei(n.slice(i,r)),r<s&&ei(n=n.slice(r)),r<s&&yt(n))}e.push(u)}return ui(e)}function pr(n,r){var f=r.length>0,e=n.length>0,o=function(o,s,c,l,a){var y,nt,d,g=0,p="0",tt=o&&[],w=[],it=ht,rt=o||e&&t.find.TAG("*",a),ut=v+=null==it?1:Math.random()||.1,ft=rt.length;for(a&&(ht=s===i||s||a);p!==ft&&null!=(y=rt[p]);p++){if(e&&y){for(nt=0,s||y.ownerDocument===i||(b(y),c=!h);d=n[nt++];)if(d(y,s||i,c)){l.push(y);break}a&&(v=ut)}f&&((y=!d&&y)&&g--,o&&tt.push(y))}if(g+=p,f&&p!==g){for(nt=0;d=r[nt++];)d(tt,w,s,c);if(o){if(g>0)while(p--)tt[p]||w[p]||(w[p]=nr.call(l));w=wt(w)}k.apply(l,w);a&&!o&&w.length>0&&g+r.length>1&&u.uniqueSort(l)}return a&&(v=ut,ht=it),tt};return f?l(o):o}var rt,e,t,st,oi,ft,bt,si,ht,w,ut,b,i,s,h,o,d,ct,et,f="sizzle"+1*new Date,c=n.document,v=0,di=0,hi=ti(),ci=ti(),lt=ti(),kt=function(n,t){return n===t&&(ut=!0),0},gi={}.hasOwnProperty,g=[],nr=g.pop,tr=g.push,k=g.push,li=g.slice,nt=function(n,t){for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i;return-1},dt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",r="[\\x20\\t\\r\\n\\f]",tt="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ai="\\["+r+"*("+tt+")(?:"+r+"*([*^$|!~]?=)"+r+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+tt+"))|)"+r+"*\\]",gt=":("+tt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ai+")*)|.*)\\)|)",ir=new RegExp(r+"+","g"),at=new RegExp("^"+r+"+|((?:^|[^\\\\])(?:\\\\.)*)"+r+"+$","g"),rr=new RegExp("^"+r+"*,"+r+"*"),ur=new RegExp("^"+r+"*([>+~]|"+r+")"+r+"*"),fr=new RegExp("="+r+"*([^\\]'\"]*?)"+r+"*\\]","g"),er=new RegExp(gt),or=new RegExp("^"+tt+"$"),vt={ID:new RegExp("^#("+tt+")"),CLASS:new RegExp("^\\.("+tt+")"),TAG:new RegExp("^("+tt+"|[*])"),ATTR:new RegExp("^"+ai),PSEUDO:new RegExp("^"+gt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+r+"*(even|odd|(([+-]|)(\\d*)n|)"+r+"*(?:([+-]|)"+r+"*(\\d+)|))"+r+"*\\)|)","i"),bool:new RegExp("^(?:"+dt+")$","i"),needsContext:new RegExp("^"+r+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+r+"*((?:-\\d)?\\d*)"+r+"*\\)|)(?=[^-]|$)","i")},sr=/^(?:input|select|textarea|button)$/i,hr=/^h\d$/i,ot=/^[^{]+\{\s*\[native \w/,cr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ni=/[+~]/,y=new RegExp("\\\\([\\da-f]{1,6}"+r+"?|("+r+")|.)","ig"),p=function(n,t,i){var r="0x"+t-65536;return r!==r||i?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},vi=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,yi=function(n,t){return t?"\0"===n?"�":n.slice(0,-1)+"\\"+n.charCodeAt(n.length-1).toString(16)+" ":"\\"+n},pi=function(){b()},lr=pt(function(n){return!0===n.disabled&&("form"in n||"label"in n)},{dir:"parentNode",next:"legend"});try{k.apply(g=li.call(c.childNodes),c.childNodes);g[c.childNodes.length].nodeType}catch(n){k={apply:g.length?function(n,t){tr.apply(n,li.call(t))}:function(n,t){for(var i=n.length,r=0;n[i++]=t[r++];);n.length=i-1}}}e=u.support={};oi=u.isXML=function(n){var t=n&&(n.ownerDocument||n).documentElement;return!!t&&"HTML"!==t.nodeName};b=u.setDocument=function(n){var v,u,l=n?n.ownerDocument||n:c;return l!==i&&9===l.nodeType&&l.documentElement?(i=l,s=i.documentElement,h=!oi(i),c!==i&&(u=i.defaultView)&&u.top!==u&&(u.addEventListener?u.addEventListener("unload",pi,!1):u.attachEvent&&u.attachEvent("onunload",pi)),e.attributes=a(function(n){return n.className="i",!n.getAttribute("className")}),e.getElementsByTagName=a(function(n){return n.appendChild(i.createComment("")),!n.getElementsByTagName("*").length}),e.getElementsByClassName=ot.test(i.getElementsByClassName),e.getById=a(function(n){return s.appendChild(n).id=f,!i.getElementsByName||!i.getElementsByName(f).length}),e.getById?(t.filter.ID=function(n){var t=n.replace(y,p);return function(n){return n.getAttribute("id")===t}},t.find.ID=function(n,t){if("undefined"!=typeof t.getElementById&&h){var i=t.getElementById(n);return i?[i]:[]}}):(t.filter.ID=function(n){var t=n.replace(y,p);return function(n){var i="undefined"!=typeof n.getAttributeNode&&n.getAttributeNode("id");return i&&i.value===t}},t.find.ID=function(n,t){if("undefined"!=typeof t.getElementById&&h){var r,u,f,i=t.getElementById(n);if(i){if((r=i.getAttributeNode("id"))&&r.value===n)return[i];for(f=t.getElementsByName(n),u=0;i=f[u++];)if((r=i.getAttributeNode("id"))&&r.value===n)return[i]}return[]}}),t.find.TAG=e.getElementsByTagName?function(n,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(n):e.qsa?t.querySelectorAll(n):void 0}:function(n,t){var i,r=[],f=0,u=t.getElementsByTagName(n);if("*"===n){while(i=u[f++])1===i.nodeType&&r.push(i);return r}return u},t.find.CLASS=e.getElementsByClassName&&function(n,t){if("undefined"!=typeof t.getElementsByClassName&&h)return t.getElementsByClassName(n)},d=[],o=[],(e.qsa=ot.test(i.querySelectorAll))&&(a(function(n){s.appendChild(n).innerHTML="<a id='"+f+"'><\/a><select id='"+f+"-\r\\' msallowcapture=''><option selected=''><\/option><\/select>";n.querySelectorAll("[msallowcapture^='']").length&&o.push("[*^$]="+r+"*(?:''|\"\")");n.querySelectorAll("[selected]").length||o.push("\\["+r+"*(?:value|"+dt+")");n.querySelectorAll("[id~="+f+"-]").length||o.push("~=");n.querySelectorAll(":checked").length||o.push(":checked");n.querySelectorAll("a#"+f+"+*").length||o.push(".#.+[+~]")}),a(function(n){n.innerHTML="<a href='' disabled='disabled'><\/a><select disabled='disabled'><option/><\/select>";var t=i.createElement("input");t.setAttribute("type","hidden");n.appendChild(t).setAttribute("name","D");n.querySelectorAll("[name=d]").length&&o.push("name"+r+"*[*^$|!~]?=");2!==n.querySelectorAll(":enabled").length&&o.push(":enabled",":disabled");s.appendChild(n).disabled=!0;2!==n.querySelectorAll(":disabled").length&&o.push(":enabled",":disabled");n.querySelectorAll("*,:x");o.push(",.*:")})),(e.matchesSelector=ot.test(ct=s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.oMatchesSelector||s.msMatchesSelector))&&a(function(n){e.disconnectedMatch=ct.call(n,"*");ct.call(n,"[s!='']:x");d.push("!=",gt)}),o=o.length&&new RegExp(o.join("|")),d=d.length&&new RegExp(d.join("|")),v=ot.test(s.compareDocumentPosition),et=v||ot.test(s.contains)?function(n,t){var r=9===n.nodeType?n.documentElement:n,i=t&&t.parentNode;return n===i||!(!i||1!==i.nodeType||!(r.contains?r.contains(i):n.compareDocumentPosition&&16&n.compareDocumentPosition(i)))}:function(n,t){if(t)while(t=t.parentNode)if(t===n)return!0;return!1},kt=v?function(n,t){if(n===t)return ut=!0,0;var r=!n.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(n.ownerDocument||n)===(t.ownerDocument||t)?n.compareDocumentPosition(t):1)||!e.sortDetached&&t.compareDocumentPosition(n)===r?n===i||n.ownerDocument===c&&et(c,n)?-1:t===i||t.ownerDocument===c&&et(c,t)?1:w?nt(w,n)-nt(w,t):0:4&r?-1:1)}:function(n,t){if(n===t)return ut=!0,0;var r,u=0,o=n.parentNode,s=t.parentNode,f=[n],e=[t];if(!o||!s)return n===i?-1:t===i?1:o?-1:s?1:w?nt(w,n)-nt(w,t):0;if(o===s)return wi(n,t);for(r=n;r=r.parentNode;)f.unshift(r);for(r=t;r=r.parentNode;)e.unshift(r);while(f[u]===e[u])u++;return u?wi(f[u],e[u]):f[u]===c?-1:e[u]===c?1:0},i):i};u.matches=function(n,t){return u(n,null,null,t)};u.matchesSelector=function(n,t){if((n.ownerDocument||n)!==i&&b(n),t=t.replace(fr,"='$1']"),e.matchesSelector&&h&&!lt[t+" "]&&(!d||!d.test(t))&&(!o||!o.test(t)))try{var r=ct.call(n,t);if(r||e.disconnectedMatch||n.document&&11!==n.document.nodeType)return r}catch(n){}return u(t,i,null,[n]).length>0};u.contains=function(n,t){return(n.ownerDocument||n)!==i&&b(n),et(n,t)};u.attr=function(n,r){(n.ownerDocument||n)!==i&&b(n);var f=t.attrHandle[r.toLowerCase()],u=f&&gi.call(t.attrHandle,r.toLowerCase())?f(n,r,!h):void 0;return void 0!==u?u:e.attributes||!h?n.getAttribute(r):(u=n.getAttributeNode(r))&&u.specified?u.value:null};u.escape=function(n){return(n+"").replace(vi,yi)};u.error=function(n){throw new Error("Syntax error, unrecognized expression: "+n);};u.uniqueSort=function(n){var r,u=[],t=0,i=0;if(ut=!e.detectDuplicates,w=!e.sortStable&&n.slice(0),n.sort(kt),ut){while(r=n[i++])r===n[i]&&(t=u.push(i));while(t--)n.splice(u[t],1)}return w=null,n};st=u.getText=function(n){var r,i="",u=0,t=n.nodeType;if(t){if(1===t||9===t||11===t){if("string"==typeof n.textContent)return n.textContent;for(n=n.firstChild;n;n=n.nextSibling)i+=st(n)}else if(3===t||4===t)return n.nodeValue}else while(r=n[u++])i+=st(r);return i};(t=u.selectors={cacheLength:50,createPseudo:l,match:vt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(n){return n[1]=n[1].replace(y,p),n[3]=(n[3]||n[4]||n[5]||"").replace(y,p),"~="===n[2]&&(n[3]=" "+n[3]+" "),n.slice(0,4)},CHILD:function(n){return n[1]=n[1].toLowerCase(),"nth"===n[1].slice(0,3)?(n[3]||u.error(n[0]),n[4]=+(n[4]?n[5]+(n[6]||1):2*("even"===n[3]||"odd"===n[3])),n[5]=+(n[7]+n[8]||"odd"===n[3])):n[3]&&u.error(n[0]),n},PSEUDO:function(n){var i,t=!n[6]&&n[2];return vt.CHILD.test(n[0])?null:(n[3]?n[2]=n[4]||n[5]||"":t&&er.test(t)&&(i=ft(t,!0))&&(i=t.indexOf(")",t.length-i)-t.length)&&(n[0]=n[0].slice(0,i),n[2]=t.slice(0,i)),n.slice(0,3))}},filter:{TAG:function(n){var t=n.replace(y,p).toLowerCase();return"*"===n?function(){return!0}:function(n){return n.nodeName&&n.nodeName.toLowerCase()===t}},CLASS:function(n){var t=hi[n+" "];return t||(t=new RegExp("(^|"+r+")"+n+"("+r+"|$)"))&&hi(n,function(n){return t.test("string"==typeof n.className&&n.className||"undefined"!=typeof n.getAttribute&&n.getAttribute("class")||"")})},ATTR:function(n,t,i){return function(r){var f=u.attr(r,n);return null==f?"!="===t:!t||(f+="","="===t?f===i:"!="===t?f!==i:"^="===t?i&&0===f.indexOf(i):"*="===t?i&&f.indexOf(i)>-1:"$="===t?i&&f.slice(-i.length)===i:"~="===t?(" "+f.replace(ir," ")+" ").indexOf(i)>-1:"|="===t&&(f===i||f.slice(0,i.length+1)===i+"-"))}},CHILD:function(n,t,i,r,u){var s="nth"!==n.slice(0,3),o="last"!==n.slice(-4),e="of-type"===t;return 1===r&&0===u?function(n){return!!n.parentNode}:function(t,i,h){var p,d,y,c,a,w,b=s!==o?"nextSibling":"previousSibling",k=t.parentNode,nt=e&&t.nodeName.toLowerCase(),g=!h&&!e,l=!1;if(k){if(s){while(b){for(c=t;c=c[b];)if(e?c.nodeName.toLowerCase()===nt:1===c.nodeType)return!1;w=b="only"===n&&!w&&"nextSibling"}return!0}if(w=[o?k.firstChild:k.lastChild],o&&g){for(l=(a=(p=(d=(y=(c=k)[f]||(c[f]={}))[c.uniqueID]||(y[c.uniqueID]={}))[n]||[])[0]===v&&p[1])&&p[2],c=a&&k.childNodes[a];c=++a&&c&&c[b]||(l=a=0)||w.pop();)if(1===c.nodeType&&++l&&c===t){d[n]=[v,a,l];break}}else if(g&&(l=a=(p=(d=(y=(c=t)[f]||(c[f]={}))[c.uniqueID]||(y[c.uniqueID]={}))[n]||[])[0]===v&&p[1]),!1===l)while(c=++a&&c&&c[b]||(l=a=0)||w.pop())if((e?c.nodeName.toLowerCase()===nt:1===c.nodeType)&&++l&&(g&&((d=(y=c[f]||(c[f]={}))[c.uniqueID]||(y[c.uniqueID]={}))[n]=[v,l]),c===t))break;return(l-=u)===r||l%r==0&&l/r>=0}}},PSEUDO:function(n,i){var e,r=t.pseudos[n]||t.setFilters[n.toLowerCase()]||u.error("unsupported pseudo: "+n);return r[f]?r(i):r.length>1?(e=[n,n,"",i],t.setFilters.hasOwnProperty(n.toLowerCase())?l(function(n,t){for(var e,u=r(n,i),f=u.length;f--;)n[e=nt(n,u[f])]=!(t[e]=u[f])}):function(n){return r(n,0,e)}):r}},pseudos:{not:l(function(n){var t=[],r=[],i=bt(n.replace(at,"$1"));return i[f]?l(function(n,t,r,u){for(var e,o=i(n,null,u,[]),f=n.length;f--;)(e=o[f])&&(n[f]=!(t[f]=e))}):function(n,u,f){return t[0]=n,i(t,null,f,r),t[0]=null,!r.pop()}}),has:l(function(n){return function(t){return u(n,t).length>0}}),contains:l(function(n){return n=n.replace(y,p),function(t){return(t.textContent||t.innerText||st(t)).indexOf(n)>-1}}),lang:l(function(n){return or.test(n||"")||u.error("unsupported lang: "+n),n=n.replace(y,p).toLowerCase(),function(t){var i;do if(i=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===n||0===i.indexOf(n+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=n.location&&n.location.hash;return i&&i.slice(1)===t.id},root:function(n){return n===s},focus:function(n){return n===i.activeElement&&(!i.hasFocus||i.hasFocus())&&!!(n.type||n.href||~n.tabIndex)},enabled:bi(!1),disabled:bi(!0),checked:function(n){var t=n.nodeName.toLowerCase();return"input"===t&&!!n.checked||"option"===t&&!!n.selected},selected:function(n){return n.parentNode&&n.parentNode.selectedIndex,!0===n.selected},empty:function(n){for(n=n.firstChild;n;n=n.nextSibling)if(n.nodeType<6)return!1;return!0},parent:function(n){return!t.pseudos.empty(n)},header:function(n){return hr.test(n.nodeName)},input:function(n){return sr.test(n.nodeName)},button:function(n){var t=n.nodeName.toLowerCase();return"input"===t&&"button"===n.type||"button"===t},text:function(n){var t;return"input"===n.nodeName.toLowerCase()&&"text"===n.type&&(null==(t=n.getAttribute("type"))||"text"===t.toLowerCase())},first:it(function(){return[0]}),last:it(function(n,t){return[t-1]}),eq:it(function(n,t,i){return[i<0?i+t:i]}),even:it(function(n,t){for(var i=0;i<t;i+=2)n.push(i);return n}),odd:it(function(n,t){for(var i=1;i<t;i+=2)n.push(i);return n}),lt:it(function(n,t,i){for(var r=i<0?i+t:i;--r>=0;)n.push(r);return n}),gt:it(function(n,t,i){for(var r=i<0?i+t:i;++r<t;)n.push(r);return n})}}).pseudos.nth=t.pseudos.eq;for(rt in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[rt]=ar(rt);for(rt in{submit:!0,reset:!0})t.pseudos[rt]=vr(rt);return ki.prototype=t.filters=t.pseudos,t.setFilters=new ki,ft=u.tokenize=function(n,i){var e,f,s,o,r,h,c,l=ci[n+" "];if(l)return i?0:l.slice(0);for(r=n,h=[],c=t.preFilter;r;){(!e||(f=rr.exec(r)))&&(f&&(r=r.slice(f[0].length)||r),h.push(s=[]));e=!1;(f=ur.exec(r))&&(e=f.shift(),s.push({value:e,type:f[0].replace(at," ")}),r=r.slice(e.length));for(o in t.filter)(f=vt[o].exec(r))&&(!c[o]||(f=c[o](f)))&&(e=f.shift(),s.push({value:e,type:o,matches:f}),r=r.slice(e.length));if(!e)break}return i?r.length:r?u.error(n):ci(n,h).slice(0)},bt=u.compile=function(n,t){var r,u=[],e=[],i=lt[n+" "];if(!i){for(t||(t=ft(n)),r=t.length;r--;)(i=ei(t[r]))[f]?u.push(i):e.push(i);(i=lt(n,pr(e,u))).selector=n}return i},si=u.select=function(n,i,r,u){var o,f,e,l,a,c="function"==typeof n&&n,s=!u&&ft(n=c.selector||n);if(r=r||[],1===s.length){if((f=s[0]=s[0].slice(0)).length>2&&"ID"===(e=f[0]).type&&9===i.nodeType&&h&&t.relative[f[1].type]){if(!(i=(t.find.ID(e.matches[0].replace(y,p),i)||[])[0]))return r;c&&(i=i.parentNode);n=n.slice(f.shift().value.length)}for(o=vt.needsContext.test(n)?0:f.length;o--;){if(e=f[o],t.relative[l=e.type])break;if((a=t.find[l])&&(u=a(e.matches[0].replace(y,p),ni.test(f[0].type)&&ri(i.parentNode)||i))){if(f.splice(o,1),!(n=u.length&&yt(f)))return k.apply(r,u),r;break}}}return(c||bt(n,s))(u,i,!h,r,!i||ni.test(n)&&ri(i.parentNode)||i),r},e.sortStable=f.split("").sort(kt).join("")===f,e.detectDuplicates=!!ut,b(),e.sortDetached=a(function(n){return 1&n.compareDocumentPosition(i.createElement("fieldset"))}),a(function(n){return n.innerHTML="<a href='#'><\/a>","#"===n.firstChild.getAttribute("href")})||ii("type|href|height|width",function(n,t,i){if(!i)return n.getAttribute(t,"type"===t.toLowerCase()?1:2)}),e.attributes&&a(function(n){return n.innerHTML="<input/>",n.firstChild.setAttribute("value",""),""===n.firstChild.getAttribute("value")})||ii("value",function(n,t,i){if(!i&&"input"===n.nodeName.toLowerCase())return n.defaultValue}),a(function(n){return null==n.getAttribute("disabled")})||ii(dt,function(n,t,i){var r;if(!i)return!0===n[t]?t.toLowerCase():(r=n.getAttributeNode(t))&&r.specified?r.value:null}),u}(n);i.find=b;i.expr=b.selectors;i.expr[":"]=i.expr.pseudos;i.uniqueSort=i.unique=b.uniqueSort;i.text=b.getText;i.isXMLDoc=b.isXML;i.contains=b.contains;i.escapeSelector=b.escape;var rt=function(n,t,r){for(var u=[],f=void 0!==r;(n=n[t])&&9!==n.nodeType;)if(1===n.nodeType){if(f&&i(n).is(r))break;u.push(n)}return u},cr=function(n,t){for(var i=[];n;n=n.nextSibling)1===n.nodeType&&n!==t&&i.push(n);return i},lr=i.expr.match.needsContext;ci=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;i.filter=function(n,t,r){var u=t[0];return r&&(n=":not("+n+")"),1===t.length&&1===u.nodeType?i.find.matchesSelector(u,n)?[u]:[]:i.find.matches(n,i.grep(t,function(n){return 1===n.nodeType}))};i.fn.extend({find:function(n){var t,r,u=this.length,f=this;if("string"!=typeof n)return this.pushStack(i(n).filter(function(){for(t=0;t<u;t++)if(i.contains(f[t],this))return!0}));for(r=this.pushStack([]),t=0;t<u;t++)i.find(n,f[t],r);return u>1?i.uniqueSort(r):r},filter:function(n){return this.pushStack(li(this,n||[],!1))},not:function(n){return this.pushStack(li(this,n||[],!0))},is:function(n){return!!li(this,"string"==typeof n&&lr.test(n)?i(n):n||[],!1).length}});vr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(i.fn.init=function(n,t,r){var e,o;if(!n)return this;if(r=r||ar,"string"==typeof n){if(!(e="<"===n[0]&&">"===n[n.length-1]&&n.length>=3?[null,n,null]:vr.exec(n))||!e[1]&&t)return!t||t.jquery?(t||r).find(n):this.constructor(t).find(n);if(e[1]){if(t=t instanceof i?t[0]:t,i.merge(this,i.parseHTML(e[1],t&&t.nodeType?t.ownerDocument||t:f,!0)),ci.test(e[1])&&i.isPlainObject(t))for(e in t)u(this[e])?this[e](t[e]):this.attr(e,t[e]);return this}return(o=f.getElementById(e[2]))&&(this[0]=o,this.length=1),this}return n.nodeType?(this[0]=n,this.length=1,this):u(n)?void 0!==r.ready?r.ready(n):n(i):i.makeArray(n,this)}).prototype=i.fn;ar=i(f);yr=/^(?:parents|prev(?:Until|All))/;pr={children:!0,contents:!0,next:!0,prev:!0};i.fn.extend({has:function(n){var t=i(n,this),r=t.length;return this.filter(function(){for(var n=0;n<r;n++)if(i.contains(this,t[n]))return!0})},closest:function(n,t){var r,f=0,o=this.length,u=[],e="string"!=typeof n&&i(n);if(!lr.test(n))for(;f<o;f++)for(r=this[f];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(e?e.index(r)>-1:1===r.nodeType&&i.find.matchesSelector(r,n))){u.push(r);break}return this.pushStack(u.length>1?i.uniqueSort(u):u)},index:function(n){return n?"string"==typeof n?wt.call(i(n),this[0]):wt.call(this,n.jquery?n[0]:n):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(n,t){return this.pushStack(i.uniqueSort(i.merge(this.get(),i(n,t))))},addBack:function(n){return this.add(null==n?this.prevObject:this.prevObject.filter(n))}});i.each({parent:function(n){var t=n.parentNode;return t&&11!==t.nodeType?t:null},parents:function(n){return rt(n,"parentNode")},parentsUntil:function(n,t,i){return rt(n,"parentNode",i)},next:function(n){return wr(n,"nextSibling")},prev:function(n){return wr(n,"previousSibling")},nextAll:function(n){return rt(n,"nextSibling")},prevAll:function(n){return rt(n,"previousSibling")},nextUntil:function(n,t,i){return rt(n,"nextSibling",i)},prevUntil:function(n,t,i){return rt(n,"previousSibling",i)},siblings:function(n){return cr((n.parentNode||{}).firstChild,n)},children:function(n){return cr(n.firstChild)},contents:function(n){return v(n,"iframe")?n.contentDocument:(v(n,"template")&&(n=n.content||n),i.merge([],n.childNodes))}},function(n,t){i.fn[n]=function(r,u){var f=i.map(this,t,r);return"Until"!==n.slice(-5)&&(u=r),u&&"string"==typeof u&&(f=i.filter(u,f)),this.length>1&&(pr[n]||i.uniqueSort(f),yr.test(n)&&f.reverse()),this.pushStack(f)}});l=/[^\x20\t\r\n\f]+/g;i.Callbacks=function(n){n="string"==typeof n?ne(n):i.extend({},n);var f,r,c,e,t=[],s=[],o=-1,l=function(){for(e=e||n.once,c=f=!0;s.length;o=-1)for(r=s.shift();++o<t.length;)!1===t[o].apply(r[0],r[1])&&n.stopOnFalse&&(o=t.length,r=!1);n.memory||(r=!1);f=!1;e&&(t=r?[]:"")},h={add:function(){return t&&(r&&!f&&(o=t.length-1,s.push(r)),function f(r){i.each(r,function(i,r){u(r)?n.unique&&h.has(r)||t.push(r):r&&r.length&&"string"!==it(r)&&f(r)})}(arguments),r&&!f&&l()),this},remove:function(){return i.each(arguments,function(n,r){for(var u;(u=i.inArray(r,t,u))>-1;)t.splice(u,1),u<=o&&o--}),this},has:function(n){return n?i.inArray(n,t)>-1:t.length>0},empty:function(){return t&&(t=[]),this},disable:function(){return e=s=[],t=r="",this},disabled:function(){return!t},lock:function(){return e=s=[],r||f||(t=r=""),this},locked:function(){return!!e},fireWith:function(n,t){return e||(t=[n,(t=t||[]).slice?t.slice():t],s.push(t),f||l()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!c}};return h};i.extend({Deferred:function(t){var f=[["notify","progress",i.Callbacks("memory"),i.Callbacks("memory"),2],["resolve","done",i.Callbacks("once memory"),i.Callbacks("once memory"),0,"resolved"],["reject","fail",i.Callbacks("once memory"),i.Callbacks("once memory"),1,"rejected"]],o="pending",e={state:function(){return o},always:function(){return r.done(arguments).fail(arguments),this},"catch":function(n){return e.then(null,n)},pipe:function(){var n=arguments;return i.Deferred(function(t){i.each(f,function(i,f){var e=u(n[f[4]])&&n[f[4]];r[f[1]](function(){var n=e&&e.apply(this,arguments);n&&u(n.promise)?n.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[f[0]+"With"](this,e?[n]:arguments)})});n=null}).promise()},then:function(t,r,e){function s(t,r,f,e){return function(){var h=this,c=arguments,a=function(){var n,i;if(!(t<o)){if((n=f.apply(h,c))===r.promise())throw new TypeError("Thenable self-resolution");i=n&&("object"==typeof n||"function"==typeof n)&&n.then;u(i)?e?i.call(n,s(o,r,ut,e),s(o,r,dt,e)):(o++,i.call(n,s(o,r,ut,e),s(o,r,dt,e),s(o,r,ut,r.notifyWith))):(f!==ut&&(h=void 0,c=[n]),(e||r.resolveWith)(h,c))}},l=e?a:function(){try{a()}catch(n){i.Deferred.exceptionHook&&i.Deferred.exceptionHook(n,l.stackTrace);t+1>=o&&(f!==dt&&(h=void 0,c=[n]),r.rejectWith(h,c))}};t?l():(i.Deferred.getStackHook&&(l.stackTrace=i.Deferred.getStackHook()),n.setTimeout(l))}}var o=0;return i.Deferred(function(n){f[0][3].add(s(0,n,u(e)?e:ut,n.notifyWith));f[1][3].add(s(0,n,u(t)?t:ut));f[2][3].add(s(0,n,u(r)?r:dt))}).promise()},promise:function(n){return null!=n?i.extend(n,e):e}},r={};return i.each(f,function(n,t){var i=t[2],u=t[5];e[t[1]]=i.add;u&&i.add(function(){o=u},f[3-n][2].disable,f[3-n][3].disable,f[0][2].lock,f[0][3].lock);i.add(t[3].fire);r[t[0]]=function(){return r[t[0]+"With"](this===r?void 0:this,arguments),this};r[t[0]+"With"]=i.fireWith}),e.promise(r),t&&t.call(r,r),r},when:function(n){var e=arguments.length,t=e,o=Array(t),f=d.call(arguments),r=i.Deferred(),s=function(n){return function(t){o[n]=this;f[n]=arguments.length>1?d.call(arguments):t;--e||r.resolveWith(o,f)}};if(e<=1&&(br(n,r.done(s(t)).resolve,r.reject,!e),"pending"===r.state()||u(f[t]&&f[t].then)))return r.then();while(t--)br(f[t],s(t),r.reject);return r.promise()}});kr=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;i.Deferred.exceptionHook=function(t,i){n.console&&n.console.warn&&t&&kr.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,i)};i.readyException=function(t){n.setTimeout(function(){throw t;})};gt=i.Deferred();i.fn.ready=function(n){return gt.then(n)["catch"](function(n){i.readyException(n)}),this};i.extend({isReady:!1,readyWait:1,ready:function(n){(!0===n?--i.readyWait:i.isReady)||(i.isReady=!0,!0!==n&&--i.readyWait>0||gt.resolveWith(f,[i]))}});i.ready.then=gt.then;"complete"===f.readyState||"loading"!==f.readyState&&!f.documentElement.doScroll?n.setTimeout(i.ready):(f.addEventListener("DOMContentLoaded",ni),n.addEventListener("load",ni));var p=function(n,t,r,f,e,o,s){var h=0,l=n.length,c=null==r;if("object"===it(r)){e=!0;for(h in r)p(n,t,h,r[h],!0,o,s)}else if(void 0!==f&&(e=!0,u(f)||(s=!0),c&&(s?(t.call(n,f),t=null):(c=t,t=function(n,t,r){return c.call(i(n),r)})),t))for(;h<l;h++)t(n[h],r,s?f:f.call(n[h],h,t(n[h],r)));return e?n:c?t.call(n):l?t(n[0],r):o},te=/^-ms-/,ie=/-([a-z])/g;lt=function(n){return 1===n.nodeType||9===n.nodeType||!+n.nodeType};at.uid=1;at.prototype={cache:function(n){var t=n[this.expando];return t||(t={},lt(n)&&(n.nodeType?n[this.expando]=t:Object.defineProperty(n,this.expando,{value:t,configurable:!0}))),t},set:function(n,t,i){var r,u=this.cache(n);if("string"==typeof t)u[y(t)]=i;else for(r in t)u[y(r)]=t[r];return u},get:function(n,t){return void 0===t?this.cache(n):n[this.expando]&&n[this.expando][y(t)]},access:function(n,t,i){return void 0===t||t&&"string"==typeof t&&void 0===i?this.get(n,t):(this.set(n,t,i),void 0!==i?i:t)},remove:function(n,t){var u,r=n[this.expando];if(void 0!==r){if(void 0!==t)for(u=(t=Array.isArray(t)?t.map(y):(t=y(t))in r?[t]:t.match(l)||[]).length;u--;)delete r[t[u]];(void 0===t||i.isEmptyObject(r))&&(n.nodeType?n[this.expando]=void 0:delete n[this.expando])}},hasData:function(n){var t=n[this.expando];return void 0!==t&&!i.isEmptyObject(t)}};var r=new at,o=new at,ue=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,fe=/[A-Z]/g;i.extend({hasData:function(n){return o.hasData(n)||r.hasData(n)},data:function(n,t,i){return o.access(n,t,i)},removeData:function(n,t){o.remove(n,t)},_data:function(n,t,i){return r.access(n,t,i)},_removeData:function(n,t){r.remove(n,t)}});i.fn.extend({data:function(n,t){var f,u,e,i=this[0],s=i&&i.attributes;if(void 0===n){if(this.length&&(e=o.get(i),1===i.nodeType&&!r.get(i,"hasDataAttrs"))){for(f=s.length;f--;)s[f]&&0===(u=s[f].name).indexOf("data-")&&(u=y(u.slice(5)),dr(i,u,e[u]));r.set(i,"hasDataAttrs",!0)}return e}return"object"==typeof n?this.each(function(){o.set(this,n)}):p(this,function(t){var r;if(i&&void 0===t){if(void 0!==(r=o.get(i,n))||void 0!==(r=dr(i,n)))return r}else this.each(function(){o.set(this,n,t)})},null,t,arguments.length>1,null,!0)},removeData:function(n){return this.each(function(){o.remove(this,n)})}});i.extend({queue:function(n,t,u){var f;if(n)return t=(t||"fx")+"queue",f=r.get(n,t),u&&(!f||Array.isArray(u)?f=r.access(n,t,i.makeArray(u)):f.push(u)),f||[]},dequeue:function(n,t){t=t||"fx";var r=i.queue(n,t),e=r.length,u=r.shift(),f=i._queueHooks(n,t),o=function(){i.dequeue(n,t)};"inprogress"===u&&(u=r.shift(),e--);u&&("fx"===t&&r.unshift("inprogress"),delete f.stop,u.call(n,o,f));!e&&f&&f.empty.fire()},_queueHooks:function(n,t){var u=t+"queueHooks";return r.get(n,u)||r.access(n,u,{empty:i.Callbacks("once memory").add(function(){r.remove(n,[t+"queue",u])})})}});i.fn.extend({queue:function(n,t){var r=2;return"string"!=typeof n&&(t=n,n="fx",r--),arguments.length<r?i.queue(this[0],n):void 0===t?this:this.each(function(){var r=i.queue(this,n,t);i._queueHooks(this,n);"fx"===n&&"inprogress"!==r[0]&&i.dequeue(this,n)})},dequeue:function(n){return this.each(function(){i.dequeue(this,n)})},clearQueue:function(n){return this.queue(n||"fx",[])},promise:function(n,t){var u,e=1,o=i.Deferred(),f=this,s=this.length,h=function(){--e||o.resolveWith(f,[f])};for("string"!=typeof n&&(t=n,n=void 0),n=n||"fx";s--;)(u=r.get(f[s],n+"queueHooks"))&&u.empty&&(e++,u.empty.add(h));return h(),o.promise(t)}});var gr=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,vt=new RegExp("^(?:([+-])=|)("+gr+")([a-z%]*)$","i"),w=["Top","Right","Bottom","Left"],ti=function(n,t){return"none"===(n=t||n).style.display||""===n.style.display&&i.contains(n.ownerDocument,n)&&"none"===i.css(n,"display")},nu=function(n,t,i,r){var f,u,e={};for(u in t)e[u]=n.style[u],n.style[u]=t[u];f=i.apply(n,r||[]);for(u in t)n.style[u]=e[u];return f};ai={};i.fn.extend({show:function(){return ft(this,!0)},hide:function(){return ft(this)},toggle:function(n){return"boolean"==typeof n?n?this.show():this.hide():this.each(function(){ti(this)?i(this).show():i(this).hide()})}});var iu=/^(?:checkbox|radio)$/i,ru=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,uu=/^$|^module$|\/(?:java|ecma)script/i,c={option:[1,"<select multiple='multiple'>","<\/select>"],thead:[1,"<table>","<\/table>"],col:[2,"<table><colgroup>","<\/colgroup><\/table>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],td:[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],_default:[0,"",""]};c.optgroup=c.option;c.tbody=c.tfoot=c.colgroup=c.caption=c.thead;c.th=c.td;fu=/<|&#?\w+;/;!function(){var n=f.createDocumentFragment().appendChild(f.createElement("div")),t=f.createElement("input");t.setAttribute("type","radio");t.setAttribute("checked","checked");t.setAttribute("name","t");n.appendChild(t);e.checkClone=n.cloneNode(!0).cloneNode(!0).lastChild.checked;n.innerHTML="<textarea>x<\/textarea>";e.noCloneChecked=!!n.cloneNode(!0).lastChild.defaultValue}();var ii=f.documentElement,se=/^key/,he=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ou=/^([^.]*)(?:\.(.+)|)/;i.event={global:{},add:function(n,t,u,f,e){var p,v,k,y,w,h,s,c,o,b,d,a=r.get(n);if(a)for(u.handler&&(u=(p=u).handler,e=p.selector),e&&i.find.matchesSelector(ii,e),u.guid||(u.guid=i.guid++),(y=a.events)||(y=a.events={}),(v=a.handle)||(v=a.handle=function(t){if("undefined"!=typeof i&&i.event.triggered!==t.type)return i.event.dispatch.apply(n,arguments)}),w=(t=(t||"").match(l)||[""]).length;w--;)o=d=(k=ou.exec(t[w])||[])[1],b=(k[2]||"").split(".").sort(),o&&(s=i.event.special[o]||{},o=(e?s.delegateType:s.bindType)||o,s=i.event.special[o]||{},h=i.extend({type:o,origType:d,data:f,handler:u,guid:u.guid,selector:e,needsContext:e&&i.expr.match.needsContext.test(e),namespace:b.join(".")},p),(c=y[o])||((c=y[o]=[]).delegateCount=0,s.setup&&!1!==s.setup.call(n,f,b,v)||n.addEventListener&&n.addEventListener(o,v)),s.add&&(s.add.call(n,h),h.handler.guid||(h.handler.guid=u.guid)),e?c.splice(c.delegateCount++,0,h):c.push(h),i.event.global[o]=!0)},remove:function(n,t,u,f,e){var y,k,h,v,p,s,c,a,o,b,d,w=r.hasData(n)&&r.get(n);if(w&&(v=w.events)){for(p=(t=(t||"").match(l)||[""]).length;p--;)if(h=ou.exec(t[p])||[],o=d=h[1],b=(h[2]||"").split(".").sort(),o){for(c=i.event.special[o]||{},a=v[o=(f?c.delegateType:c.bindType)||o]||[],h=h[2]&&new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"),k=y=a.length;y--;)s=a[y],!e&&d!==s.origType||u&&u.guid!==s.guid||h&&!h.test(s.namespace)||f&&f!==s.selector&&("**"!==f||!s.selector)||(a.splice(y,1),s.selector&&a.delegateCount--,c.remove&&c.remove.call(n,s));k&&!a.length&&(c.teardown&&!1!==c.teardown.call(n,b,w.handle)||i.removeEvent(n,o,w.handle),delete v[o])}else for(o in v)i.event.remove(n,o+t[p],u,f,!0);i.isEmptyObject(v)&&r.remove(n,"handle events")}},dispatch:function(n){var t=i.event.fix(n),u,h,c,e,f,l,s=new Array(arguments.length),a=(r.get(this,"events")||{})[t.type]||[],o=i.event.special[t.type]||{};for(s[0]=t,u=1;u<arguments.length;u++)s[u]=arguments[u];if(t.delegateTarget=this,!o.preDispatch||!1!==o.preDispatch.call(this,t)){for(l=i.event.handlers.call(this,t,a),u=0;(e=l[u++])&&!t.isPropagationStopped();)for(t.currentTarget=e.elem,h=0;(f=e.handlers[h++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(f.namespace)||(t.handleObj=f,t.data=f.data,void 0!==(c=((i.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,s))&&!1===(t.result=c)&&(t.preventDefault(),t.stopPropagation()));return o.postDispatch&&o.postDispatch.call(this,t),t.result}},handlers:function(n,t){var f,h,u,e,o,c=[],s=t.delegateCount,r=n.target;if(s&&r.nodeType&&!("click"===n.type&&n.button>=1))for(;r!==this;r=r.parentNode||this)if(1===r.nodeType&&("click"!==n.type||!0!==r.disabled)){for(e=[],o={},f=0;f<s;f++)void 0===o[u=(h=t[f]).selector+" "]&&(o[u]=h.needsContext?i(u,this).index(r)>-1:i.find(u,this,null,[r]).length),o[u]&&e.push(h);e.length&&c.push({elem:r,handlers:e})}return r=this,s<t.length&&c.push({elem:r,handlers:t.slice(s)}),c},addProp:function(n,t){Object.defineProperty(i.Event.prototype,n,{enumerable:!0,configurable:!0,get:u(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[n]},set:function(t){Object.defineProperty(this,n,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(n){return n[i.expando]?n:new i.Event(n)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==su()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===su()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&v(this,"input"))return this.click(),!1},_default:function(n){return v(n.target,"a")}},beforeunload:{postDispatch:function(n){void 0!==n.result&&n.originalEvent&&(n.originalEvent.returnValue=n.result)}}}};i.removeEvent=function(n,t,i){n.removeEventListener&&n.removeEventListener(t,i)};i.Event=function(n,t){if(!(this instanceof i.Event))return new i.Event(n,t);n&&n.type?(this.originalEvent=n,this.type=n.type,this.isDefaultPrevented=n.defaultPrevented||void 0===n.defaultPrevented&&!1===n.returnValue?ri:et,this.target=n.target&&3===n.target.nodeType?n.target.parentNode:n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget):this.type=n;t&&i.extend(this,t);this.timeStamp=n&&n.timeStamp||Date.now();this[i.expando]=!0};i.Event.prototype={constructor:i.Event,isDefaultPrevented:et,isPropagationStopped:et,isImmediatePropagationStopped:et,isSimulated:!1,preventDefault:function(){var n=this.originalEvent;this.isDefaultPrevented=ri;n&&!this.isSimulated&&n.preventDefault()},stopPropagation:function(){var n=this.originalEvent;this.isPropagationStopped=ri;n&&!this.isSimulated&&n.stopPropagation()},stopImmediatePropagation:function(){var n=this.originalEvent;this.isImmediatePropagationStopped=ri;n&&!this.isSimulated&&n.stopImmediatePropagation();this.stopPropagation()}};i.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(n){var t=n.button;return null==n.which&&se.test(n.type)?null!=n.charCode?n.charCode:n.keyCode:!n.which&&void 0!==t&&he.test(n.type)?1&t?1:2&t?3:4&t?2:0:n.which}},i.event.addProp);i.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(n,t){i.event.special[n]={delegateType:t,bindType:t,handle:function(n){var u,f=this,r=n.relatedTarget,e=n.handleObj;return r&&(r===f||i.contains(f,r))||(n.type=e.origType,u=e.handler.apply(this,arguments),n.type=t),u}}});i.fn.extend({on:function(n,t,i,r){return yi(this,n,t,i,r)},one:function(n,t,i,r){return yi(this,n,t,i,r,1)},off:function(n,t,r){var u,f;if(n&&n.preventDefault&&n.handleObj)return u=n.handleObj,i(n.delegateTarget).off(u.namespace?u.origType+"."+u.namespace:u.origType,u.selector,u.handler),this;if("object"==typeof n){for(f in n)this.off(f,t,n[f]);return this}return!1!==t&&"function"!=typeof t||(r=t,t=void 0),!1===r&&(r=et),this.each(function(){i.event.remove(this,n,r,t)})}});var ce=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,le=/<script|<style|<link/i,ae=/checked\s*(?:[^=]|=\s*.checked.)/i,ve=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;i.extend({htmlPrefilter:function(n){return n.replace(ce,"<$1><\/$2>")},clone:function(n,t,r){var u,c,o,f,h=n.cloneNode(!0),l=i.contains(n.ownerDocument,n);if(!(e.noCloneChecked||1!==n.nodeType&&11!==n.nodeType||i.isXMLDoc(n)))for(f=s(h),u=0,c=(o=s(n)).length;u<c;u++)we(o[u],f[u]);if(t)if(r)for(o=o||s(n),f=f||s(h),u=0,c=o.length;u<c;u++)cu(o[u],f[u]);else cu(n,h);return(f=s(h,"script")).length>0&&vi(f,!l&&s(n,"script")),h},cleanData:function(n){for(var u,t,f,s=i.event.special,e=0;void 0!==(t=n[e]);e++)if(lt(t)){if(u=t[r.expando]){if(u.events)for(f in u.events)s[f]?i.event.remove(t,f):i.removeEvent(t,f,u.handle);t[r.expando]=void 0}t[o.expando]&&(t[o.expando]=void 0)}}});i.fn.extend({detach:function(n){return lu(this,n,!0)},remove:function(n){return lu(this,n)},text:function(n){return p(this,function(n){return void 0===n?i.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=n)})},null,n,arguments.length)},append:function(){return ot(this,arguments,function(n){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||hu(this,n).appendChild(n)})},prepend:function(){return ot(this,arguments,function(n){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=hu(this,n);t.insertBefore(n,t.firstChild)}})},before:function(){return ot(this,arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this)})},after:function(){return ot(this,arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling)})},empty:function(){for(var n,t=0;null!=(n=this[t]);t++)1===n.nodeType&&(i.cleanData(s(n,!1)),n.textContent="");return this},clone:function(n,t){return n=null!=n&&n,t=null==t?n:t,this.map(function(){return i.clone(this,n,t)})},html:function(n){return p(this,function(n){var t=this[0]||{},r=0,u=this.length;if(void 0===n&&1===t.nodeType)return t.innerHTML;if("string"==typeof n&&!le.test(n)&&!c[(ru.exec(n)||["",""])[1].toLowerCase()]){n=i.htmlPrefilter(n);try{for(;r<u;r++)1===(t=this[r]||{}).nodeType&&(i.cleanData(s(t,!1)),t.innerHTML=n);t=0}catch(n){}}t&&this.empty().append(n)},null,n,arguments.length)},replaceWith:function(){var n=[];return ot(this,arguments,function(t){var r=this.parentNode;i.inArray(this,n)<0&&(i.cleanData(s(this)),r&&r.replaceChild(t,this))},n)}});i.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(n,t){i.fn[n]=function(n){for(var u,f=[],e=i(n),o=e.length-1,r=0;r<=o;r++)u=r===o?this:this.clone(!0),i(e[r])[t](u),si.apply(f,u.get());return this.pushStack(f)}});var pi=new RegExp("^("+gr+")(?!px)[a-z%]+$","i"),ui=function(t){var i=t.ownerDocument.defaultView;return i&&i.opener||(i=n),i.getComputedStyle(t)},be=new RegExp(w.join("|"),"i");!function(){function r(){if(t){o.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0";t.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%";ii.appendChild(o).appendChild(t);var i=n.getComputedStyle(t);s="1%"!==i.top;a=12===u(i.marginLeft);t.style.right="60%";l=36===u(i.right);h=36===u(i.width);t.style.position="absolute";c=36===t.offsetWidth||"absolute";ii.removeChild(o);t=null}}function u(n){return Math.round(parseFloat(n))}var s,h,c,l,a,o=f.createElement("div"),t=f.createElement("div");t.style&&(t.style.backgroundClip="content-box",t.cloneNode(!0).style.backgroundClip="",e.clearCloneStyle="content-box"===t.style.backgroundClip,i.extend(e,{boxSizingReliable:function(){return r(),h},pixelBoxStyles:function(){return r(),l},pixelPosition:function(){return r(),s},reliableMarginLeft:function(){return r(),a},scrollboxSize:function(){return r(),c}}))}();var ke=/^(none|table(?!-c[ea]).+)/,vu=/^--/,de={position:"absolute",visibility:"hidden",display:"block"},yu={letterSpacing:"0",fontWeight:"400"},pu=["Webkit","Moz","ms"],wu=f.createElement("div").style;i.extend({cssHooks:{opacity:{get:function(n,t){if(t){var i=yt(n,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(n,t,r,u){if(n&&3!==n.nodeType&&8!==n.nodeType&&n.style){var f,h,o,c=y(t),l=vu.test(t),s=n.style;if(l||(t=bu(c)),o=i.cssHooks[t]||i.cssHooks[c],void 0===r)return o&&"get"in o&&void 0!==(f=o.get(n,!1,u))?f:s[t];"string"==(h=typeof r)&&(f=vt.exec(r))&&f[1]&&(r=tu(n,t,f),h="number");null!=r&&r===r&&("number"===h&&(r+=f&&f[3]||(i.cssNumber[c]?"":"px")),e.clearCloneStyle||""!==r||0!==t.indexOf("background")||(s[t]="inherit"),o&&"set"in o&&void 0===(r=o.set(n,r,u))||(l?s.setProperty(t,r):s[t]=r))}},css:function(n,t,r,u){var f,e,o,s=y(t);return vu.test(t)||(t=bu(s)),(o=i.cssHooks[t]||i.cssHooks[s])&&"get"in o&&(f=o.get(n,!0,r)),void 0===f&&(f=yt(n,t,u)),"normal"===f&&t in yu&&(f=yu[t]),""===r||r?(e=parseFloat(f),!0===r||isFinite(e)?e||0:f):f}});i.each(["height","width"],function(n,t){i.cssHooks[t]={get:function(n,r,u){if(r)return!ke.test(i.css(n,"display"))||n.getClientRects().length&&n.getBoundingClientRect().width?du(n,t,u):nu(n,de,function(){return du(n,t,u)})},set:function(n,r,u){var s,f=ui(n),h="border-box"===i.css(n,"boxSizing",!1,f),o=u&&wi(n,t,u,h,f);return h&&e.scrollboxSize()===f.position&&(o-=Math.ceil(n["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(f[t])-wi(n,t,"border",!1,f)-.5)),o&&(s=vt.exec(r))&&"px"!==(s[3]||"px")&&(n.style[t]=r,r=i.css(n,t)),ku(n,r,o)}}});i.cssHooks.marginLeft=au(e.reliableMarginLeft,function(n,t){if(t)return(parseFloat(yt(n,"marginLeft"))||n.getBoundingClientRect().left-nu(n,{marginLeft:0},function(){return n.getBoundingClientRect().left}))+"px"});i.each({margin:"",padding:"",border:"Width"},function(n,t){i.cssHooks[n+t]={expand:function(i){for(var r=0,f={},u="string"==typeof i?i.split(" "):[i];r<4;r++)f[n+w[r]+t]=u[r]||u[r-2]||u[0];return f}};"margin"!==n&&(i.cssHooks[n+t].set=ku)});i.fn.extend({css:function(n,t){return p(this,function(n,t,r){var f,e,o={},u=0;if(Array.isArray(t)){for(f=ui(n),e=t.length;u<e;u++)o[t[u]]=i.css(n,t[u],!1,f);return o}return void 0!==r?i.style(n,t,r):i.css(n,t)},n,t,arguments.length>1)}});i.Tween=h;h.prototype={constructor:h,init:function(n,t,r,u,f,e){this.elem=n;this.prop=r;this.easing=f||i.easing._default;this.options=t;this.start=this.now=this.cur();this.end=u;this.unit=e||(i.cssNumber[r]?"":"px")},cur:function(){var n=h.propHooks[this.prop];return n&&n.get?n.get(this):h.propHooks._default.get(this)},run:function(n){var t,r=h.propHooks[this.prop];return this.pos=this.options.duration?t=i.easing[this.easing](n,this.options.duration*n,0,1,this.options.duration):t=n,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):h.propHooks._default.set(this),this}};h.prototype.init.prototype=h.prototype;h.propHooks={_default:{get:function(n){var t;return 1!==n.elem.nodeType||null!=n.elem[n.prop]&&null==n.elem.style[n.prop]?n.elem[n.prop]:(t=i.css(n.elem,n.prop,""))&&"auto"!==t?t:0},set:function(n){i.fx.step[n.prop]?i.fx.step[n.prop](n):1!==n.elem.nodeType||null==n.elem.style[i.cssProps[n.prop]]&&!i.cssHooks[n.prop]?n.elem[n.prop]=n.now:i.style(n.elem,n.prop,n.now+n.unit)}}};h.propHooks.scrollTop=h.propHooks.scrollLeft={set:function(n){n.elem.nodeType&&n.elem.parentNode&&(n.elem[n.prop]=n.now)}};i.easing={linear:function(n){return n},swing:function(n){return.5-Math.cos(n*Math.PI)/2},_default:"swing"};i.fx=h.prototype.init;i.fx.step={};gu=/^(?:toggle|show|hide)$/;nf=/queueHooks$/;i.Animation=i.extend(a,{tweeners:{"*":[function(n,t){var i=this.createTween(n,t);return tu(i.elem,n,vt.exec(t),i),i}]},tweener:function(n,t){u(n)?(t=n,n=["*"]):n=n.match(l);for(var i,r=0,f=n.length;r<f;r++)i=n[r],a.tweeners[i]=a.tweeners[i]||[],a.tweeners[i].unshift(t)},prefilters:[no],prefilter:function(n,t){t?a.prefilters.unshift(n):a.prefilters.push(n)}});i.speed=function(n,t,r){var f=n&&"object"==typeof n?i.extend({},n):{complete:r||!r&&t||u(n)&&n,duration:n,easing:r&&t||t&&!u(t)&&t};return i.fx.off?f.duration=0:"number"!=typeof f.duration&&(f.duration=f.duration in i.fx.speeds?i.fx.speeds[f.duration]:i.fx.speeds._default),null!=f.queue&&!0!==f.queue||(f.queue="fx"),f.old=f.complete,f.complete=function(){u(f.old)&&f.old.call(this);f.queue&&i.dequeue(this,f.queue)},f};i.fn.extend({fadeTo:function(n,t,i,r){return this.filter(ti).css("opacity",0).show().end().animate({opacity:t},n,i,r)},animate:function(n,t,u,f){var s=i.isEmptyObject(n),o=i.speed(t,u,f),e=function(){var t=a(this,i.extend({},n),o);(s||r.get(this,"finish"))&&t.stop(!0)};return e.finish=e,s||!1===o.queue?this.each(e):this.queue(o.queue,e)},stop:function(n,t,u){var f=function(n){var t=n.stop;delete n.stop;t(u)};return"string"!=typeof n&&(u=t,t=n,n=void 0),t&&!1!==n&&this.queue(n||"fx",[]),this.each(function(){var s=!0,t=null!=n&&n+"queueHooks",o=i.timers,e=r.get(this);if(t)e[t]&&e[t].stop&&f(e[t]);else for(t in e)e[t]&&e[t].stop&&nf.test(t)&&f(e[t]);for(t=o.length;t--;)o[t].elem!==this||null!=n&&o[t].queue!==n||(o[t].anim.stop(u),s=!1,o.splice(t,1));!s&&u||i.dequeue(this,n)})},finish:function(n){return!1!==n&&(n=n||"fx"),this.each(function(){var t,e=r.get(this),u=e[n+"queue"],o=e[n+"queueHooks"],f=i.timers,s=u?u.length:0;for(e.finish=!0,i.queue(this,n,[]),o&&o.stop&&o.stop.call(this,!0),t=f.length;t--;)f[t].elem===this&&f[t].queue===n&&(f[t].anim.stop(!0),f.splice(t,1));for(t=0;t<s;t++)u[t]&&u[t].finish&&u[t].finish.call(this);delete e.finish})}});i.each(["toggle","show","hide"],function(n,t){var r=i.fn[t];i.fn[t]=function(n,i,u){return null==n||"boolean"==typeof n?r.apply(this,arguments):this.animate(ei(t,!0),n,i,u)}});i.each({slideDown:ei("show"),slideUp:ei("hide"),slideToggle:ei("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(n,t){i.fn[n]=function(n,i,r){return this.animate(t,n,i,r)}});i.timers=[];i.fx.tick=function(){var r,n=0,t=i.timers;for(st=Date.now();n<t.length;n++)(r=t[n])()||t[n]!==r||t.splice(n--,1);t.length||i.fx.stop();st=void 0};i.fx.timer=function(n){i.timers.push(n);i.fx.start()};i.fx.interval=13;i.fx.start=function(){fi||(fi=!0,bi())};i.fx.stop=function(){fi=null};i.fx.speeds={slow:600,fast:200,_default:400};i.fn.delay=function(t,r){return t=i.fx?i.fx.speeds[t]||t:t,r=r||"fx",this.queue(r,function(i,r){var u=n.setTimeout(i,t);r.stop=function(){n.clearTimeout(u)}})},function(){var n=f.createElement("input"),t=f.createElement("select").appendChild(f.createElement("option"));n.type="checkbox";e.checkOn=""!==n.value;e.optSelected=t.selected;(n=f.createElement("input")).value="t";n.type="radio";e.radioValue="t"===n.value}();ht=i.expr.attrHandle;i.fn.extend({attr:function(n,t){return p(this,i.attr,n,t,arguments.length>1)},removeAttr:function(n){return this.each(function(){i.removeAttr(this,n)})}});i.extend({attr:function(n,t,r){var f,u,e=n.nodeType;if(3!==e&&8!==e&&2!==e)return"undefined"==typeof n.getAttribute?i.prop(n,t,r):(1===e&&i.isXMLDoc(n)||(u=i.attrHooks[t.toLowerCase()]||(i.expr.match.bool.test(t)?uf:void 0)),void 0!==r?null===r?void i.removeAttr(n,t):u&&"set"in u&&void 0!==(f=u.set(n,r,t))?f:(n.setAttribute(t,r+""),r):u&&"get"in u&&null!==(f=u.get(n,t))?f:null==(f=i.find.attr(n,t))?void 0:f)},attrHooks:{type:{set:function(n,t){if(!e.radioValue&&"radio"===t&&v(n,"input")){var i=n.value;return n.setAttribute("type",t),i&&(n.value=i),t}}}},removeAttr:function(n,t){var i,u=0,r=t&&t.match(l);if(r&&1===n.nodeType)while(i=r[u++])n.removeAttribute(i)}});uf={set:function(n,t,r){return!1===t?i.removeAttr(n,r):n.setAttribute(r,r),r}};i.each(i.expr.match.bool.source.match(/\w+/g),function(n,t){var r=ht[t]||i.find.attr;ht[t]=function(n,t,i){var f,e,u=t.toLowerCase();return i||(e=ht[u],ht[u]=f,f=null!=r(n,t,i)?u:null,ht[u]=e),f}});ff=/^(?:input|select|textarea|button)$/i;ef=/^(?:a|area)$/i;i.fn.extend({prop:function(n,t){return p(this,i.prop,n,t,arguments.length>1)},removeProp:function(n){return this.each(function(){delete this[i.propFix[n]||n]})}});i.extend({prop:function(n,t,r){var f,u,e=n.nodeType;if(3!==e&&8!==e&&2!==e)return 1===e&&i.isXMLDoc(n)||(t=i.propFix[t]||t,u=i.propHooks[t]),void 0!==r?u&&"set"in u&&void 0!==(f=u.set(n,r,t))?f:n[t]=r:u&&"get"in u&&null!==(f=u.get(n,t))?f:n[t]},propHooks:{tabIndex:{get:function(n){var t=i.find.attr(n,"tabindex");return t?parseInt(t,10):ff.test(n.nodeName)||ef.test(n.nodeName)&&n.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});e.optSelected||(i.propHooks.selected={get:function(n){var t=n.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(n){var t=n.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}});i.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){i.propFix[this.toLowerCase()]=this});i.fn.extend({addClass:function(n){var o,t,r,f,e,s,h,c=0;if(u(n))return this.each(function(t){i(this).addClass(n.call(this,t,nt(this)))});if((o=ki(n)).length)while(t=this[c++])if(f=nt(t),r=1===t.nodeType&&" "+g(f)+" "){for(s=0;e=o[s++];)r.indexOf(" "+e+" ")<0&&(r+=e+" ");f!==(h=g(r))&&t.setAttribute("class",h)}return this},removeClass:function(n){var o,r,t,f,e,s,h,c=0;if(u(n))return this.each(function(t){i(this).removeClass(n.call(this,t,nt(this)))});if(!arguments.length)return this.attr("class","");if((o=ki(n)).length)while(r=this[c++])if(f=nt(r),t=1===r.nodeType&&" "+g(f)+" "){for(s=0;e=o[s++];)while(t.indexOf(" "+e+" ")>-1)t=t.replace(" "+e+" "," ");f!==(h=g(t))&&r.setAttribute("class",h)}return this},toggleClass:function(n,t){var f=typeof n,e="string"===f||Array.isArray(n);return"boolean"==typeof t&&e?t?this.addClass(n):this.removeClass(n):u(n)?this.each(function(r){i(this).toggleClass(n.call(this,r,nt(this),t),t)}):this.each(function(){var t,o,u,s;if(e)for(o=0,u=i(this),s=ki(n);t=s[o++];)u.hasClass(t)?u.removeClass(t):u.addClass(t);else void 0!==n&&"boolean"!==f||((t=nt(this))&&r.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===n?"":r.get(this,"__className__")||""))})},hasClass:function(n){for(var t,r=0,i=" "+n+" ";t=this[r++];)if(1===t.nodeType&&(" "+g(nt(t))+" ").indexOf(i)>-1)return!0;return!1}});of=/\r/g;i.fn.extend({val:function(n){var t,r,e,f=this[0];return arguments.length?(e=u(n),this.each(function(r){var u;1===this.nodeType&&(null==(u=e?n.call(this,r,i(this).val()):n)?u="":"number"==typeof u?u+="":Array.isArray(u)&&(u=i.map(u,function(n){return null==n?"":n+""})),(t=i.valHooks[this.type]||i.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,u,"value")||(this.value=u))})):f?(t=i.valHooks[f.type]||i.valHooks[f.nodeName.toLowerCase()])&&"get"in t&&void 0!==(r=t.get(f,"value"))?r:"string"==typeof(r=f.value)?r.replace(of,""):null==r?"":r:void 0}});i.extend({valHooks:{option:{get:function(n){var t=i.find.attr(n,"value");return null!=t?t:g(i.text(n))}},select:{get:function(n){for(var e,t,o=n.options,u=n.selectedIndex,f="select-one"===n.type,s=f?null:[],h=f?u+1:o.length,r=u<0?h:f?u:0;r<h;r++)if(((t=o[r]).selected||r===u)&&!t.disabled&&(!t.parentNode.disabled||!v(t.parentNode,"optgroup"))){if(e=i(t).val(),f)return e;s.push(e)}return s},set:function(n,t){for(var r,u,f=n.options,e=i.makeArray(t),o=f.length;o--;)((u=f[o]).selected=i.inArray(i.valHooks.option.get(u),e)>-1)&&(r=!0);return r||(n.selectedIndex=-1),e}}}});i.each(["radio","checkbox"],function(){i.valHooks[this]={set:function(n,t){if(Array.isArray(t))return n.checked=i.inArray(i(n).val(),t)>-1}};e.checkOn||(i.valHooks[this].get=function(n){return null===n.getAttribute("value")?"on":n.value})});e.focusin="onfocusin"in n;di=/^(?:focusinfocus|focusoutblur)$/;gi=function(n){n.stopPropagation()};i.extend(i.event,{trigger:function(t,e,o,s){var k,c,l,d,v,y,a,p,w=[o||f],h=kt.call(t,"type")?t.type:t,b=kt.call(t,"namespace")?t.namespace.split("."):[];if(c=p=l=o=o||f,3!==o.nodeType&&8!==o.nodeType&&!di.test(h+i.event.triggered)&&(h.indexOf(".")>-1&&(h=(b=h.split(".")).shift(),b.sort()),v=h.indexOf(":")<0&&"on"+h,t=t[i.expando]?t:new i.Event(h,"object"==typeof t&&t),t.isTrigger=s?2:3,t.namespace=b.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=o),e=null==e?[t]:i.makeArray(e,[t]),a=i.event.special[h]||{},s||!a.trigger||!1!==a.trigger.apply(o,e))){if(!s&&!a.noBubble&&!tt(o)){for(d=a.delegateType||h,di.test(d+h)||(c=c.parentNode);c;c=c.parentNode)w.push(c),l=c;l===(o.ownerDocument||f)&&w.push(l.defaultView||l.parentWindow||n)}for(k=0;(c=w[k++])&&!t.isPropagationStopped();)p=c,t.type=k>1?d:a.bindType||h,(y=(r.get(c,"events")||{})[t.type]&&r.get(c,"handle"))&&y.apply(c,e),(y=v&&c[v])&&y.apply&&lt(c)&&(t.result=y.apply(c,e),!1===t.result&&t.preventDefault());return t.type=h,s||t.isDefaultPrevented()||a._default&&!1!==a._default.apply(w.pop(),e)||!lt(o)||v&&u(o[h])&&!tt(o)&&((l=o[v])&&(o[v]=null),i.event.triggered=h,t.isPropagationStopped()&&p.addEventListener(h,gi),o[h](),t.isPropagationStopped()&&p.removeEventListener(h,gi),i.event.triggered=void 0,l&&(o[v]=l)),t.result}},simulate:function(n,t,r){var u=i.extend(new i.Event,r,{type:n,isSimulated:!0});i.event.trigger(u,null,t)}});i.fn.extend({trigger:function(n,t){return this.each(function(){i.event.trigger(n,t,this)})},triggerHandler:function(n,t){var r=this[0];if(r)return i.event.trigger(n,t,r,!0)}});e.focusin||i.each({focus:"focusin",blur:"focusout"},function(n,t){var u=function(n){i.event.simulate(t,n.target,i.event.fix(n))};i.event.special[t]={setup:function(){var i=this.ownerDocument||this,f=r.access(i,t);f||i.addEventListener(n,u,!0);r.access(i,t,(f||0)+1)},teardown:function(){var i=this.ownerDocument||this,f=r.access(i,t)-1;f?r.access(i,t,f):(i.removeEventListener(n,u,!0),r.remove(i,t))}}});var pt=n.location,sf=Date.now(),nr=/\?/;i.parseXML=function(t){var r;if(!t||"string"!=typeof t)return null;try{r=(new n.DOMParser).parseFromString(t,"text/xml")}catch(n){r=void 0}return r&&!r.getElementsByTagName("parsererror").length||i.error("Invalid XML: "+t),r};var io=/\[\]$/,hf=/\r?\n/g,ro=/^(?:submit|button|image|reset|file)$/i,uo=/^(?:input|select|textarea|keygen)/i;i.param=function(n,t){var r,f=[],e=function(n,t){var i=u(t)?t():t;f[f.length]=encodeURIComponent(n)+"="+encodeURIComponent(null==i?"":i)};if(Array.isArray(n)||n.jquery&&!i.isPlainObject(n))i.each(n,function(){e(this.name,this.value)});else for(r in n)tr(r,n[r],t,e);return f.join("&")};i.fn.extend({serialize:function(){return i.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var n=i.prop(this,"elements");return n?i.makeArray(n):this}).filter(function(){var n=this.type;return this.name&&!i(this).is(":disabled")&&uo.test(this.nodeName)&&!ro.test(n)&&(this.checked||!iu.test(n))}).map(function(n,t){var r=i(this).val();return null==r?null:Array.isArray(r)?i.map(r,function(n){return{name:t.name,value:n.replace(hf,"\r\n")}}):{name:t.name,value:r.replace(hf,"\r\n")}}).get()}});var fo=/%20/g,eo=/#.*$/,oo=/([?&])_=[^&]*/,so=/^(.*?):[ \t]*([^\r\n]*)$/gm,ho=/^(?:GET|HEAD)$/,co=/^\/\//,cf={},ir={},lf="*/".concat("*"),rr=f.createElement("a");return rr.href=pt.href,i.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:pt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(pt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":lf,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":i.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(n,t){return t?ur(ur(n,i.ajaxSettings),t):ur(i.ajaxSettings,n)},ajaxPrefilter:af(cf),ajaxTransport:af(ir),ajax:function(t,r){function b(t,r,f,c){var v,rt,b,p,g,l=r;s||(s=!0,d&&n.clearTimeout(d),a=void 0,k=c||"",e.readyState=t>0?4:0,v=t>=200&&t<300||304===t,f&&(p=lo(u,e,f)),p=ao(u,p,e,v),v?(u.ifModified&&((g=e.getResponseHeader("Last-Modified"))&&(i.lastModified[o]=g),(g=e.getResponseHeader("etag"))&&(i.etag[o]=g)),204===t||"HEAD"===u.type?l="nocontent":304===t?l="notmodified":(l=p.state,rt=p.data,v=!(b=p.error))):(b=l,!t&&l||(l="error",t<0&&(t=0))),e.status=t,e.statusText=(r||l)+"",v?tt.resolveWith(h,[rt,l,e]):tt.rejectWith(h,[e,l,b]),e.statusCode(w),w=void 0,y&&nt.trigger(v?"ajaxSuccess":"ajaxError",[e,u,v?rt:b]),it.fireWith(h,[e,l]),y&&(nt.trigger("ajaxComplete",[e,u]),--i.active||i.event.trigger("ajaxStop")))}"object"==typeof t&&(r=t,t=void 0);r=r||{};var a,o,k,v,d,c,s,y,g,p,u=i.ajaxSetup({},r),h=u.context||u,nt=u.context&&(h.nodeType||h.jquery)?i(h):i.event,tt=i.Deferred(),it=i.Callbacks("once memory"),w=u.statusCode||{},rt={},ut={},ft="canceled",e={readyState:0,getResponseHeader:function(n){var t;if(s){if(!v)for(v={};t=so.exec(k);)v[t[1].toLowerCase()]=t[2];t=v[n.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return s?k:null},setRequestHeader:function(n,t){return null==s&&(n=ut[n.toLowerCase()]=ut[n.toLowerCase()]||n,rt[n]=t),this},overrideMimeType:function(n){return null==s&&(u.mimeType=n),this},statusCode:function(n){var t;if(n)if(s)e.always(n[e.status]);else for(t in n)w[t]=[w[t],n[t]];return this},abort:function(n){var t=n||ft;return a&&a.abort(t),b(0,t),this}};if(tt.promise(e),u.url=((t||u.url||pt.href)+"").replace(co,pt.protocol+"//"),u.type=r.method||r.type||u.method||u.type,u.dataTypes=(u.dataType||"*").toLowerCase().match(l)||[""],null==u.crossDomain){c=f.createElement("a");try{c.href=u.url;c.href=c.href;u.crossDomain=rr.protocol+"//"+rr.host!=c.protocol+"//"+c.host}catch(n){u.crossDomain=!0}}if(u.data&&u.processData&&"string"!=typeof u.data&&(u.data=i.param(u.data,u.traditional)),vf(cf,u,r,e),s)return e;(y=i.event&&u.global)&&0==i.active++&&i.event.trigger("ajaxStart");u.type=u.type.toUpperCase();u.hasContent=!ho.test(u.type);o=u.url.replace(eo,"");u.hasContent?u.data&&u.processData&&0===(u.contentType||"").indexOf("application/x-www-form-urlencoded")&&(u.data=u.data.replace(fo,"+")):(p=u.url.slice(o.length),u.data&&(u.processData||"string"==typeof u.data)&&(o+=(nr.test(o)?"&":"?")+u.data,delete u.data),!1===u.cache&&(o=o.replace(oo,"$1"),p=(nr.test(o)?"&":"?")+"_="+sf+++p),u.url=o+p);u.ifModified&&(i.lastModified[o]&&e.setRequestHeader("If-Modified-Since",i.lastModified[o]),i.etag[o]&&e.setRequestHeader("If-None-Match",i.etag[o]));(u.data&&u.hasContent&&!1!==u.contentType||r.contentType)&&e.setRequestHeader("Content-Type",u.contentType);e.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+lf+"; q=0.01":""):u.accepts["*"]);for(g in u.headers)e.setRequestHeader(g,u.headers[g]);if(u.beforeSend&&(!1===u.beforeSend.call(h,e,u)||s))return e.abort();if(ft="abort",it.add(u.complete),e.done(u.success),e.fail(u.error),a=vf(ir,u,r,e)){if(e.readyState=1,y&&nt.trigger("ajaxSend",[e,u]),s)return e;u.async&&u.timeout>0&&(d=n.setTimeout(function(){e.abort("timeout")},u.timeout));try{s=!1;a.send(rt,b)}catch(n){if(s)throw n;b(-1,n)}}else b(-1,"No Transport");return e},getJSON:function(n,t,r){return i.get(n,t,r,"json")},getScript:function(n,t){return i.get(n,void 0,t,"script")}}),i.each(["get","post"],function(n,t){i[t]=function(n,r,f,e){return u(r)&&(e=e||f,f=r,r=void 0),i.ajax(i.extend({url:n,type:t,dataType:e,data:r,success:f},i.isPlainObject(n)&&n))}}),i._evalUrl=function(n){return i.ajax({url:n,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},i.fn.extend({wrapAll:function(n){var t;return this[0]&&(u(n)&&(n=n.call(this[0])),t=i(n,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var n=this;n.firstElementChild;)n=n.firstElementChild;return n}).append(this)),this},wrapInner:function(n){return u(n)?this.each(function(t){i(this).wrapInner(n.call(this,t))}):this.each(function(){var t=i(this),r=t.contents();r.length?r.wrapAll(n):t.append(n)})},wrap:function(n){var t=u(n);return this.each(function(r){i(this).wrapAll(t?n.call(this,r):n)})},unwrap:function(n){return this.parent(n).not("body").each(function(){i(this).replaceWith(this.childNodes)}),this}}),i.expr.pseudos.hidden=function(n){return!i.expr.pseudos.visible(n)},i.expr.pseudos.visible=function(n){return!!(n.offsetWidth||n.offsetHeight||n.getClientRects().length)},i.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(n){}},yf={0:200,1223:204},ct=i.ajaxSettings.xhr(),e.cors=!!ct&&"withCredentials"in ct,e.ajax=ct=!!ct,i.ajaxTransport(function(t){var i,r;if(e.cors||ct&&!t.crossDomain)return{send:function(u,f){var o,e=t.xhr();if(e.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)e[o]=t.xhrFields[o];t.mimeType&&e.overrideMimeType&&e.overrideMimeType(t.mimeType);t.crossDomain||u["X-Requested-With"]||(u["X-Requested-With"]="XMLHttpRequest");for(o in u)e.setRequestHeader(o,u[o]);i=function(n){return function(){i&&(i=r=e.onload=e.onerror=e.onabort=e.ontimeout=e.onreadystatechange=null,"abort"===n?e.abort():"error"===n?"number"!=typeof e.status?f(0,"error"):f(e.status,e.statusText):f(yf[e.status]||e.status,e.statusText,"text"!==(e.responseType||"text")||"string"!=typeof e.responseText?{binary:e.response}:{text:e.responseText},e.getAllResponseHeaders()))}};e.onload=i();r=e.onerror=e.ontimeout=i("error");void 0!==e.onabort?e.onabort=r:e.onreadystatechange=function(){4===e.readyState&&n.setTimeout(function(){i&&r()})};i=i("abort");try{e.send(t.hasContent&&t.data||null)}catch(n){if(i)throw n;}},abort:function(){i&&i()}}}),i.ajaxPrefilter(function(n){n.crossDomain&&(n.contents.script=!1)}),i.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(n){return i.globalEval(n),n}}}),i.ajaxPrefilter("script",function(n){void 0===n.cache&&(n.cache=!1);n.crossDomain&&(n.type="GET")}),i.ajaxTransport("script",function(n){if(n.crossDomain){var r,t;return{send:function(u,e){r=i("<script>").prop({charset:n.scriptCharset,src:n.url}).on("load error",t=function(n){r.remove();t=null;n&&e("error"===n.type?404:200,n.type)});f.head.appendChild(r[0])},abort:function(){t&&t()}}}}),fr=[],oi=/(=)\?(?=&|$)|\?\?/,i.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var n=fr.pop()||i.expando+"_"+sf++;return this[n]=!0,n}}),i.ajaxPrefilter("json jsonp",function(t,r,f){var e,o,s,h=!1!==t.jsonp&&(oi.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&oi.test(t.data)&&"data");if(h||"jsonp"===t.dataTypes[0])return e=t.jsonpCallback=u(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,h?t[h]=t[h].replace(oi,"$1"+e):!1!==t.jsonp&&(t.url+=(nr.test(t.url)?"&":"?")+t.jsonp+"="+e),t.converters["script json"]=function(){return s||i.error(e+" was not called"),s[0]},t.dataTypes[0]="json",o=n[e],n[e]=function(){s=arguments},f.always(function(){void 0===o?i(n).removeProp(e):n[e]=o;t[e]&&(t.jsonpCallback=r.jsonpCallback,fr.push(e));s&&u(o)&&o(s[0]);s=o=void 0}),"script"}),e.createHTMLDocument=function(){var n=f.implementation.createHTMLDocument("").body;return n.innerHTML="<form><\/form><form><\/form>",2===n.childNodes.length}(),i.parseHTML=function(n,t,r){if("string"!=typeof n)return[];"boolean"==typeof t&&(r=t,t=!1);var s,u,o;return t||(e.createHTMLDocument?((s=(t=f.implementation.createHTMLDocument("")).createElement("base")).href=f.location.href,t.head.appendChild(s)):t=f),u=ci.exec(n),o=!r&&[],u?[t.createElement(u[1])]:(u=eu([n],t,o),o&&o.length&&i(o).remove(),i.merge([],u.childNodes))},i.fn.load=function(n,t,r){var f,s,h,e=this,o=n.indexOf(" ");return o>-1&&(f=g(n.slice(o)),n=n.slice(0,o)),u(t)?(r=t,t=void 0):t&&"object"==typeof t&&(s="POST"),e.length>0&&i.ajax({url:n,type:s||"GET",dataType:"html",data:t}).done(function(n){h=arguments;e.html(f?i("<div>").append(i.parseHTML(n)).find(f):n)}).always(r&&function(n,t){e.each(function(){r.apply(this,h||[n.responseText,t,n])})}),this},i.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(n,t){i.fn[t]=function(n){return this.on(t,n)}}),i.expr.pseudos.animated=function(n){return i.grep(i.timers,function(t){return n===t.elem}).length},i.offset={setOffset:function(n,t,r){var v,o,s,h,f,c,y,l=i.css(n,"position"),a=i(n),e={};"static"===l&&(n.style.position="relative");f=a.offset();s=i.css(n,"top");c=i.css(n,"left");(y=("absolute"===l||"fixed"===l)&&(s+c).indexOf("auto")>-1)?(h=(v=a.position()).top,o=v.left):(h=parseFloat(s)||0,o=parseFloat(c)||0);u(t)&&(t=t.call(n,r,i.extend({},f)));null!=t.top&&(e.top=t.top-f.top+h);null!=t.left&&(e.left=t.left-f.left+o);"using"in t?t.using.call(n,e):a.css(e)}},i.fn.extend({offset:function(n){if(arguments.length)return void 0===n?this:this.each(function(t){i.offset.setOffset(this,n,t)});var r,u,t=this[0];if(t)return t.getClientRects().length?(r=t.getBoundingClientRect(),u=t.ownerDocument.defaultView,{top:r.top+u.pageYOffset,left:r.left+u.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var n,r,u,t=this[0],f={top:0,left:0};if("fixed"===i.css(t,"position"))r=t.getBoundingClientRect();else{for(r=this.offset(),u=t.ownerDocument,n=t.offsetParent||u.documentElement;n&&(n===u.body||n===u.documentElement)&&"static"===i.css(n,"position");)n=n.parentNode;n&&n!==t&&1===n.nodeType&&((f=i(n).offset()).top+=i.css(n,"borderTopWidth",!0),f.left+=i.css(n,"borderLeftWidth",!0))}return{top:r.top-f.top-i.css(t,"marginTop",!0),left:r.left-f.left-i.css(t,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var n=this.offsetParent;n&&"static"===i.css(n,"position");)n=n.offsetParent;return n||ii})}}),i.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,t){var r="pageYOffset"===t;i.fn[n]=function(i){return p(this,function(n,i,u){var f;if(tt(n)?f=n:9===n.nodeType&&(f=n.defaultView),void 0===u)return f?f[t]:n[i];f?f.scrollTo(r?f.pageXOffset:u,r?u:f.pageYOffset):n[i]=u},n,i,arguments.length)}}),i.each(["top","left"],function(n,t){i.cssHooks[t]=au(e.pixelPosition,function(n,r){if(r)return r=yt(n,t),pi.test(r)?i(n).position()[t]+"px":r})}),i.each({Height:"height",Width:"width"},function(n,t){i.each({padding:"inner"+n,content:t,"":"outer"+n},function(r,u){i.fn[u]=function(f,e){var o=arguments.length&&(r||"boolean"!=typeof f),s=r||(!0===f||!0===e?"margin":"border");return p(this,function(t,r,f){var e;return tt(t)?0===u.indexOf("outer")?t["inner"+n]:t.document.documentElement["client"+n]:9===t.nodeType?(e=t.documentElement,Math.max(t.body["scroll"+n],e["scroll"+n],t.body["offset"+n],e["offset"+n],e["client"+n])):void 0===f?i.css(t,r,s):i.style(t,r,f,s)},t,o?f:void 0,o)}})}),i.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(n,t){i.fn[t]=function(n,i){return arguments.length>0?this.on(t,null,n,i):this.trigger(t)}}),i.fn.extend({hover:function(n,t){return this.mouseenter(n).mouseleave(t||n)}}),i.fn.extend({bind:function(n,t,i){return this.on(n,null,t,i)},unbind:function(n,t){return this.off(n,null,t)},delegate:function(n,t,i,r){return this.on(t,n,i,r)},undelegate:function(n,t,i){return 1===arguments.length?this.off(n,"**"):this.off(t,n||"**",i)}}),i.proxy=function(n,t){var f,e,r;if("string"==typeof t&&(f=n[t],t=n,n=f),u(n))return e=d.call(arguments,2),r=function(){return n.apply(t||this,e.concat(d.call(arguments)))},r.guid=n.guid=n.guid||i.guid++,r},i.holdReady=function(n){n?i.readyWait++:i.ready(!0)},i.isArray=Array.isArray,i.parseJSON=JSON.parse,i.nodeName=v,i.isFunction=u,i.isWindow=tt,i.camelCase=y,i.type=it,i.now=Date.now,i.isNumeric=function(n){var t=i.type(n);return("number"===t||"string"===t)&&!isNaN(n-parseFloat(n))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return i}),pf=n.jQuery,wf=n.$,i.noConflict=function(t){return n.$===i&&(n.$=wf),t&&n.jQuery===i&&(n.jQuery=pf),i},t||(n.jQuery=n.$=i),i}),function(){"use strict";Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(n){var i,u,f,t,r;if(this==null)throw new TypeError;if(i=Object(this),u=i.length>>>0,typeof n!="function")throw new TypeError(n+" must be a function");for(f=arguments[1],t=0;t<u;){if(r=i[t],n.call(f,r,t,i))return r;t++}return undefined}})}();BigInteger=function(n,t,i){"use strict";n!=null&&("number"==typeof n?this.fromNumber(n,t,i):t==null&&"string"!=typeof n?this.fromString(n,256):this.fromString(n,t))},function(n){"use strict";var t=n.prototype,f,w=(0xdeadbeefcafe&16777215)==15715070,i=function(){return new n(null)},it=function(n,t,i,r,u,f){while(--f>=0){var e=t*this[n++]+i[r]+u;u=Math.floor(e/67108864);i[r++]=e&67108863}return u},rt=function(n,t,i,r,u,f){for(var o=t&32767,s=t>>15;--f>=0;){var e=this[n]&32767,h=this[n++]>>15,c=s*e+h*o;e=o*e+((c&32767)<<15)+i[r]+(u&1073741823);u=(e>>>30)+(c>>>15)+s*h+(u>>>30);i[r++]=e&1073741823}return u},ut=function(n,t,i,r,u,f){for(var o=t&16383,s=t>>14;--f>=0;){var e=this[n]&16383,h=this[n++]>>14,c=s*e+h*o;e=o*e+((c&16383)<<14)+i[r]+u;u=(e>>28)+(c>>14)+s*h;i[r++]=e&268435455}return u},v,b,l,h,u;for(w&&navigator.appName=="Microsoft Internet Explorer"?(t.am=rt,f=30):w&&navigator.appName!="Netscape"?(t.am=it,f=26):(t.am=ut,f=28),t.DB=f,t.DM=(1<<f)-1,t.DV=1<<f,v=52,t.FV=Math.pow(2,v),t.F1=v-f,t.F2=2*f-v,b="0123456789abcdefghijklmnopqrstuvwxyz",l=[],h="0".charCodeAt(0),u=0;u<=9;++u)l[h++]=u;for(h="a".charCodeAt(0),u=10;u<36;++u)l[h++]=u;for(h="A".charCodeAt(0),u=10;u<36;++u)l[h++]=u;var k=function(n){return b.charAt(n)},d=function(n,t){var i=l[n.charCodeAt(t)];return i==null?-1:i},ft=function(n){for(var t=this.t-1;t>=0;--t)n[t]=this[t];n.t=this.t;n.s=this.s},et=function(n){this.t=1;this.s=n<0?-1:0;n>0?this[0]=n:n<-1?this[0]=n+this.DV:this.t=0},e=function(n){var t=i();return t.fromInt(n),t},ot=function(t,i){var u,f;if(i==16)u=4;else if(i==8)u=3;else if(i==256)u=8;else if(i==2)u=1;else if(i==32)u=5;else if(i==4)u=2;else{this.fromRadix(t,i);return}this.t=0;this.s=0;for(var e=t.length,o=!1,r=0;--e>=0;){if(f=u==8?t[e]&255:d(t,e),f<0){t.charAt(e)=="-"&&(o=!0);continue}o=!1;r==0?this[this.t++]=f:r+u>this.DB?(this[this.t-1]|=(f&(1<<this.DB-r)-1)<<r,this[this.t++]=f>>this.DB-r):this[this.t-1]|=f<<r;r+=u;r>=this.DB&&(r-=this.DB)}u==8&&(t[0]&128)!=0&&(this.s=-1,r>0&&(this[this.t-1]|=(1<<this.DB-r)-1<<r));this.clamp();o&&n.ZERO.subTo(this,this)},st=function(){for(var n=this.s&this.DM;this.t>0&&this[this.t-1]==n;)--this.t},ht=function(n){var t;if(this.s<0)return"-"+this.negate().toString(n);if(n==16)t=4;else if(n==8)t=3;else if(n==2)t=1;else if(n==32)t=5;else if(n==4)t=2;else return this.toRadix(n);var o=(1<<t)-1,u,f=!1,e="",r=this.t,i=this.DB-r*this.DB%t;if(r-->0)for(i<this.DB&&(u=this[r]>>i)>0&&(f=!0,e=k(u));r>=0;)i<t?u=(this[r]&(1<<i)-1)<<t-i|this[--r]>>(i+=this.DB-t):(u=this[r]>>(i-=t)&o,i<=0&&(i+=this.DB,--r)),u>0&&(f=!0),f&&(e+=k(u));return f?e:"0"},ct=function(){var t=i();return n.ZERO.subTo(this,t),t},lt=function(){return this.s<0?this.negate():this},at=function(n){var t=this.s-n.s,i;if(t!=0)return t;if(i=this.t,t=i-n.t,t!=0)return this.s<0?-t:t;while(--i>=0)if((t=this[i]-n[i])!=0)return t;return 0},y=function(n){var i=1,t;return(t=n>>>16)!=0&&(n=t,i+=16),(t=n>>8)!=0&&(n=t,i+=8),(t=n>>4)!=0&&(n=t,i+=4),(t=n>>2)!=0&&(n=t,i+=2),(t=n>>1)!=0&&(n=t,i+=1),i},vt=function(){return this.t<=0?0:this.DB*(this.t-1)+y(this[this.t-1]^this.s&this.DM)},yt=function(n,t){for(var i=this.t-1;i>=0;--i)t[i+n]=this[i];for(i=n-1;i>=0;--i)t[i]=0;t.t=this.t+n;t.s=this.s},pt=function(n,t){for(var i=n;i<this.t;++i)t[i-n]=this[i];t.t=Math.max(this.t-n,0);t.s=this.s},wt=function(n,t){for(var u=n%this.DB,e=this.DB-u,o=(1<<e)-1,r=Math.floor(n/this.DB),f=this.s<<u&this.DM,i=this.t-1;i>=0;--i)t[i+r+1]=this[i]>>e|f,f=(this[i]&o)<<u;for(i=r-1;i>=0;--i)t[i]=0;t[r]=f;t.t=this.t+r+1;t.s=this.s;t.clamp()},bt=function(n,t){var i,r;if(t.s=this.s,i=Math.floor(n/this.DB),i>=this.t){t.t=0;return}var u=n%this.DB,f=this.DB-u,e=(1<<u)-1;for(t[0]=this[i]>>u,r=i+1;r<this.t;++r)t[r-i-1]|=(this[r]&e)<<f,t[r-i]=this[r]>>u;u>0&&(t[this.t-i-1]|=(this.s&e)<<f);t.t=this.t-i;t.clamp()},kt=function(n,t){for(var r=0,i=0,u=Math.min(n.t,this.t);r<u;)i+=this[r]-n[r],t[r++]=i&this.DM,i>>=this.DB;if(n.t<this.t){for(i-=n.s;r<this.t;)i+=this[r],t[r++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;r<n.t;)i-=n[r],t[r++]=i&this.DM,i>>=this.DB;i-=n.s}t.s=i<0?-1:0;i<-1?t[r++]=this.DV+i:i>0&&(t[r++]=i);t.t=r;t.clamp()},dt=function(t,i){var u=this.abs(),f=t.abs(),r=u.t;for(i.t=r+f.t;--r>=0;)i[r]=0;for(r=0;r<f.t;++r)i[r+u.t]=u.am(0,f[r],i,r,0,u.t);i.s=0;i.clamp();this.s!=t.s&&n.ZERO.subTo(i,i)},gt=function(n){for(var i=this.abs(),t=n.t=2*i.t,r;--t>=0;)n[t]=0;for(t=0;t<i.t-1;++t)r=i.am(t,i[t],n,2*t,0,1),(n[t+i.t]+=i.am(t+1,2*i[t],n,2*t+1,r,i.t-t-1))>=i.DV&&(n[t+i.t]-=i.DV,n[t+i.t+1]=1);n.t>0&&(n[n.t-1]+=i.am(t,i[t],n,2*t,0,1));n.s=0;n.clamp()},ni=function(t,r,u){var s=t.abs(),l,e,a,p;if(!(s.t<=0)){if(l=this.abs(),l.t<s.t){r!=null&&r.fromInt(0);u!=null&&this.copyTo(u);return}u==null&&(u=i());var f=i(),w=this.s,k=t.s,c=this.DB-y(s[s.t-1]);if(c>0?(s.lShiftTo(c,f),l.lShiftTo(c,u)):(s.copyTo(f),l.copyTo(u)),e=f.t,a=f[e-1],a!=0){var b=a*(1<<this.F1)+(e>1?f[e-2]>>this.F2:0),d=this.FV/b,g=(1<<this.F1)/b,nt=1<<this.F2,h=u.t,v=h-e,o=r==null?i():r;for(f.dlShiftTo(v,o),u.compareTo(o)>=0&&(u[u.t++]=1,u.subTo(o,u)),n.ONE.dlShiftTo(e,o),o.subTo(f,f);f.t<e;)f[f.t++]=0;while(--v>=0)if(p=u[--h]==a?this.DM:Math.floor(u[h]*d+(u[h-1]+nt)*g),(u[h]+=f.am(0,p,u,v,0,e))<p)for(f.dlShiftTo(v,o),u.subTo(o,u);u[h]<--p;)u.subTo(o,u);r!=null&&(u.drShiftTo(e,r),w!=k&&n.ZERO.subTo(r,r));u.t=e;u.clamp();c>0&&u.rShiftTo(c,u);w<0&&n.ZERO.subTo(u,u)}}},ti=function(t){var r=i();return this.abs().divRemTo(t,null,r),this.s<0&&r.compareTo(n.ZERO)>0&&t.subTo(r,r),r},o=function(n){this.m=n},ii=function(n){return n.s<0||n.compareTo(this.m)>=0?n.mod(this.m):n},ri=function(n){return n},ui=function(n){n.divRemTo(this.m,null,n)},fi=function(n,t,i){n.multiplyTo(t,i);this.reduce(i)},ei=function(n,t){n.squareTo(t);this.reduce(t)};o.prototype.convert=ii;o.prototype.revert=ri;o.prototype.reduce=ui;o.prototype.mulTo=fi;o.prototype.sqrTo=ei;var oi=function(){var t,n;return this.t<1?0:(t=this[0],(t&1)==0)?0:(n=t&3,n=n*(2-(t&15)*n)&15,n=n*(2-(t&255)*n)&255,n=n*(2-((t&65535)*n&65535))&65535,n=n*(2-t*n%this.DV)%this.DV,n>0?this.DV-n:-n)},s=function(n){this.m=n;this.mp=n.invDigit();this.mpl=this.mp&32767;this.mph=this.mp>>15;this.um=(1<<n.DB-15)-1;this.mt2=2*n.t},si=function(t){var r=i();return t.abs().dlShiftTo(this.m.t,r),r.divRemTo(this.m,null,r),t.s<0&&r.compareTo(n.ZERO)>0&&this.m.subTo(r,r),r},hi=function(n){var t=i();return n.copyTo(t),this.reduce(t),t},ci=function(n){for(var i,t,r;n.t<=this.mt2;)n[n.t++]=0;for(i=0;i<this.m.t;++i)for(t=n[i]&32767,r=t*this.mpl+((t*this.mph+(n[i]>>15)*this.mpl&this.um)<<15)&n.DM,t=i+this.m.t,n[t]+=this.m.am(0,r,n,i,0,this.m.t);n[t]>=n.DV;)n[t]-=n.DV,n[++t]++;n.clamp();n.drShiftTo(this.m.t,n);n.compareTo(this.m)>=0&&n.subTo(this.m,n)},li=function(n,t){n.squareTo(t);this.reduce(t)},ai=function(n,t,i){n.multiplyTo(t,i);this.reduce(i)};s.prototype.convert=si;s.prototype.revert=hi;s.prototype.reduce=ci;s.prototype.mulTo=ai;s.prototype.sqrTo=li;var vi=function(){return(this.t>0?this[0]&1:this.s)==0},yi=function(t,r){var s;if(t>4294967295||t<1)return n.ONE;var u=i(),f=i(),e=r.convert(this),o=y(t)-1;for(e.copyTo(u);--o>=0;)r.sqrTo(u,f),(t&1<<o)>0?r.mulTo(f,e,u):(s=u,u=f,f=s);return r.revert(u)},pi=function(n,t){var i;return i=n<256||t.isEven()?new o(t):new s(t),this.exp(n,i)};t.copyTo=ft;t.fromInt=et;t.fromString=ot;t.clamp=st;t.dlShiftTo=yt;t.drShiftTo=pt;t.lShiftTo=wt;t.rShiftTo=bt;t.subTo=kt;t.multiplyTo=dt;t.squareTo=gt;t.divRemTo=ni;t.invDigit=oi;t.isEven=vi;t.exp=yi;t.toString=ht;t.negate=ct;t.abs=lt;t.compareTo=at;t.bitLength=vt;t.mod=ti;t.modPowInt=pi;n.ZERO=e(0);n.ONE=e(1);var wi=function(){var n=i();return this.copyTo(n),n},bi=function(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},ki=function(){return this.t==0?this.s:this[0]<<24>>24},di=function(){return this.t==0?this.s:this[0]<<16>>16},gi=function(n){return Math.floor(Math.LN2*this.DB/Math.log(n))},nr=function(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1},tr=function(n){if(n==null&&(n=10),this.signum()==0||n<2||n>36)return"0";var s=this.chunkSize(n),f=Math.pow(n,s),o=e(f),t=i(),r=i(),u="";for(this.divRemTo(o,t,r);t.signum()>0;)u=(f+r.intValue()).toString(n).substr(1)+u,t.divRemTo(o,t,r);return r.intValue().toString(n)+u},ir=function(t,i){var u,e;this.fromInt(0);i==null&&(i=10);var o=this.chunkSize(i),h=Math.pow(i,o),s=!1,f=0,r=0;for(u=0;u<t.length;++u){if(e=d(t,u),e<0){t.charAt(u)=="-"&&this.signum()==0&&(s=!0);continue}r=i*r+e;++f>=o&&(this.dMultiply(h),this.dAddOffset(r,0),f=0,r=0)}f>0&&(this.dMultiply(Math.pow(i,f)),this.dAddOffset(r,0));s&&n.ZERO.subTo(this,this)},rr=function(t,i,r){if("number"==typeof i)if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(n.ONE.shiftLeft(t-1),p,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(i);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(n.ONE.shiftLeft(t-1),this);else{var u=[],f=t&7;u.length=(t>>3)+1;i.nextBytes(u);f>0?u[0]&=(1<<f)-1:u[0]=0;this.fromString(u,256)}},ur=function(){var i=this.t,u=[],n,t,r;if(u[0]=this.s,n=this.DB-i*this.DB%8,r=0,i-->0)for(n<this.DB&&(t=this[i]>>n)!=(this.s&this.DM)>>n&&(u[r++]=t|this.s<<this.DB-n);i>=0;)n<8?t=(this[i]&(1<<n)-1)<<8-n|this[--i]>>(n+=this.DB-8):(t=this[i]>>(n-=8)&255,n<=0&&(n+=this.DB,--i)),(t&128)!=0&&(t|=-256),r==0&&(this.s&128)!=(t&128)&&++r,(r>0||t!=this.s)&&(u[r++]=t);return u},fr=function(n){return this.compareTo(n)==0},er=function(n){return this.compareTo(n)<0?this:n},or=function(n){return this.compareTo(n)>0?this:n},sr=function(n,t,i){for(var u,f=Math.min(n.t,this.t),r=0;r<f;++r)i[r]=t(this[r],n[r]);if(n.t<this.t){for(u=n.s&this.DM,r=f;r<this.t;++r)i[r]=t(this[r],u);i.t=this.t}else{for(u=this.s&this.DM,r=f;r<n.t;++r)i[r]=t(u,n[r]);i.t=n.t}i.s=t(this.s,n.s);i.clamp()},hr=function(n,t){return n&t},cr=function(n){var t=i();return this.bitwiseTo(n,hr,t),t},p=function(n,t){return n|t},lr=function(n){var t=i();return this.bitwiseTo(n,p,t),t},g=function(n,t){return n^t},ar=function(n){var t=i();return this.bitwiseTo(n,g,t),t},nt=function(n,t){return n&~t},vr=function(n){var t=i();return this.bitwiseTo(n,nt,t),t},yr=function(){for(var n=i(),t=0;t<this.t;++t)n[t]=this.DM&~this[t];return n.t=this.t,n.s=~this.s,n},pr=function(n){var t=i();return n<0?this.rShiftTo(-n,t):this.lShiftTo(n,t),t},wr=function(n){var t=i();return n<0?this.lShiftTo(-n,t):this.rShiftTo(n,t),t},br=function(n){if(n==0)return-1;var t=0;return(n&65535)==0&&(n>>=16,t+=16),(n&255)==0&&(n>>=8,t+=8),(n&15)==0&&(n>>=4,t+=4),(n&3)==0&&(n>>=2,t+=2),(n&1)==0&&++t,t},kr=function(){for(var n=0;n<this.t;++n)if(this[n]!=0)return n*this.DB+br(this[n]);return this.s<0?this.t*this.DB:-1},dr=function(n){for(var t=0;n!=0;)n&=n-1,++t;return t},gr=function(){for(var t=0,i=this.s&this.DM,n=0;n<this.t;++n)t+=dr(this[n]^i);return t},nu=function(n){var t=Math.floor(n/this.DB);return t>=this.t?this.s!=0:(this[t]&1<<n%this.DB)!=0},tu=function(t,i){var r=n.ONE.shiftLeft(t);return this.bitwiseTo(r,i,r),r},iu=function(n){return this.changeBit(n,p)},ru=function(n){return this.changeBit(n,nt)},uu=function(n){return this.changeBit(n,g)},fu=function(n,t){for(var r=0,i=0,u=Math.min(n.t,this.t);r<u;)i+=this[r]+n[r],t[r++]=i&this.DM,i>>=this.DB;if(n.t<this.t){for(i+=n.s;r<this.t;)i+=this[r],t[r++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;r<n.t;)i+=n[r],t[r++]=i&this.DM,i>>=this.DB;i+=n.s}t.s=i<0?-1:0;i>0?t[r++]=i:i<-1&&(t[r++]=this.DV+i);t.t=r;t.clamp()},eu=function(n){var t=i();return this.addTo(n,t),t},ou=function(n){var t=i();return this.subTo(n,t),t},su=function(n){var t=i();return this.multiplyTo(n,t),t},hu=function(){var n=i();return this.squareTo(n),n},cu=function(n){var t=i();return this.divRemTo(n,t,null),t},lu=function(n){var t=i();return this.divRemTo(n,null,t),t},au=function(n){var t=i(),r=i();return this.divRemTo(n,t,r),[t,r]},vu=function(n){this[this.t]=this.am(0,n-1,this,0,0,this.t);++this.t;this.clamp()},yu=function(n,t){if(n!=0){while(this.t<=t)this[this.t++]=0;for(this[t]+=n;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},a=function(){},tt=function(n){return n},pu=function(n,t,i){n.multiplyTo(t,i)},wu=function(n,t){n.squareTo(t)};a.prototype.convert=tt;a.prototype.revert=tt;a.prototype.mulTo=pu;a.prototype.sqrTo=wu;var bu=function(n){return this.exp(n,new a)},ku=function(n,t,i){var r=Math.min(this.t+n.t,t),u;for(i.s=0,i.t=r;r>0;)i[--r]=0;for(u=i.t-this.t;r<u;++r)i[r+this.t]=this.am(0,n[r],i,r,0,this.t);for(u=Math.min(n.t,t);r<u;++r)this.am(0,n[r],i,r,0,t-r);i.clamp()},du=function(n,t,i){--t;var r=i.t=this.t+n.t-t;for(i.s=0;--r>=0;)i[r]=0;for(r=Math.max(t-this.t,0);r<n.t;++r)i[this.t+r-t]=this.am(t-r,n[r],i,0,0,this.t+r-t);i.clamp();i.drShiftTo(1,i)},c=function(t){this.r2=i();this.q3=i();n.ONE.dlShiftTo(2*t.t,this.r2);this.mu=this.r2.divide(t);this.m=t},gu=function(n){if(n.s<0||n.t>2*this.m.t)return n.mod(this.m);if(n.compareTo(this.m)<0)return n;var t=i();return n.copyTo(t),this.reduce(t),t},nf=function(n){return n},tf=function(n){for(n.drShiftTo(this.m.t-1,this.r2),n.t>this.m.t+1&&(n.t=this.m.t+1,n.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);n.compareTo(this.r2)<0;)n.dAddOffset(1,this.m.t+1);for(n.subTo(this.r2,n);n.compareTo(this.m)>=0;)n.subTo(this.m,n)},rf=function(n,t){n.squareTo(t);this.reduce(t)},uf=function(n,t,i){n.multiplyTo(t,i);this.reduce(i)};c.prototype.convert=gu;c.prototype.revert=nf;c.prototype.reduce=tf;c.prototype.mulTo=uf;c.prototype.sqrTo=rf;var ff=function(n,t){var r=n.bitLength(),w,u=e(1),h,d;if(r<=0)return u;w=r<18?1:r<48?3:r<144?4:r<768?5:6;h=r<8?new o(t):t.isEven()?new c(t):new s(t);var v=[],f=3,b=w-1,g=(1<<w)-1;if(v[1]=h.convert(this),w>1)for(d=i(),h.sqrTo(v[1],d);f<=g;)v[f]=i(),h.mulTo(d,v[f-2],v[f]),f+=2;var l=n.t-1,p,nt=!0,a=i(),k;for(r=y(n[l])-1;l>=0;){for(r>=b?p=n[l]>>r-b&g:(p=(n[l]&(1<<r+1)-1)<<b-r,l>0&&(p|=n[l-1]>>this.DB+r-b)),f=w;(p&1)==0;)p>>=1,--f;if((r-=f)<0&&(r+=this.DB,--l),nt)v[p].copyTo(u),nt=!1;else{while(f>1)h.sqrTo(u,a),h.sqrTo(a,u),f-=2;f>0?h.sqrTo(u,a):(k=u,u=a,a=k);h.mulTo(a,v[p],u)}while(l>=0&&(n[l]&1<<r)==0)h.sqrTo(u,a),k=u,u=a,a=k,--r<0&&(r=this.DB-1,--l)}return h.revert(u)},ef=function(n){var i=this.s<0?this.negate():this.clone(),t=n.s<0?n.negate():n.clone(),f,u,r;if(i.compareTo(t)<0&&(f=i,i=t,t=f),u=i.getLowestSetBit(),r=t.getLowestSetBit(),r<0)return i;for(u<r&&(r=u),r>0&&(i.rShiftTo(r,i),t.rShiftTo(r,t));i.signum()>0;)(u=i.getLowestSetBit())>0&&i.rShiftTo(u,i),(u=t.getLowestSetBit())>0&&t.rShiftTo(u,t),i.compareTo(t)>=0?(i.subTo(t,i),i.rShiftTo(1,i)):(t.subTo(i,t),t.rShiftTo(1,t));return r>0&&t.lShiftTo(r,t),t},of=function(n){var r,t,i;if(n<=0)return 0;if(r=this.DV%n,t=this.s<0?n-1:0,this.t>0)if(r==0)t=this[0]%n;else for(i=this.t-1;i>=0;--i)t=(r*t+this[i])%n;return t},sf=function(t){var h=t.isEven();if(this.isEven()&&h||t.signum()==0)return n.ZERO;for(var u=t.clone(),f=this.clone(),o=e(1),r=e(0),s=e(0),i=e(1);u.signum()!=0;){while(u.isEven())u.rShiftTo(1,u),h?(o.isEven()&&r.isEven()||(o.addTo(this,o),r.subTo(t,r)),o.rShiftTo(1,o)):r.isEven()||r.subTo(t,r),r.rShiftTo(1,r);while(f.isEven())f.rShiftTo(1,f),h?(s.isEven()&&i.isEven()||(s.addTo(this,s),i.subTo(t,i)),s.rShiftTo(1,s)):i.isEven()||i.subTo(t,i),i.rShiftTo(1,i);u.compareTo(f)>=0?(u.subTo(f,u),h&&o.subTo(s,o),r.subTo(i,r)):(f.subTo(u,f),h&&s.subTo(o,s),i.subTo(r,i))}if(f.compareTo(n.ONE)!=0)return n.ZERO;if(i.compareTo(t)>=0)return i.subtract(t);if(i.signum()<0)i.addTo(t,i);else return i;return i.signum()<0?i.add(t):i},r=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],hf=67108864/r[r.length-1],cf=function(n){var t,i=this.abs(),u,f;if(i.t==1&&i[0]<=r[r.length-1]){for(t=0;t<r.length;++t)if(i[0]==r[t])return!0;return!1}if(i.isEven())return!1;for(t=1;t<r.length;){for(u=r[t],f=t+1;f<r.length&&u<hf;)u*=r[f++];for(u=i.modInt(u);t<f;)if(u%r[t++]==0)return!1}return i.millerRabin(n)},lf=function(t){var f=this.subtract(n.ONE),e=f.getLowestSetBit(),h,o,s,u,c;if(e<=0)return!1;for(h=f.shiftRight(e),t=t+1>>1,t>r.length&&(t=r.length),o=i(),s=0;s<t;++s)if(o.fromInt(r[Math.floor(Math.random()*r.length)]),u=o.modPow(h,this),u.compareTo(n.ONE)!=0&&u.compareTo(f)!=0){for(c=1;c++<e&&u.compareTo(f)!=0;)if(u=u.modPowInt(2,this),u.compareTo(n.ONE)==0)return!1;if(u.compareTo(f)!=0)return!1}return!0};t.chunkSize=gi;t.toRadix=tr;t.fromRadix=ir;t.fromNumber=rr;t.bitwiseTo=sr;t.changeBit=tu;t.addTo=fu;t.dMultiply=vu;t.dAddOffset=yu;t.multiplyLowerTo=ku;t.multiplyUpperTo=du;t.modInt=of;t.millerRabin=lf;t.clone=wi;t.intValue=bi;t.byteValue=ki;t.shortValue=di;t.signum=nr;t.toByteArray=ur;t.equals=fr;t.min=er;t.max=or;t.and=cr;t.or=lr;t.xor=ar;t.andNot=vr;t.not=yr;t.shiftLeft=pr;t.shiftRight=wr;t.getLowestSetBit=kr;t.bitCount=gr;t.testBit=nu;t.setBit=iu;t.clearBit=ru;t.flipBit=uu;t.add=eu;t.subtract=ou;t.multiply=su;t.divide=cu;t.remainder=lu;t.divideAndRemainder=au;t.modPow=ff;t.modInverse=sf;t.pow=bu;t.gcd=ef;t.isProbablePrime=cf;t.square=hu}(BigInteger);ECFieldElementFp=function(n,t){"use strict";this.x=t;this.q=n},function(n){"use strict";var t=n.prototype;t.equals=function(n){return n==this?!0:this.q.equals(n.q)&&this.x.equals(n.x)};t.toBigInteger=function(){return this.x};t.negate=function(){return new n(this.q,this.x.negate().mod(this.q))};t.add=function(t){return new n(this.q,this.x.add(t.toBigInteger()).mod(this.q))};t.subtract=function(t){return new n(this.q,this.x.subtract(t.toBigInteger()).mod(this.q))};t.multiply=function(t){return new n(this.q,this.x.multiply(t.toBigInteger()).mod(this.q))};t.square=function(){return new n(this.q,this.x.square().mod(this.q))};t.divide=function(t){return new n(this.q,this.x.multiply(t.toBigInteger().modInverse(this.q)).mod(this.q))};t.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)}}(ECFieldElementFp);ECPointFp=function(n,t,i,r){"use strict";this.curve=n;this.x=t;this.y=i;this.z=r==null?BigInteger.ONE:r;this.zinv=null},function(n){"use strict";var t=n.prototype;t.getX=function(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))};t.getY=function(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))};t.equals=function(n){if(n==this)return!0;if(this.isInfinity())return n.isInfinity();if(n.isInfinity())return this.isInfinity();var t,i;return(t=n.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(n.z)).mod(this.curve.q),!t.equals(BigInteger.ZERO))?!1:(i=n.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(n.z)).mod(this.curve.q),i.equals(BigInteger.ZERO))};t.isInfinity=function(){return this.x==null&&this.y==null?!0:this.z.equals(BigInteger.ZERO)&&!this.y.toBigInteger().equals(BigInteger.ZERO)};t.negate=function(){return new n(this.curve,this.x,this.y.negate(),this.z)};t.add=function(t){var i,r;if(this.isInfinity())return t;if(t.isInfinity())return this;if(i=t.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(t.z)).mod(this.curve.q),r=t.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(t.z)).mod(this.curve.q),BigInteger.ZERO.equals(r))return BigInteger.ZERO.equals(i)?this.twice():this.curve.getInfinity();var s=new BigInteger("3"),h=this.x.toBigInteger(),c=this.y.toBigInteger(),y=t.x.toBigInteger(),p=t.y.toBigInteger(),f=r.square(),u=f.multiply(r),e=h.multiply(f),o=i.square().multiply(this.z),l=o.subtract(e.shiftLeft(1)).multiply(t.z).subtract(u).multiply(r).mod(this.curve.q),a=e.multiply(s).multiply(i).subtract(c.multiply(u)).subtract(o.multiply(i)).multiply(t.z).add(i.multiply(u)).mod(this.curve.q),v=u.multiply(this.z).multiply(t.z).mod(this.curve.q);return new n(this.curve,this.curve.fromBigInteger(l),this.curve.fromBigInteger(a),v)};t.twice=function(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var f=new BigInteger("3"),r=this.x.toBigInteger(),e=this.y.toBigInteger(),i=e.multiply(this.z),u=i.multiply(e).mod(this.curve.q),o=this.curve.a.toBigInteger(),t=r.square().multiply(f);BigInteger.ZERO.equals(o)||(t=t.add(this.z.square().multiply(o)));t=t.mod(this.curve.q);var s=t.square().subtract(r.shiftLeft(3).multiply(u)).shiftLeft(1).multiply(i).mod(this.curve.q),h=t.multiply(f).multiply(r).subtract(u.shiftLeft(1)).shiftLeft(2).multiply(u).subtract(t.square().multiply(t)).mod(this.curve.q),c=i.square().multiply(i).shiftLeft(3).mod(this.curve.q);return new n(this.curve,this.curve.fromBigInteger(s),this.curve.fromBigInteger(h),c)};t.multiply=function(n){var r,e;if(this.isInfinity())return this;if(n.signum()==0)return this.curve.getInfinity();for(var u=n,f=u.multiply(new BigInteger("3")),o=this.negate(),t=this,i=f.bitLength()-2;i>0;--i)t=t.twice(),r=f.testBit(i),e=u.testBit(i),r!=e&&(t=t.add(r?this:o));return t};t.multiplyTwo=function(n,t,i){var u,r,f;for(u=n.bitLength()>i.bitLength()?n.bitLength()-1:i.bitLength()-1,r=this.curve.getInfinity(),f=this.add(t);u>=0;)r=r.twice(),n.testBit(u)?r=i.testBit(u)?r.add(f):r.add(this):i.testBit(u)&&(r=r.add(t)),--u;return r};t.getEncoded=function(n){var i=function(n,t){var i=n.toByteArrayUnsigned();if(t<i.length)i=i.slice(i.length-t);else while(t>i.length)i.unshift(0);return i},u=this.getX().toBigInteger(),r=this.getY().toBigInteger(),t=i(u,32);return n?r.isEven()?t.unshift(2):t.unshift(3):(t.unshift(4),t=t.concat(i(r,32))),t};n.decodeFrom=function(t,i){var s=i[0],r=i.length-1,u=i.slice(1,1+r/2),f=i.slice(1+r/2,1+r),e,o;return u.unshift(0),f.unshift(0),e=new BigInteger(u),o=new BigInteger(f),new n(t,t.fromBigInteger(e),t.fromBigInteger(o))};n.decodeFromHex=function(t,i){var s=i.substr(0,2),r=i.length-2,u=i.substr(2,r/2),f=i.substr(2+r/2,r/2),e=new BigInteger(u,16),o=new BigInteger(f,16);return new n(t,t.fromBigInteger(e),t.fromBigInteger(o))}}(ECPointFp);ECCurveFp=function(n,t,i){"use strict";this.q=n;this.a=this.fromBigInteger(t);this.b=this.fromBigInteger(i);this.infinity=new ECPointFp(this,null,null)},function(n){"use strict";var t=n.prototype;t.getQ=function(){return this.q};t.getA=function(){return this.a};t.getB=function(){return this.b};t.equals=function(n){return n==this?!0:this.q.equals(n.q)&&this.a.equals(n.a)&&this.b.equals(n.b)};t.getInfinity=function(){return this.infinity};t.fromBigInteger=function(n){return new ECFieldElementFp(this.q,n)};t.decodePointHex=function(n){switch(parseInt(n.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var t=(n.length-2)/2,i=n.substr(2,t),r=n.substr(t+2,t);return new ECPointFp(this,this.fromBigInteger(new BigInteger(i,16)),this.fromBigInteger(new BigInteger(r,16)));default:return null}}}(ECCurveFp);typeof KJUR!="undefined"&&KJUR||(KJUR={});typeof KJUR.crypto!="undefined"&&KJUR.crypto||(KJUR.crypto={}),function(){"use strict";KJUR.crypto.ECParameterDB=new function(){var n={},i={},t=function(n){return new BigInteger(n,16)};this.getByName=function(t){var r=t;if(typeof i[r]!="undefined"&&(r=i[t]),typeof n[r]!="undefined")return n[r];throw"unregistered EC curve name: "+r;};this.regist=function(r,u,f,e,o,s,h,c,l,a,v,y){var p;n[r]={};var b=t(f),k=t(e),d=t(o),g=t(s),nt=t(h),w=new ECCurveFp(b,k,d),tt=w.decodePointHex("04"+c+l);for(n[r].name=r,n[r].keylen=u,n[r].curve=w,n[r].G=tt,n[r].n=g,n[r].h=nt,n[r].oid=v,n[r].info=y,p=0;p<a.length;p++)i[a[p]]=r}};KJUR.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]);KJUR.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"])}();CryptoJS=CryptoJS||function(n,t){"use strict";var u={},f=u.lib={},i=f.Base=function(){var n=function(){};return{extend:function(t){n.prototype=this;var i=new n;return t&&i.mixIn(t),i.hasOwnProperty("init")||(i.init=function(){i.$super.init.apply(this,arguments)}),i.init.prototype=i,i.$super=this,i},create:function(){var n=this.extend();return n.init.apply(n,arguments),n},init:function(){},mixIn:function(n){for(var t in n)n.hasOwnProperty(t)&&(this[t]=n[t]);n.hasOwnProperty("toString")&&(this.toString=n.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),r=f.WordArray=i.extend({init:function(n,i){n=this.words=n||[];this.sigBytes=i!=t?i:n.length*4},toString:function(n){return(n||h).stringify(this)},concat:function(n){var u=this.words,f=n.words,i=this.sigBytes,r=n.sigBytes,t,e;if(this.clamp(),i%4)for(t=0;t<r;t++)e=f[t>>>2]>>>24-t%4*8&255,u[i+t>>>2]|=e<<24-(i+t)%4*8;else for(t=0;t<r;t+=4)u[i+t>>>2]=f[t>>>2];return this.sigBytes+=r,this},clamp:function(){var i=this.words,t=this.sigBytes;i[t>>>2]&=4294967295<<32-t%4*8;i.length=n.ceil(t/4)},clone:function(){var n=i.clone.call(this);return n.words=this.words.slice(0),n},random:function(t){for(var i=[],u=0;u<t;u+=4)i.push(n.random()*4294967296|0);return new r.init(i,t)}}),e=u.enc={},h=e.Hex={stringify:function(n){for(var r,u=n.words,f=n.sigBytes,i=[],t=0;t<f;t++)r=u[t>>>2]>>>24-t%4*8&255,i.push((r>>>4).toString(16)),i.push((r&15).toString(16));return i.join("")},parse:function(n){for(var i=n.length,u=[],t=0;t<i;t+=2)u[t>>>3]|=parseInt(n.substr(t,2),16)<<24-t%8*4;return new r.init(u,i/2)}},o=e.Latin1={stringify:function(n){for(var r,u=n.words,f=n.sigBytes,i=[],t=0;t<f;t++)r=u[t>>>2]>>>24-t%4*8&255,i.push(String.fromCharCode(r));return i.join("")},parse:function(n){for(var i=n.length,u=[],t=0;t<i;t++)u[t>>>2]|=(n.charCodeAt(t)&255)<<24-t%4*8;return new r.init(u,i)}},c=e.Utf8={stringify:function(n){try{return decodeURIComponent(escape(o.stringify(n)))}catch(t){throw new Error("Malformed UTF-8 data");}},parse:function(n){return o.parse(unescape(encodeURIComponent(n)))}},s=f.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new r.init;this._nDataBytes=0},_append:function(n){typeof n=="string"&&(n=c.parse(n));this._data.concat(n);this._nDataBytes+=n.sigBytes},_process:function(t){var e=this._data,h=e.words,c=e.sigBytes,o=this.blockSize,a=o*4,u=c/a,i,s,f,l;if(u=t?n.ceil(u):n.max((u|0)-this._minBufferSize,0),i=u*o,s=n.min(i*4,c),i){for(f=0;f<i;f+=o)this._doProcessBlock(h,f);l=h.splice(0,i);e.sigBytes-=s}return new r.init(l,s)},clone:function(){var n=i.clone.call(this);return n._data=this._data.clone(),n},_minBufferSize:0}),a=f.Hasher=s.extend({cfg:i.extend(),init:function(n){this.cfg=this.cfg.extend(n);this.reset()},reset:function(){s.reset.call(this);this._doReset()},update:function(n){return this._append(n),this._process(),this},finalize:function(n){n&&this._append(n);return this._doFinalize()},blockSize:16,_createHelper:function(n){return function(t,i){return new n.init(i).finalize(t)}},_createHmacHelper:function(n){return function(t,i){return new l.HMAC.init(n,i).finalize(t)}}}),l=u.algo={};return u}(Math),function(){"use strict";var i=CryptoJS,u=i.lib,n=u.WordArray,r=u.Hasher,c=i.algo,l=n.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),a=n.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),v=n.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),y=n.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),p=n.create([0,1518500249,1859775393,2400959708,2840853838]),w=n.create([1352829926,1548603684,1836072691,2053994217,0]),b=c.RIPEMD160=r.extend({_doReset:function(){this._hash=n.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(n,i){for(var ht,it,r,u=0;u<16;u++)ht=i+u,it=n[ht],n[ht]=(it<<8|it>>>24)&16711935|(it<<24|it>>>8)&4278255360;var c=this._hash.words,rt=p.words,ut=w.words,ct=l.words,lt=a.words,at=v.words,vt=y.words,ot,b,k,d,ft,st,g,nt,tt,et;for(st=ot=c[0],g=b=c[1],nt=k=c[2],tt=d=c[3],et=ft=c[4],u=0;u<80;u+=1)r=ot+n[i+ct[u]]|0,r+=u<16?f(b,k,d)+rt[0]:u<32?e(b,k,d)+rt[1]:u<48?o(b,k,d)+rt[2]:u<64?s(b,k,d)+rt[3]:h(b,k,d)+rt[4],r=r|0,r=t(r,at[u]),r=r+ft|0,ot=ft,ft=d,d=t(k,10),k=b,b=r,r=st+n[i+lt[u]]|0,r+=u<16?h(g,nt,tt)+ut[0]:u<32?s(g,nt,tt)+ut[1]:u<48?o(g,nt,tt)+ut[2]:u<64?e(g,nt,tt)+ut[3]:f(g,nt,tt)+ut[4],r=r|0,r=t(r,vt[u]),r=r+et|0,st=et,et=tt,tt=t(nt,10),nt=g,g=r;r=c[1]+k+tt|0;c[1]=c[2]+d+et|0;c[2]=c[3]+ft+st|0;c[3]=c[4]+ot+g|0;c[4]=c[0]+b+nt|0;c[0]=r},_doFinalize:function(){var r=this._data,u=r.words,i=this._nDataBytes*8,f=r.sigBytes*8,e,o,n,t;for(u[f>>>5]|=128<<24-f%32,u[(f+64>>>9<<4)+14]=(i<<8|i>>>24)&16711935|(i<<24|i>>>8)&4278255360,r.sigBytes=(u.length+1)*4,this._process(),e=this._hash,o=e.words,n=0;n<5;n++)t=o[n],o[n]=(t<<8|t>>>24)&16711935|(t<<24|t>>>8)&4278255360;return e},clone:function(){var n=r.clone.call(this);return n._hash=this._hash.clone(),n}}),f=function(n,t,i){return n^t^i},e=function(n,t,i){return n&t|~n&i},o=function(n,t,i){return(n|~t)^i},s=function(n,t,i){return n&i|t&~i},h=function(n,t,i){return n^(t|~i)},t=function(n,t){return n<<t|n>>>32-t};i.RIPEMD160=r._createHelper(b)}(Math),function(n){"use strict";var i=CryptoJS,u=i.lib,s=u.WordArray,r=u.Hasher,h=i.algo,f=[],e=[],t,o;(function(){for(var u=function(t){for(var r=n.sqrt(t),i=2;i<=r;i++)if(!(t%i))return!1;return!0},r=function(n){return(n-(n|0))*4294967296|0},i=2,t=0;t<64;)u(i)&&(t<8&&(f[t]=r(n.pow(i,1/2))),e[t]=r(n.pow(i,1/3)),t++),i++})();t=[];o=h.SHA256=r.extend({_doReset:function(){this._hash=new s.init(f.slice(0))},_doProcessBlock:function(n,i){for(var r=this._hash.words,f=r[0],s=r[1],h=r[2],y=r[3],o=r[4],a=r[5],v=r[6],p=r[7],u=0;u<64;u++){if(u<16)t[u]=n[i+u]|0;else{var c=t[u-15],b=(c<<25|c>>>7)^(c<<14|c>>>18)^c>>>3,l=t[u-2],k=(l<<15|l>>>17)^(l<<13|l>>>19)^l>>>10;t[u]=b+t[u-7]+k+t[u-16]}var d=o&a^~o&v,g=f&s^f&h^s&h,nt=(f<<30|f>>>2)^(f<<19|f>>>13)^(f<<10|f>>>22),tt=(o<<26|o>>>6)^(o<<21|o>>>11)^(o<<7|o>>>25),w=p+tt+d+e[u]+t[u],it=nt+g;p=v;v=a;a=o;o=y+w|0;y=h;h=s;s=f;f=w+it|0}r[0]=r[0]+f|0;r[1]=r[1]+s|0;r[2]=r[2]+h|0;r[3]=r[3]+y|0;r[4]=r[4]+o|0;r[5]=r[5]+a|0;r[6]=r[6]+v|0;r[7]=r[7]+p|0},_doFinalize:function(){var r=this._data,t=r.words,u=this._nDataBytes*8,i=r.sigBytes*8;return t[i>>>5]|=128<<24-i%32,t[(i+64>>>9<<4)+14]=n.floor(u/4294967296),t[(i+64>>>9<<4)+15]=u,r.sigBytes=t.length*4,this._process(),this._hash},clone:function(){var n=r.clone.call(this);return n._hash=this._hash.clone(),n}});i.SHA256=r._createHelper(o)}(Math);typeof KJUR!="undefined"&&KJUR||(KJUR={});typeof KJUR.crypto!="undefined"&&KJUR.crypto||(KJUR.crypto={}),function(){"use strict";KJUR.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha256:"3031300d060960864801650304020105000420",sha512:"3051300d060960864801650304020305000440",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"};this.DEFAULTPROVIDER={sha1:"cryptojs",sha256:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacsha1:"cryptojs",hmacsha256:"cryptojs",SHA1withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa"};this.CRYPTOJSMESSAGEDIGESTNAME={md5:"CryptoJS.algo.MD5",sha1:"CryptoJS.algo.SHA1",sha256:"CryptoJS.algo.SHA256",sha512:"CryptoJS.algo.SHA512",ripemd160:"CryptoJS.algo.RIPEMD160"};this.getDigestInfoHex=function(n,t){if(typeof this.DIGESTINFOHEAD[t]=="undefined")throw t;return this.DIGESTINFOHEAD[t]+n};this.getPaddedDigestInfoHex=function(n,t,i){var u=this.getDigestInfoHex(n,t),f=i/4,r;if(u.length+22>f)throw i+","+t;var e="0001",o="00"+u,s="",h=f-e.length-o.length;for(r=0;r<h;r+=2)s+="ff";return e+s+o};this.hashString=function(n,t){var i=new KJUR.crypto.MessageDigest({alg:t});return i.digestString(n)};this.hashHex=function(n,t){var i=new KJUR.crypto.MessageDigest({alg:t});return i.digestHex(n)};this.sha1=function(n){var t=new KJUR.crypto.MessageDigest({alg:"sha1",prov:"cryptojs"});return t.digestString(n)};this.sha256=function(n){var t=new KJUR.crypto.MessageDigest({alg:"sha256",prov:"cryptojs"});return t.digestString(n)};this.sha256Hex=function(n){var t=new KJUR.crypto.MessageDigest({alg:"sha256",prov:"cryptojs"});return t.digestHex(n)};this.sha512=function(n){var t=new KJUR.crypto.MessageDigest({alg:"sha512",prov:"cryptojs"});return t.digestString(n)};this.sha512Hex=function(n){var t=new KJUR.crypto.MessageDigest({alg:"sha512",prov:"cryptojs"});return t.digestHex(n)};this.ripemd160=function(n){var t=new KJUR.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"});return t.digestString(n)};this.ripemd160Hex=function(n){var t=new KJUR.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"});return t.digestHex(n)}};KJUR.crypto.MessageDigest=function(n){this.setAlgAndProvider=function(n,t){if(n!=null&&t===undefined&&(t=KJUR.crypto.Util.DEFAULTPROVIDER[n]),":md5:sha1:sha256:sha512:ripemd160:".indexOf(n)!=-1&&t=="cryptojs"){try{this.md=CryptoJS.algo[n.toUpperCase()].create()}catch(i){throw n+"/"+i;}this.updateString=function(n){this.md.update(n)};this.updateHex=function(n){var t=CryptoJS.enc.Hex.parse(n);this.md.update(t)};this.digest=function(){var n=this.md.finalize();return n.toString(CryptoJS.enc.Hex)};this.digestString=function(n){return this.updateString(n),this.digest()};this.digestHex=function(n){return this.updateHex(n),this.digest()}}if(":sha256:".indexOf(n)!=-1&&t=="sjcl"){try{this.md=new sjcl.hash.sha256}catch(i){throw n+"/"+i;}this.updateString=function(n){this.md.update(n)};this.updateHex=function(n){var t=sjcl.codec.hex.toBits(n);this.md.update(t)};this.digest=function(){var n=this.md.finalize();return sjcl.codec.hex.fromBits(n)};this.digestString=function(n){return this.updateString(n),this.digest()};this.digestHex=function(n){return this.updateHex(n),this.digest()}}};this.updateString=function(){throw this.algName+"/"+this.provName;};this.updateHex=function(){throw this.algName+"/"+this.provName;};this.digest=function(){throw this.algName+"/"+this.provName;};this.digestString=function(){throw this.algName+"/"+this.provName;};this.digestHex=function(){throw this.algName+"/"+this.provName;};n!==undefined&&n.alg!==undefined&&(this.algName=n.alg,n.prov===undefined&&(this.provName=KJUR.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))};KJUR.crypto.Signature=function(n){var t=null;if(this._setAlgNames=function(){this.algName.match(/^(.+)with(.+)$/)&&(this.mdAlgName=RegExp.$1.toLowerCase(),this.pubkeyAlgName=RegExp.$2.toLowerCase())},this._zeroPaddingOfSignature=function(n,t){for(var i="",u=t/4-n.length,r=0;r<u;r++)i=i+"0";return i+n},this.setAlgAndProvider=function(n,t){if(this._setAlgNames(),t!="cryptojs/jsrsa")throw t;if(":md5:sha1:sha256:sha512:ripemd160:".indexOf(this.mdAlgName)!=-1){try{this.md=new KJUR.crypto.MessageDigest({alg:this.mdAlgName})}catch(i){throw this.mdAlgName+"/"+i;}this.init=function(n,t){var i=null;try{i=t===undefined?KEYUTIL.getKey(n):KEYUTIL.getKey(n,t)}catch(r){throw"init failed:"+r;}if(i.isPrivate===!0)this.prvKey=i,this.state="SIGN";else if(i.isPublic===!0)this.pubKey=i,this.state="VERIFY";else throw i;};this.initSign=function(n){typeof n.ecprvhex=="string"&&typeof n.eccurvename=="string"?(this.ecprvhex=n.ecprvhex,this.eccurvename=n.eccurvename):this.prvKey=n;this.state="SIGN"};this.initVerifyByPublicKey=function(n){typeof n.ecpubhex=="string"&&typeof n.eccurvename=="string"?(this.ecpubhex=n.ecpubhex,this.eccurvename=n.eccurvename):n instanceof KJUR.crypto.ECDSA?this.pubKey=n:n instanceof RSAKey&&(this.pubKey=n);this.state="VERIFY"};this.initVerifyByCertificatePEM=function(n){var t=new X509;t.readCertPEM(n);this.pubKey=t.subjectPublicKeyRSA;this.state="VERIFY"};this.updateString=function(n){this.md.updateString(n)};this.updateHex=function(n){this.md.updateHex(n)};this.sign=function(){if(this.sHashHex=this.md.digest(),typeof this.ecprvhex!="undefined"&&typeof this.eccurvename!="undefined"){var n=new KJUR.crypto.ECDSA({curve:this.eccurvename});this.hSign=n.signHex(this.sHashHex,this.ecprvhex)}else if(this.prvKey instanceof RSAKey&&this.pubkeyAlgName=="rsaandmgf1")this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof RSAKey&&this.pubkeyAlgName=="rsa")this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof KJUR.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else if(this.prvKey instanceof KJUR.crypto.DSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else throw"Signature: unsupported public key alg: "+this.pubkeyAlgName;return this.hSign};this.signString=function(n){return this.updateString(n),this.sign()};this.signHex=function(n){return this.updateHex(n),this.sign()};this.verify=function(n){if(this.sHashHex=this.md.digest(),typeof this.ecpubhex!="undefined"&&typeof this.eccurvename!="undefined"){var t=new KJUR.crypto.ECDSA({curve:this.eccurvename});return t.verifyHex(this.sHashHex,n,this.ecpubhex)}if(this.pubKey instanceof RSAKey&&this.pubkeyAlgName=="rsaandmgf1")return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,n,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof RSAKey&&this.pubkeyAlgName=="rsa"||this.pubKey instanceof KJUR.crypto.ECDSA||this.pubKey instanceof KJUR.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,n);throw this.pubkeyAlgName;}}},this.init=function(){throw this.algProvName;},this.initVerifyByPublicKey=function(){throw this.algProvName;},this.initVerifyByCertificatePEM=function(){throw this.algProvName;},this.initSign=function(){throw this.algProvName;},this.updateString=function(){throw this.algProvName;},this.updateHex=function(){throw this.algProvName;},this.sign=function(){throw this.algProvName;},this.signString=function(){throw this.algProvName;},this.signHex=function(){throw this.algProvName;},this.verify=function(){throw this.algProvName;},this.initParams=n,n!==undefined&&(n.alg!==undefined&&(this.algName=n.alg,this.provName=n.prov===undefined?KJUR.crypto.Util.DEFAULTPROVIDER[this.algName]:n.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),n.psssaltlen!==undefined&&(this.pssSaltLen=n.psssaltlen),n.prvkeypem!==undefined))if(n.prvkeypas!==undefined)throw n;else try{t=new RSAKey;t.readPrivateKeyFromPEMString(n.prvkeypem);this.initSign(t)}catch(i){throw i;}};KJUR.crypto.OID=new function(){this.oidhex2name={"2a8648ce3d0201":"ecPublicKey","2a8648ce3d030107":"secp256r1","2b8104000a":"secp256k1","2b81040023":"secp521r1"}}}();typeof KJUR!="undefined"&&KJUR||(KJUR={});typeof KJUR.crypto!="undefined"&&KJUR.crypto||(KJUR.crypto={}),function(){"use strict";KJUR.crypto.ECDSA=function(n){var t=function(){},i,r,u;(function(){var n=function(n){for(var t=0;t<n.length;++t)n[t]=Math.floor(Math.random()*256)%256},i;typeof Uint8Array!="undefined"&&(i=typeof crypto!="undefined"&&crypto.getRandomValues||typeof msCrypto!="undefined"&&msCrypto.getRandomValues,i&&(n=function(n){for(var i=new Uint8Array(n.length),i=typeof crypto!="undefined"&&crypto.getRandomValues?crypto.getRandomValues(i):msCrypto.getRandomValues(i),t=0;t<n.length;++t)n[t]=i[t]}));t.prototype.nextBytes=n})();i=new t;r=null;this.type="EC";u=function(n,t,i,r){for(var e=Math.max(t.bitLength(),r.bitLength()),o=n.add2D(i),u=n.curve.getInfinity(),f=e-1;f>=0;--f)u=u.twice2D(),u.z=BigInteger.ONE,t.testBit(f)?u=r.testBit(f)?u.add2D(o):u.add2D(n):r.testBit(f)&&(u=u.add2D(i));return u};this.getBigRandom=function(n){return new BigInteger(n.bitLength(),i).mod(n.subtract(BigInteger.ONE)).add(BigInteger.ONE)};this.setNamedCurve=function(n){this.ecparams=KJUR.crypto.ECParameterDB.getByName(n);this.prvKeyHex=null;this.pubKeyHex=null;this.curveName=n};this.setPrivateKeyHex=function(n){this.isPrivate=!0;this.prvKeyHex=n};this.setPublicKeyHex=function(n){this.isPublic=!0;this.pubKeyHex=n};this.generateKeyPairHex=function(){var f=this.ecparams.n,t=this.getBigRandom(f),i=this.ecparams.G.multiply(t),e=i.getX().toBigInteger(),o=i.getY().toBigInteger(),n=this.ecparams.keylen/4,r=("0000000000"+t.toString(16)).slice(-n),s=("0000000000"+e.toString(16)).slice(-n),h=("0000000000"+o.toString(16)).slice(-n),u="04"+s+h;return this.setPrivateKeyHex(r),this.setPublicKeyHex(u),{ecprvhex:r,ecpubhex:u}};this.signWithMessageHash=function(n){return this.signHex(n,this.prvKeyHex)};this.signHex=function(n,t){var e=new BigInteger(t,16),i=this.ecparams.n,o=new BigInteger(n,16),f;do var u=this.getBigRandom(i),s=this.ecparams.G,h=s.multiply(u),r=h.getX().toBigInteger().mod(i);while(r.compareTo(BigInteger.ZERO)<=0);return f=u.modInverse(i).multiply(o.add(e.multiply(r))).mod(i),KJUR.crypto.ECDSA.biRSSigToASN1Sig(r,f)};this.sign=function(n,t){var e=t,i=this.ecparams.n,o=BigInteger.fromByteArrayUnsigned(n),f;do var u=this.getBigRandom(i),s=this.ecparams.G,h=s.multiply(u),r=h.getX().toBigInteger().mod(i);while(r.compareTo(BigInteger.ZERO)<=0);return f=u.modInverse(i).multiply(o.add(e.multiply(r))).mod(i),this.serializeSig(r,f)};this.verifyWithMessageHash=function(n,t){return this.verifyHex(n,t,this.pubKeyHex)};this.verifyHex=function(n,t,i){var r,u,f=KJUR.crypto.ECDSA.parseSigHex(t),e,o;return r=f.r,u=f.s,e=ECPointFp.decodeFromHex(this.ecparams.curve,i),o=new BigInteger(n,16),this.verifyRaw(o,r,u,e)};this.verify=function(n,t,i){var r,u,f,e,o;if(Bitcoin.Util.isArray(t))f=this.parseSig(t),r=f.r,u=f.s;else if("object"==typeof t&&t.r&&t.s)r=t.r,u=t.s;else throw"Invalid value for signature";if(i instanceof ECPointFp)e=i;else if(Bitcoin.Util.isArray(i))e=ECPointFp.decodeFrom(this.ecparams.curve,i);else throw"Invalid format for pubkey value, must be byte array or ECPointFp";return o=BigInteger.fromByteArrayUnsigned(n),this.verifyRaw(o,r,u,e)};this.verifyRaw=function(n,t,i,r){var u=this.ecparams.n,e=this.ecparams.G;if(t.compareTo(BigInteger.ONE)<0||t.compareTo(u)>=0||i.compareTo(BigInteger.ONE)<0||i.compareTo(u)>=0)return!1;var f=i.modInverse(u),o=n.multiply(f).mod(u),s=t.multiply(f).mod(u),h=e.multiply(o).add(r.multiply(s)),c=h.getX().toBigInteger().mod(u);return c.equals(t)};this.serializeSig=function(n,t){var r=n.toByteArraySigned(),u=t.toByteArraySigned(),i=[];return i.push(2),i.push(r.length),i=i.concat(r),i.push(2),i.push(u.length),i=i.concat(u),i.unshift(i.length),i.unshift(48),i};this.parseSig=function(n){var t,i,r,u,f;if(n[0]!=48)throw new Error("Signature not a valid DERSequence");if(t=2,n[t]!=2)throw new Error("First element in signature must be a DERInteger");if(i=n.slice(t+2,t+2+n[t+1]),t+=2+n[t+1],n[t]!=2)throw new Error("Second element in signature must be a DERInteger");return r=n.slice(t+2,t+2+n[t+1]),t+=2+n[t+1],u=BigInteger.fromByteArrayUnsigned(i),f=BigInteger.fromByteArrayUnsigned(r),{r:u,s:f}};this.parseSigCompact=function(n){var t;if(n.length!==65)throw"Signature has the wrong length";if(t=n[0]-27,t<0||t>7)throw"Invalid signature type";var i=this.ecparams.n,r=BigInteger.fromByteArrayUnsigned(n.slice(1,33)).mod(i),u=BigInteger.fromByteArrayUnsigned(n.slice(33,65)).mod(i);return{r:r,s:u,i:t}};n!==undefined&&n.curve!==undefined&&(this.curveName=n.curve);this.curveName===undefined&&(this.curveName="secp256r1");this.setNamedCurve(this.curveName);n!==undefined&&(n.prv!==undefined&&this.setPrivateKeyHex(n.prv),n.pub!==undefined&&this.setPublicKeyHex(n.pub))};KJUR.crypto.ECDSA.parseSigHex=function(n){var t=KJUR.crypto.ECDSA.parseSigHexInHexRS(n),i=new BigInteger(t.r,16),r=new BigInteger(t.s,16);return{r:i,s:r}};KJUR.crypto.ECDSA.parseSigHexInHexRS=function(n){var t,i,r,u,f;if(n.substr(0,2)!="30")throw"signature is not a ASN.1 sequence";if(t=ASN1HEX.getPosArrayOfChildren_AtObj(n,0),t.length!=2)throw"number of signature ASN.1 sequence elements seem wrong";if(i=t[0],r=t[1],n.substr(i,2)!="02")throw"1st item of sequene of signature is not ASN.1 integer";if(n.substr(r,2)!="02")throw"2nd item of sequene of signature is not ASN.1 integer";return u=ASN1HEX.getHexOfV_AtObj(n,i),f=ASN1HEX.getHexOfV_AtObj(n,r),{r:u,s:f}};KJUR.crypto.ECDSA.asn1SigToConcatSig=function(n){var r=KJUR.crypto.ECDSA.parseSigHexInHexRS(n),t=r.r,i=r.s;if(t.substr(0,2)=="00"&&t.length*4%128==8&&(t=t.substr(2)),i.substr(0,2)=="00"&&i.length*4%128==8&&(i=i.substr(2)),t.length*4%128!=0)throw"unknown ECDSA sig r length error";if(i.length*4%128!=0)throw"unknown ECDSA sig s length error";return t+i};KJUR.crypto.ECDSA.concatSigToASN1Sig=function(n){if(n.length*4%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var t=n.substr(0,n.length/2),i=n.substr(n.length/2);return KJUR.crypto.ECDSA.hexRSSigToASN1Sig(t,i)};KJUR.crypto.ECDSA.hexRSSigToASN1Sig=function(n,t){var i=new BigInteger(n,16),r=new BigInteger(t,16);return KJUR.crypto.ECDSA.biRSSigToASN1Sig(i,r)};KJUR.crypto.ECDSA.biRSSigToASN1Sig=function(n,t){var i=new KJUR.asn1.DERInteger({bigint:n}),r=new KJUR.asn1.DERInteger({bigint:t}),u=new KJUR.asn1.DERSequence({array:[i,r]});return u.getEncodedHex()}}();CryptoJS.lib.Cipher||function(n){"use strict";var i=CryptoJS,t=i.lib,r=t.Base,u=t.WordArray,s=t.BufferedBlockAlgorithm,h=i.enc,it=h.Utf8,c=h.Base64,l=i.algo,a=l.EvpKDF,e=t.Cipher=s.extend({cfg:r.extend(),createEncryptor:function(n,t){return this.create(this._ENC_XFORM_MODE,n,t)},createDecryptor:function(n,t){return this.create(this._DEC_XFORM_MODE,n,t)},init:function(n,t,i){this.cfg=this.cfg.extend(i);this._xformMode=n;this._key=t;this.reset()},reset:function(){s.reset.call(this);this._doReset()},process:function(n){return this._append(n),this._process()},finalize:function(n){n&&this._append(n);return this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function n(n){return typeof n=="string"?tt:f}return function(t){return{encrypt:function(i,r,u){return n(r).encrypt(t,i,r,u)},decrypt:function(i,r,u){return n(r).decrypt(t,i,r,u)}}}}()}),rt=t.StreamCipher=e.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),v=i.mode={},y=t.BlockCipherMode=r.extend({createEncryptor:function(n,t){return this.Encryptor.create(n,t)},createDecryptor:function(n,t){return this.Decryptor.create(n,t)},init:function(n,t){this._cipher=n;this._iv=t}}),p=v.CBC=function(){function i(t,i,r){var e=this._iv,f,u;for(e?(f=e,this._iv=n):f=this._prevBlock,u=0;u<r;u++)t[i+u]^=f[u]}var t=y.extend();return t.Encryptor=t.extend({processBlock:function(n,t){var r=this._cipher,u=r.blockSize;i.call(this,n,t,u);r.encryptBlock(n,t);this._prevBlock=n.slice(t,t+u)}}),t.Decryptor=t.extend({processBlock:function(n,t){var r=this._cipher,u=r.blockSize,f=n.slice(t,t+u);r.decryptBlock(n,t);i.call(this,n,t,u);this._prevBlock=f}}),t}(),w=i.pad={},b=w.Pkcs7={pad:function(n,t){for(var o,r=t*4,i=r-n.sigBytes%r,s=i<<24|i<<16|i<<8|i,f=[],e=0;e<i;e+=4)f.push(s);o=u.create(f,i);n.concat(o)},unpad:function(n){var t=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=t}},ut=t.BlockCipher=e.extend({cfg:e.cfg.extend({mode:p,padding:b}),reset:function(){var t;e.reset.call(this);var i=this.cfg,r=i.iv,n=i.mode;this._xformMode==this._ENC_XFORM_MODE?t=n.createEncryptor:(t=n.createDecryptor,this._minBufferSize=1);this._mode=t.call(n,this,r&&r.words)},_doProcessBlock:function(n,t){this._mode.processBlock(n,t)},_doFinalize:function(){var t=this.cfg.padding,n;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),n=this._process(!0)):(n=this._process(!0),t.unpad(n)),n},blockSize:4}),o=t.CipherParams=r.extend({init:function(n){this.mixIn(n)},toString:function(n){return(n||this.formatter).stringify(this)}}),k=i.format={},d=k.OpenSSL={stringify:function(n){var t=n.ciphertext,i=n.salt,r;return r=i?u.create([1398893684,1701076831]).concat(i).concat(t):t,r.toString(c)},parse:function(n){var i=c.parse(n),t=i.words,r;return t[0]==1398893684&&t[1]==1701076831&&(r=u.create(t.slice(2,4)),t.splice(0,4),i.sigBytes-=16),o.create({ciphertext:i,salt:r})}},f=t.SerializableCipher=r.extend({cfg:r.extend({format:d}),encrypt:function(n,t,i,r){r=this.cfg.extend(r);var f=n.createEncryptor(i,r),e=f.finalize(t),u=f.cfg;return o.create({ciphertext:e,key:i,iv:u.iv,algorithm:n,mode:u.mode,padding:u.padding,blockSize:n.blockSize,formatter:r.format})},decrypt:function(n,t,i,r){r=this.cfg.extend(r);t=this._parse(t,r.format);return n.createDecryptor(i,r).finalize(t.ciphertext)},_parse:function(n,t){return typeof n=="string"?t.parse(n,this):n}}),g=i.kdf={},nt=g.OpenSSL={execute:function(n,t,i,r){r||(r=u.random(8));var f=a.create({keySize:t+i}).compute(n,r),e=u.create(f.words.slice(t),i*4);return f.sigBytes=t*4,o.create({key:f,iv:e,salt:r})}},tt=t.PasswordBasedCipher=f.extend({cfg:f.cfg.extend({kdf:nt}),encrypt:function(n,t,i,r){var u,e;return r=this.cfg.extend(r),u=r.kdf.execute(i,n.keySize,n.ivSize),r.iv=u.iv,e=f.encrypt.call(this,n,t,u.key,r),e.mixIn(u),e},decrypt:function(n,t,i,r){var u;return r=this.cfg.extend(r),t=this._parse(t,r.format),u=r.kdf.execute(i,n.keySize,n.ivSize,t.salt),r.iv=u.iv,f.decrypt.call(this,n,t,u.key,r)}})}(),function(){"use strict";var t=CryptoJS,y=t.lib,e=y.BlockCipher,p=t.algo,n=[],o=[],s=[],h=[],c=[],l=[],i=[],r=[],u=[],f=[],a,v;(function(){for(var e,p,a,t,v=[],y=0;y<256;y++)v[y]=y<128?y<<1:y<<1^283;for(e=0,p=0,y=0;y<256;y++){a=p^p<<1^p<<2^p<<3^p<<4;a=a>>>8^a&255^99;n[e]=a;o[a]=e;var w=v[e],b=v[w],k=v[b],t=v[a]*257^a*16843008;s[e]=t<<24|t>>>8;h[e]=t<<16|t>>>16;c[e]=t<<8|t>>>24;l[e]=t;t=k*16843009^b*65537^w*257^e*16843008;i[a]=t<<24|t>>>8;r[a]=t<<16|t>>>16;u[a]=t<<8|t>>>24;f[a]=t;e?(e=w^v[v[v[k^w]]],p^=v[v[p]]):e=p=1}})();a=[0,1,2,4,8,16,32,64,128,27,54];v=p.AES=e.extend({_doReset:function(){for(var v,s,t,l=this._key,y=l.words,o=l.sigBytes/4,p=this._nRounds=o+6,c=(p+1)*4,h=this._keySchedule=[],e=0;e<c;e++)e<o?h[e]=y[e]:(t=h[e-1],e%o?o>6&&e%o==4&&(t=n[t>>>24]<<24|n[t>>>16&255]<<16|n[t>>>8&255]<<8|n[t&255]):(t=t<<8|t>>>24,t=(n[t>>>24]<<24|n[t>>>16&255]<<16|n[t>>>8&255]<<8|n[t&255])^a[e/o|0]<<24),h[e]=h[e-o]^t);for(v=this._invKeySchedule=[],s=0;s<c;s++)e=c-s,t=s%4?h[e]:h[e-4],v[s]=s<4||e<=4?t:i[n[t>>>24]]^r[n[t>>>16&255]]^u[n[t>>>8&255]]^f[n[t&255]]},encryptBlock:function(t,i){this._doCryptBlock(t,i,this._keySchedule,s,h,c,l,n)},decryptBlock:function(n,t){var e=n[t+1];n[t+1]=n[t+3];n[t+3]=e;this._doCryptBlock(n,t,this._invKeySchedule,i,r,u,f,o);e=n[t+1];n[t+1]=n[t+3];n[t+3]=e},_doCryptBlock:function(n,t,i,r,u,f,e,o){for(var k=this._nRounds,s=n[t]^i[0],h=n[t+1]^i[1],c=n[t+2]^i[2],l=n[t+3]^i[3],a=4,v=1;v<k;v++){var y=r[s>>>24]^u[h>>>16&255]^f[c>>>8&255]^e[l&255]^i[a++],p=r[h>>>24]^u[c>>>16&255]^f[l>>>8&255]^e[s&255]^i[a++],w=r[c>>>24]^u[l>>>16&255]^f[s>>>8&255]^e[h&255]^i[a++],b=r[l>>>24]^u[s>>>16&255]^f[h>>>8&255]^e[c&255]^i[a++];s=y;h=p;c=w;l=b}var y=(o[s>>>24]<<24|o[h>>>16&255]<<16|o[c>>>8&255]<<8|o[l&255])^i[a++],p=(o[h>>>24]<<24|o[c>>>16&255]<<16|o[l>>>8&255]<<8|o[s&255])^i[a++],w=(o[c>>>24]<<24|o[l>>>16&255]<<16|o[s>>>8&255]<<8|o[h&255])^i[a++],b=(o[l>>>24]<<24|o[s>>>16&255]<<16|o[h>>>8&255]<<8|o[c&255])^i[a++];n[t]=y;n[t+1]=p;n[t+2]=w;n[t+3]=b},keySize:8});t.AES=e._createHelper(v)}();_QR_=function(){"use strict";var i,c;_QR_=null;var l=function(n){var u,f,i,t;for(this.mode=r.MODE_8BIT_BYTE,this.data=n,this.parsedData=[],u=0,f=this.data.length;u<f;u++)i=[],t=this.data.charCodeAt(u),t>65536?(i[0]=240|(1835008&t)>>>18,i[1]=128|(258048&t)>>>12,i[2]=128|(4032&t)>>>6,i[3]=128|63&t):t>2048?(i[0]=224|(61440&t)>>>12,i[1]=128|(4032&t)>>>6,i[2]=128|63&t):t>128?(i[0]=192|(1984&t)>>>6,i[1]=128|63&t):i[0]=t,this.parsedData.push(i);this.parsedData=Array.prototype.concat.apply([],this.parsedData);this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))},u=function(n,t){this.typeNumber=n;this.errorCorrectLevel=t;this.modules=null;this.moduleCount=0;this.dataCache=null;this.dataList=[]},s=function(n,t){var i,r;if(void 0==n.length)throw new Error(n.length+"/"+t);for(i=0;i<n.length&&0==n[i];)i++;for(this.num=new Array(n.length-i+t),r=0;r<n.length-i;r++)this.num[r]=n[r+i]},f=function(n,t){this.totalCount=n;this.dataCount=t},a=function(){this.buffer=[];this.length=0},h=function(n){var r=function(n){var t=encodeURI(n).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return t.length+(t.length!=n?3:0)},t;if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M"},"string"==typeof n&&(n={content:n}),n)for(t in n)this.options[t]=n[t];if("string"!=typeof this.options.content)throw new Error("Expected 'content' as string!");if(0===this.options.content.length)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0&&this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");var i=this.options.content,f=function(n,t){for(var u,o=r(n),f=1,i=0,e=0,s=c.length;e<=s;e++){if(u=c[e],!u)throw new Error("Content too long: expected "+i+" but got "+o);switch(t){case"L":i=u[0];break;case"M":i=u[1];break;case"Q":i=u[2];break;case"H":i=u[3];break;default:throw new Error("Unknwon error correction level: "+t);}if(o<=i)break;f++}if(f>c.length)throw new Error("Content too long");return f}(i,this.options.ecl),o=function(n){switch(n){case"L":return e.L;case"M":return e.M;case"Q":return e.Q;case"H":return e.H;default:throw new Error("Unknwon error correction level: "+n);}}(this.options.ecl);this.qrcode=new u(f,o);this.qrcode.addData(i);this.qrcode.make()};l.prototype={getLength:function(){return this.parsedData.length},write:function(n){for(var t=0,i=this.parsedData.length;t<i;t++)n.put(this.parsedData[t],8)}};u.prototype={addData:function(n){var t=new l(n);this.dataList.push(t);this.dataCache=null},isDark:function(n,t){if(n<0||this.moduleCount<=n||t<0||this.moduleCount<=t)throw new Error(n+","+t);return this.modules[n][t]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(n,t){var i,r;for(this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount),i=0;i<this.moduleCount;i++)for(this.modules[i]=new Array(this.moduleCount),r=0;r<this.moduleCount;r++)this.modules[i][r]=null;this.setupPositionProbePattern(0,0);this.setupPositionProbePattern(this.moduleCount-7,0);this.setupPositionProbePattern(0,this.moduleCount-7);this.setupPositionAdjustPattern();this.setupTimingPattern();this.setupTypeInfo(n,t);this.typeNumber>=7&&this.setupTypeNumber(n);null==this.dataCache&&(this.dataCache=u.createData(this.typeNumber,this.errorCorrectLevel,this.dataList));this.mapData(this.dataCache,t)},setupPositionProbePattern:function(n,t){for(var r,i=-1;i<=7;i++)if(!(n+i<=-1||this.moduleCount<=n+i))for(r=-1;r<=7;r++)t+r<=-1||this.moduleCount<=t+r||(this.modules[n+i][t+r]=0<=i&&i<=6&&(0==r||6==r)||0<=r&&r<=6&&(0==i||6==i)||2<=i&&i<=4&&2<=r&&r<=4)},getBestMaskPattern:function(){for(var i,r=0,u=0,t=0;t<8;t++)this.makeImpl(!0,t),i=n.getLostPoint(this),(0==t||r>i)&&(r=i,u=t);return u},setupTimingPattern:function(){for(var t,n=8;n<this.moduleCount-8;n++)null==this.modules[n][6]&&(this.modules[n][6]=n%2==0);for(t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var f,e,o,t,i,r=n.getPatternPosition(this.typeNumber),u=0;u<r.length;u++)for(f=0;f<r.length;f++)if(e=r[u],o=r[f],null==this.modules[e][o])for(t=-2;t<=2;t++)for(i=-2;i<=2;i++)this.modules[e+t][o+i]=-2==t||2==t||-2==i||2==i||0==t&&0==i},setupTypeNumber:function(t){for(var r,u=n.getBCHTypeNumber(this.typeNumber),i=0;i<18;i++)r=!t&&1==(u>>i&1),this.modules[Math.floor(i/3)][i%3+this.moduleCount-11]=r;for(i=0;i<18;i++)r=!t&&1==(u>>i&1),this.modules[i%3+this.moduleCount-11][Math.floor(i/3)]=r},setupTypeInfo:function(t,i){for(var u,e=this.errorCorrectLevel<<3|i,f=n.getBCHTypeInfo(e),r=0;r<15;r++)u=!t&&1==(f>>r&1),r<6?this.modules[r][8]=u:r<8?this.modules[r+1][8]=u:this.modules[this.moduleCount-15+r][8]=u;for(r=0;r<15;r++)u=!t&&1==(f>>r&1),r<8?this.modules[8][this.moduleCount-r-1]=u:r<9?this.modules[8][15-r]=u:this.modules[8][14-r]=u;this.modules[this.moduleCount-8][8]=!t},mapData:function(t,i){for(var f,e,o=-1,u=this.moduleCount-1,s=7,h=0,r=this.moduleCount-1;r>0;r-=2)for(6==r&&r--;;){for(f=0;f<2;f++)null==this.modules[u][r-f]&&(e=!1,h<t.length&&(e=1==(t[h]>>>s&1)),n.getMask(i,u,r-f)&&(e=!e),this.modules[u][r-f]=e,-1==--s&&(h++,s=7));if((u+=o)<0||this.moduleCount<=u){u-=o;o=-o;break}}}};u.PAD0=236;u.PAD1=17;u.createData=function(t,i,r){for(var h,s,c=f.getRSBlocks(t,i),e=new a,o=0;o<r.length;o++)h=r[o],e.put(h.mode,4),e.put(h.getLength(),n.getLengthInBits(h.mode,t)),h.write(e);for(s=0,o=0;o<c.length;o++)s+=c[o].dataCount;if(e.getLengthInBits()>8*s)throw new Error("code length overflow. ("+e.getLengthInBits()+">"+8*s+")");for(e.getLengthInBits()+4<=8*s&&e.put(0,4);e.getLengthInBits()%8!=0;)e.putBit(!1);for(;;){if(e.getLengthInBits()>=8*s)break;if(e.put(u.PAD0,8),e.getLengthInBits()>=8*s)break;e.put(u.PAD1,8)}return u.createBytes(e,c)};u.createBytes=function(t,i){for(var o,a,h,v,y,p,r,b=0,c=0,l=0,f=new Array(i.length),e=new Array(i.length),u=0;u<i.length;u++){for(o=i[u].dataCount,a=i[u].totalCount-o,c=Math.max(c,o),l=Math.max(l,a),f[u]=new Array(o),r=0;r<f[u].length;r++)f[u][r]=255&t.buffer[r+b];for(b+=o,h=n.getErrorCorrectPolynomial(a),v=new s(f[u],h.getLength()-1).mod(h),e[u]=new Array(h.getLength()-1),r=0;r<e[u].length;r++)y=r+v.getLength()-e[u].length,e[u][r]=y>=0?v.get(y):0}for(p=0,r=0;r<i.length;r++)p+=i[r].totalCount;for(var w=new Array(p),k=0,r=0;r<c;r++)for(u=0;u<i.length;u++)r<f[u].length&&(w[k++]=f[u][r]);for(r=0;r<l;r++)for(u=0;u<i.length;u++)r<e[u].length&&(w[k++]=e[u][r]);return w};for(var r={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},e={L:1,M:0,Q:3,H:2},o={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},n={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var i=t<<10;n.getBCHDigit(i)-n.getBCHDigit(n.G15)>=0;)i^=n.G15<<n.getBCHDigit(i)-n.getBCHDigit(n.G15);return(t<<10|i)^n.G15_MASK},getBCHTypeNumber:function(t){for(var i=t<<12;n.getBCHDigit(i)-n.getBCHDigit(n.G18)>=0;)i^=n.G18<<n.getBCHDigit(i)-n.getBCHDigit(n.G18);return t<<12|i},getBCHDigit:function(n){for(var t=0;0!=n;)t++,n>>>=1;return t},getPatternPosition:function(t){return n.PATTERN_POSITION_TABLE[t-1]},getMask:function(n,t,i){switch(n){case o.PATTERN000:return(t+i)%2==0;case o.PATTERN001:return t%2==0;case o.PATTERN010:return i%3==0;case o.PATTERN011:return(t+i)%3==0;case o.PATTERN100:return(Math.floor(t/2)+Math.floor(i/3))%2==0;case o.PATTERN101:return t*i%2+t*i%3==0;case o.PATTERN110:return(t*i%2+t*i%3)%2==0;case o.PATTERN111:return(t*i%3+(t+i)%2)%2==0;default:throw new Error("bad maskPattern:"+n);}},getErrorCorrectPolynomial:function(n){for(var i=new s([1],0),r=0;r<n;r++)i=i.multiply(new s([1,t.gexp(r)],0));return i},getLengthInBits:function(n,t){if(1<=t&&t<10)switch(n){case r.MODE_NUMBER:return 10;case r.MODE_ALPHA_NUM:return 9;case r.MODE_8BIT_BYTE:case r.MODE_KANJI:return 8;default:throw new Error("mode:"+n);}else if(t<27)switch(n){case r.MODE_NUMBER:return 12;case r.MODE_ALPHA_NUM:return 11;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 10;default:throw new Error("mode:"+n);}else{if(!(t<41))throw new Error("type:"+t);switch(n){case r.MODE_NUMBER:return 14;case r.MODE_ALPHA_NUM:return 13;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 12;default:throw new Error("mode:"+n);}}},getLostPoint:function(n){for(var u,f,h,t,r=n.getModuleCount(),o=0,i=0;i<r;i++)for(t=0;t<r;t++){for(var s=0,c=n.isDark(i,t),e=-1;e<=1;e++)if(!(i+e<0||r<=i+e))for(u=-1;u<=1;u++)t+u<0||r<=t+u||0==e&&0==u||c==n.isDark(i+e,t+u)&&s++;s>5&&(o+=3+s-5)}for(i=0;i<r-1;i++)for(t=0;t<r-1;t++)f=0,n.isDark(i,t)&&f++,n.isDark(i+1,t)&&f++,n.isDark(i,t+1)&&f++,n.isDark(i+1,t+1)&&f++,0!=f&&4!=f||(o+=3);for(i=0;i<r;i++)for(t=0;t<r-6;t++)n.isDark(i,t)&&!n.isDark(i,t+1)&&n.isDark(i,t+2)&&n.isDark(i,t+3)&&n.isDark(i,t+4)&&!n.isDark(i,t+5)&&n.isDark(i,t+6)&&(o+=40);for(t=0;t<r;t++)for(i=0;i<r-6;i++)n.isDark(i,t)&&!n.isDark(i+1,t)&&n.isDark(i+2,t)&&n.isDark(i+3,t)&&n.isDark(i+4,t)&&!n.isDark(i+5,t)&&n.isDark(i+6,t)&&(o+=40);for(h=0,t=0;t<r;t++)for(i=0;i<r;i++)n.isDark(i,t)&&h++;return o+2*Math.abs(100*h/r/r-50)}},t={glog:function(n){if(n<1)throw new Error("glog("+n+")");return t.LOG_TABLE[n]},gexp:function(n){for(;n<0;)n+=255;for(;n>=256;)n-=255;return t.EXP_TABLE[n]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},i=0;i<8;i++)t.EXP_TABLE[i]=1<<i;for(i=8;i<256;i++)t.EXP_TABLE[i]=t.EXP_TABLE[i-4]^t.EXP_TABLE[i-5]^t.EXP_TABLE[i-6]^t.EXP_TABLE[i-8];for(i=0;i<255;i++)t.LOG_TABLE[t.EXP_TABLE[i]]=i;return s.prototype={get:function(n){return this.num[n]},getLength:function(){return this.num.length},multiply:function(n){for(var r,u=new Array(this.getLength()+n.getLength()-1),i=0;i<this.getLength();i++)for(r=0;r<n.getLength();r++)u[i+r]^=t.gexp(t.glog(this.get(i))+t.glog(n.get(r)));return new s(u,0)},mod:function(n){if(this.getLength()-n.getLength()<0)return this;for(var u=t.glog(this.get(0))-t.glog(n.get(0)),r=new Array(this.getLength()),i=0;i<this.getLength();i++)r[i]=this.get(i);for(i=0;i<n.getLength();i++)r[i]^=t.gexp(t.glog(n.get(i))+u);return new s(r,0).mod(n)}},f.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],f.getRSBlocks=function(n,t){var i=f.getRsBlockTable(n,t);if(void 0==i)throw new Error("bad rs block @ typeNumber:"+n+"/errorCorrectLevel:"+t);for(var o=i.length/3,u=[],r=0;r<o;r++)for(var s=i[3*r+0],h=i[3*r+1],c=i[3*r+2],e=0;e<s;e++)u.push(new f(h,c));return u},f.getRsBlockTable=function(n,t){switch(t){case e.L:return f.RS_BLOCK_TABLE[4*(n-1)+0];case e.M:return f.RS_BLOCK_TABLE[4*(n-1)+1];case e.Q:return f.RS_BLOCK_TABLE[4*(n-1)+2];case e.H:return f.RS_BLOCK_TABLE[4*(n-1)+3];default:return}},a.prototype={get:function(n){var t=Math.floor(n/8);return 1==(this.buffer[t]>>>7-n%8&1)},put:function(n,t){for(var i=0;i<t;i++)this.putBit(1==(n>>>t-i-1&1))},getLengthInBits:function(){return this.length},putBit:function(n){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0);n&&(this.buffer[t]|=128>>>this.length%8);this.length++}},c=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],h.prototype.svg=function(n){var i,r;void 0===n&&(n={container:"svg"});for(var t=this.options,l=this.qrcode.modules,e="\r\n",o=t.width,s=t.height,u=l.length,h=o/(u+2*t.padding),c=s/(u+2*t.padding),a='<rect x="0" y="0" width="'+o+'" height="'+s+'" fill="'+t.background+'"/>'+e,f=0;f<u;f++)for(i=0;i<u;i++)l[i][f]&&(a+='<rect x="'+(i*h+t.padding*h).toFixed(4)+'" y="'+(f*c+t.padding*c).toFixed(4)+'" width="'+h.toFixed(4)+'" height="'+c.toFixed(4)+'" fill="'+t.color+'"/>'+e);return r="",r+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+s+'">'+e,r+=a,r+="<\/svg>",r},h.prototype.save=function(n,t){var i=this.svg();require("fs").writeFile(n,i,t)},"undefined"!=typeof module&&(module.exports=h),h};saveAs=saveAs;isWorker||(saveAs=saveAs||function(n){"use strict";if(!("undefined"==typeof n||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var s=n.document,r=function(){return n.URL||n.webkitURL||n},i=s.createElementNS("http://www.w3.org/1999/xhtml","a"),h="download"in i,c=function(n){var t=new MouseEvent("click");n.dispatchEvent(t)},l=/constructor/i.test(n.HTMLElement)||n.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent),a=function(t){(n.setImmediate||n.setTimeout)(function(){throw t;},0)},v="application/octet-stream",y=4e4,f=function(n){var t=function(){"string"==typeof n?r().revokeObjectURL(n):n.remove()};setTimeout(t,y)},p=function(n,t,i){var r,u;for(t=[].concat(t),r=t.length;r--;)if(u=n["on"+t[r]],"function"==typeof u)try{u.call(n,i||n)}catch(f){a(f)}},e=function(n){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob([String.fromCharCode(65279),n],{type:n.type}):n},o=function(t,o,s){s||(t=e(t));var y,a=this,k=t.type,b=k===v,w=function(){p(a,"writestart progress write writeend".split(" "))},d=function(){var i,e;if((u||b&&l)&&n.FileReader)return i=new FileReader,i.onloadend=function(){var t=u?i.result:i.result.replace(/^data:[^;]*;/,"data:attachment/file;"),r=n.open(t,"_blank");r||(n.location.href=t);t=void 0;a.readyState=a.DONE;w()},i.readAsDataURL(t),void(a.readyState=a.INIT);(y||(y=r().createObjectURL(t)),b)?n.location.href=y:(e=n.open(y,"_blank"),e||(n.location.href=y));a.readyState=a.DONE;w();f(y)};return a.readyState=a.INIT,h?(y=r().createObjectURL(t),void setTimeout(function(){i.href=y;i.download=o;c(i);w();f(y);a.readyState=a.DONE})):void d()},t=o.prototype,w=function(n,t,i){return new o(n,t||n.name||"download",i)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(n,t,i){return t=t||n.name||"download",i||(n=e(n)),navigator.msSaveOrOpenBlob(n,t)}:(t.abort=function(){},t.readyState=t.INIT=0,t.WRITING=1,t.DONE=2,t.error=t.onwritestart=t.onprogress=t.onwrite=t.onabort=t.onerror=t.onwriteend=null,w)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this),"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!==define.amd&&define("FileSaver.js",function(){return saveAs}));var freeze=function(){for(var n=0;n<arguments.length;++n)Object.freeze(arguments[n]);if(arguments.length)return arguments[0]},seal=function(){for(var n=0;n<arguments.length;++n)Object.seal(arguments[n]);if(arguments.length)return arguments[0]},secp256r1=new KJUR.crypto.ECDSA({curve:"secp256r1"}),secp256k1=new KJUR.crypto.ECDSA({curve:"secp256k1"}),secp256charlen=secp256r1.ecparams.keylen/4,getCurve=function(n){switch(typeof n){case"undefined":return secp256r1;case"string":switch(n){case"secp256r1":return secp256r1;case"secp256k1":return secp256k1}case"object":return n||secp256r1}return null},KeyPair=function(n,t){if(!isValidPrivateKey(n))throw n;if(!isValidPublicKeyOrSignature(t))throw t;this.privateKey=n;this.publicKey=t;freeze(this)},padLeft=function(n,t,i){while(n.length<i)n=t+n;return n},padRight=function(n,t,i){while(n.length<i)n+=t;return n},asciiToHex=function(n){for(var i,r="",t=0;t<n.length;++t)i=n.charCodeAt(t)%256,r+=(i<16?"0":"")+i.toString(16);return r},utf8ToHex=function(n){for(var t,r="",u=utf8ToHex.hex,i=0;i<n.length;i++)t=n.charCodeAt(i),t<128?r+=u(t):t<2048?r+=u(t>>6|192,t&63|128):(t&64512)==55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)==56320?(t=65536+((t&1023)<<10)+(n.charCodeAt(++i)&1023),r+=u(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)):r+=u(t>>12|224,t>>6&63|128,t&63|128);return r};utf8ToHex.hex=function(){for(var t="",n=0;n<arguments.length;++n)t+=padLeft(arguments[n].toString(16),"0",2);return t};var isValidPrivateKey=function(n,t){if(t=getCurve(t),typeof n!="string"||!/^[0-9a-f]{64}$/i.test(n))return!1;if(/[1-9a-f]/i.test(n)&&!/f{8}/i.test(n))return!0;var i=new BigInteger(n,16);return i.compareTo(BigInteger.ZERO)>0||i.compareTo(t.ecparams.n)<0},isValidPublicKeyOrSignature=function(n){return typeof n=="string"&&/^[0-9a-f]{128}$/i.test(n)},isValidHex=function(n){return typeof n=="string"&&/^([0-9a-f]{2})+$/i.test(n)},isInteger=function(n){return typeof n=="number"&&!isNaN(n)&&n===Math.floor(n)&&n<9007199254740991&&n>-9007199254740991},hexToArray=function(n){for(var i=new Uint8Array(n.length/2),t=0;t<n.length;t+=2)i[t/2]=parseInt(n.substr(t,2),16);return i},arrayToHex=function(n){for(var i="",t=0;t<n.length;++t)i+=n[t]<16?"0"+n[t].toString(16):n[t].toString(16);return i},base64urlToArray=function(n){var i,r,t;for(n=padRight(n.replace(/-/g,"+").replace(/\_/g,"/"),"=",n.length+(4-n.length%4)%4),i=atob(n),r=new Uint8Array(i.length),t=0;t<i.length;++t)r[t]=i.charCodeAt(t);return r},arrayToBase64url=function(n){for(var i="",t=0;t<n.length;++t)i+=String.fromCharCode(n[t]);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")},encodePublicKey=function(n,t){return isValidPublicKeyOrSignature(n)?t?(parseInt(n[127],16)&1?"03":"02")+n.substr(0,64):"04"+n:null},Entropy=function(){};Entropy.Last=null;Entropy.Load=null;Entropy.Add=function(n){return Entropy.Last!=n&&isValidHex(n)&&(Entropy.Last=n,n.length>secp256charlen&&(n=n.substr(0,secp256charlen)),Entropy.Current=new BigInteger(n,16).xor(Entropy.Current).mod(secp256r1.ecparams.n)),!0};Entropy.Browser=function(){var n,t;if(typeof Uint8Array!="undefined"&&(n=self.crypto||self.msCrypto,n))try{return t=new Uint8Array(32),n.getRandomValues(t),arrayToHex(t)}catch(i){}return utf8ToHex(Math.random().toString()+(new Date).toString()).substr(0,64)};Entropy.Current=Entropy.Browser();isWorker||(Entropy.Load=$.ajax({url:"/entropy",dataType:"text"}),Entropy.Load.then(Entropy.Add));jsEncryption=function(){var n=function(){};return n.addEntropy=Entropy.Add,n.sha256=function(n){return isValidHex(n)?KJUR.crypto.Util.sha256Hex(n):null},n.ripemd160=function(n){return isValidHex(n)?KJUR.crypto.Util.ripemd160Hex(n):null},n.getRandom=function(n){n=getCurve(n);var t;do t=n.getBigRandom(n.ecparams.n).xor(Entropy.Current);while(t.compareTo(n.ecparams.n)>=0||t.compareTo(BigInteger.ZERO)<=0);return t},n.getPublicKey=function(n,t){if(t=getCurve(t),!isValidPrivateKey(n,t))return null;var r=new BigInteger(n,16),i=t.ecparams.G.multiply(r),u=i.getX().toBigInteger(),f=i.getY().toBigInteger(),e=padLeft(u.toString(16),"0",secp256charlen),o=padLeft(f.toString(16),"0",secp256charlen);return e+o},n.generateKey=function(t){var i,r;for(t=getCurve(t);;)if(i=padLeft(n.getRandom(t).toString(16),"0",secp256charlen),isValidPrivateKey(i,t)&&(r=n.getPublicKey(i,t),isValidPublicKeyOrSignature(r)))return new KeyPair(i,r)},n.generateKeyk1=function(){return n.generateKey(secp256k1)},n.sign=function(t,i,r,u){var s;if(u=getCurve(u),!isValidPrivateKey(t,u)||!isValidPublicKeyOrSignature(i)||!isValidHex(r))return null;var h=n.sha256(r),c=new BigInteger(t,16),f=u.ecparams.n,l=new BigInteger(h,16);do var o=n.getRandom(u),a=u.ecparams.G,v=a.multiply(o),e=v.getX().toBigInteger().mod(f);while(e.compareTo(BigInteger.ZERO)<=0);return s=o.modInverse(f).multiply(l.add(c.multiply(e))).mod(f),padLeft(e.toString(16),"0",64)+padLeft(s.toString(16),"0",64)},n.verify=function(t,i,r,u){if(u=getCurve(u),!isValidPublicKeyOrSignature(t)||!isValidPublicKeyOrSignature(r)||!isValidHex(i))return!1;var h=n.sha256(i),e=new BigInteger(r.substr(0,64),16),o=new BigInteger(r.substr(64,64),16),c=ECPointFp.decodeFromHex(u.ecparams.curve,encodePublicKey(t,!1)),l=new BigInteger(h,16),f=u.ecparams.n,a=u.ecparams.G;if(e.compareTo(BigInteger.ONE)<0||e.compareTo(f)>=0||o.compareTo(BigInteger.ONE)<0||o.compareTo(f)>=0)return!1;var s=o.modInverse(f),v=l.multiply(s).mod(f),y=e.multiply(s).mod(f),p=a.multiply(v).add(c.multiply(y)),w=p.getX().toBigInteger().mod(f);return w.equals(e)},n.encrypt=function(n,t,i){return CryptoJS.AES.encrypt(CryptoJS.enc.Hex.parse(i),CryptoJS.enc.Hex.parse(n),{iv:CryptoJS.enc.Hex.parse(t)}).ciphertext.toString()},n.decrypt=function(n,t,i){return CryptoJS.enc.Hex.stringify(CryptoJS.AES.decrypt({ciphertext:CryptoJS.enc.Hex.parse(i)},CryptoJS.enc.Hex.parse(n),{iv:CryptoJS.enc.Hex.parse(t)}))},n.deriveKey=function(t,i){var r,u,f,o,e;if(i=i||50,r=n.deriveKey.Cache,r&&r[0]===t&&r[1]===i)return{key:r[2].key,iv:r[2].iv};for(u=utf8ToHex(t+"symetria"),f=0;f<i;++f)u=n.sha256(u);return o=u,e={key:o,iv:n.sha256(u).substr(0,32)},n.deriveKey.Cache=[t,i,e],e},n.ping=function(){return!0},n}();freeze(jsEncryption);randomBytes=function(n){for(var i="",t=n*2;t>0;t-=64)randomBytes.seed=jsEncryption.sha256(randomBytes.seed),i+=randomBytes.seed.substr(0,t);return i};randomBytes.seed=jsEncryption.getRandom().toString(16)+Entropy.Browser()+asciiToHex((new Date).toString());randomBytes.seed.length&1&&(randomBytes.seed+="0");BrowserHistory=function(){};BrowserHistory.Replace=function(n,t,i){if(i!==location.pathname){if(history&&history.replaceState)try{history.replaceState(n,t,i);return}catch(r){}location.href=i}};BrowserHistory.Push=function(n,t,i){if(history&&history.pushState)try{history.pushState(n,t,i);return}catch(r){}i!==location.pathname&&(location.href=i)};BrowserHistory.Back=function(){if(history)try{history.length>1&&history.state&&history.back()}catch(n){}};var resolved=function(n){return $.Deferred().resolve(n).promise()},rejected=function(n){return $.Deferred().reject(n).promise()},waitAll=function(n){return(n=n&&n.slice?n.slice():$.makeArray(arguments),!n||!n.length)?resolved():$.when.apply($,n).catch(function(){var t=function(){return n.length?$.when.apply($,n.shift()).then(rejected,t):rejected()};return t()})},jQueryElementList=function(){for(var t=[],n=0;n<arguments.length;++n)t.push(arguments[n][0]);return $(t)},Base58=function(){};Base58.Chars="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Base58.Int=new BigInteger("58");Base58.Encode=function(n){var t,i,u,r;if(!isValidHex(n))return null;for(t="",i=new BigInteger(n,16);i.signum();)u=i.divideAndRemainder(Base58.Int),t=Base58.Chars[u[1].intValue()]+t,i=u[0];for(r=0;r<n.length&&n.substr(r,2)==="00";r+=2)t=Base58.Chars[0]+t;return t};Base58.EncodeCheck=function(n){if(!isValidHex(n))return null;var t=jsEncryption.sha256(jsEncryption.sha256(n)).substr(0,8);return Base58.Encode(n+t)};Base58.Decode=function(n){var r,i,u,f,t;if(!Base58.Is(n))return null;for(r=BigInteger.ZERO,t=0;t<n.length;++t)r=r.multiply(Base58.Int).add(new BigInteger(Base58.Chars.indexOf(n[t]).toString()));for(i=r.toString(16),i.length%2&&(i="0"+i),u=0,t=0;t<n.length&&n[t]===Base58.Chars[0];++t)++u;for(f=0,t=0;t<i.length&&i.substr(t,2)==="00";t+=2)++f;while(u-->f)i="00"+i;return i};Base58.DecodeCheck=function(n){var t=Base58.Decode(n),i,r;return t===null||t.length<10?null:(i=t.substr(0,t.length-8),r=jsEncryption.sha256(jsEncryption.sha256(i)),r.substr(0,8)!==t.substr(t.length-8))?null:i};Base58.Is=function(n){return typeof n=="string"&&n.length&&!/[^1-9A-HJ-NP-Za-km-z]/.test(n)};freeze(Base58),function(){"use strict";var o,d,u,it,i,rt,ot,st,t,r,f,n,ut,s,nt,ft,tt,e,vt,ct;if(!isWorker)try{jsPerf.mainStart=window.performance.now()}catch(dt){}var yt=!1,pt=!0,wt=!1,bt=!1,kt="345cfe97c8c091016ccf2cb89647a4939101db10dcaba32089e7a044bf2a2a497d3ad2df28a463a2df65330f5e880cbc4f76a3c335449a3b3542109542f6a860",et,b;if(isWorker||function(){var n=$.Deferred(),r,u;if(et=n.promise(),!wt&&typeof Worker=="function")try{r=$("script");u=r.attr("src");r.length>1&&(u="combined.js");var f=new Worker(u),t=1,i={},e=function(n,r){for(var o=$.Deferred(),u,e;i[t];)++t;for(i[t]=o,u=$.makeArray(r),e=0;u&&e<u.length;++e)u[e]===secp256r1?u[e]="secp256r1":u[e]===secp256k1&&(u[e]="secp256k1");return f.postMessage([t,n,u]),++t>1e9&&(t=1),o.promise()};f.onerror=function(){for(t in i)i[t].reject&&i[t].reject(),i={};n&&(n.reject(),n=null)};f.onmessage=function(t){n&&(n.resolve(),n=null,b=e);var r=t.data[0],u=i[r];delete i[r];t.data[1]?u.resolve(t.data[2]):u.reject(t.data[2])};e("ping");return}catch(o){}n&&(n.reject(),n=null)}(),isWorker){self.onmessage=function(n){postMessage([n.data[0],!0,jsEncryption[n.data[1]].apply(jsEncryption,n.data[2])])};return}o=function(){this.handlers=[];this.bulkHandlers=[];this.queue=[]};o.prototype.addHandler=function(n,t){if(!t)throw t;var i=this,r=n?i.bulkHandlers:i.handlers,u=r.indexOf(t);u===-1&&r.push(t)};o.prototype.removeHandler=function(n){if(!n)throw n;var r=this,t=r.handlers,i=t.indexOf(n);i!==-1&&t.splice(i,1);t=r.bulkHandlers;i=t.indexOf(n);i!==-1&&t.splice(i,1)};o.prototype.raise=function(){var t=this,n=t.queue;n.length||o.Raise(n,t);n.push($.makeArray(arguments||[]))};o.Raise=function(n,t){var i=o.Queues;i||(o.Queues=i=[]);i.push([n,t]);setTimeout(o.Callback,0)};o.Callback=function(){var n=o.Queues,t;n&&(t=n.map(function(n){return[n[0].splice(0,n[0].length),n[1].handlers.slice(),n[1].bulkHandlers.slice()]}),o.Queues=null,t.forEach(function(n){n[1].forEach(function(t){n[0].forEach(function(n){t.apply(t,n)})});n[2].forEach(function(t){t(n[0])})}))};o.Flush=function(){o.Callback()};d=function(n){var t=d.All,i=t[n];return i&&delete t[n],i||{}},function(){var n=$("#Strings"),t=d.All={};n.children().each(function(n,i){var r=i.className.substr(1),u=Array.prototype.slice.call(i.attributes).reduce(function(n,t){return t.name.indexOf("data-")||(n[t.name.substr(5)]=t.value),n},{});t[r]=u});n.remove()}();var h,g,c,l,y,k,a,p,w,v,lt=function(){return!!(h&&c&&l&&y&&k&&a&&p&&w&&v)},ht=$.Deferred(),at=ht.promise();if(Entropy.Load=Entropy.Load||resolved("00"),setTimeout(function(){var i={name:"ECDSA",namedCurve:"P-256"},u={name:"ECDSA",hash:{name:"SHA-256"}},n,t=function(){var t=[],o,u,f,e,i,r;if(yt||n!=="webWorker"&&n!=="plain"){if(h&&!h.algo)try{t.push(h("01").then(function(t){h.algo=n;t!=="4bf5122f344554c53bde2ebb8cd2b7e3d1600ad631c385a5d7cce23c7785459a"&&(h=null)},function(){h=null}))}catch(nt){h=null}if(g&&!g.algo)try{t.push(g("01").then(function(t){g.algo=n;t!=="f291ba5015df348c80853fa5bb0f7946f5c9e1b3"&&(g=null)},function(){g=null}))}catch(nt){g=null}if(a&&!a.algo)try{t.push(a("4412607dae9e0177392461bdad10eb67ce67fe73d1931423253cb981284f3d1b").then(function(t){a.algo=n;t!=="559335a9b6500a49561b18fd60ac57bffb4f538592768f54ce06bf17fd19dddf9a2a8aefe207f3a0c8212aaf74e8b9bfbcb15acc32ab5d39881d3f80c4ce46fb"&&(a=null)},function(){a=null}))}catch(nt){a=null}if(e=function(){c=l=y=null},i=function(){c=l=null},y)try{t.push(y().then(function(t){if(t&&isValidPrivateKey(t.privateKey,secp256r1)&&isValidPublicKeyOrSignature(t.publicKey)){if(y.algo=y.algo||n,c||l)if(c&&l){if(!c.algo||!l.algo)return c(t.privateKey,t.publicKey,"01").then(function(r){if(isValidPublicKeyOrSignature(r))return l(t.publicKey,"01",r).then(function(t){c.algo=l.algo=n;t&&typeof t=="boolean"||i()},i);i()},i)}else i()}else e()},e))}catch(nt){e()}if(y||i(),k&&!k.algo)try{t.push(k().then(function(t){k.algo=n;t&&isValidPrivateKey(t.privateKey,secp256k1)&&isValidPublicKeyOrSignature(t.publicKey)||(k=null)},function(){k=null}))}catch(nt){k=null}if(p&&w&&(!p.algo||!w.algo)){r=function(){p=w=null};try{var s=padLeft("","1",64),b=padLeft("","2",32),d=padLeft("","45",46);t.push(p(s,b,d).then(function(t){if(p.algo=n,t!="0919b95bb86884bdc8901b31e8f446f7a1ec9e3780bf6c5c87bbdd05cf1d6f04")r();else return w(s,b,t).then(function(t){w.algo=n;t!==d&&r()},r)},r))}catch(nt){r()}}if(h&&v&&!v.algo)try{t.push(v("a",1).then(function(t){v.algo=n;t&&t.key=="5da05f99f8a34187592497f23add3f0b09fbde7b3c27577281a3e52040529170"&&t.iv=="dee7b613813c0fd416a209f66762e9eb"||(v=null)}))}catch(nt){v=null}}else for(o=[h,g,a,c,l,y,k,p,w,v],u=0;u<o.length;++u)f=o[u],f&&!f.algo&&(f.algo=n);return $.when.apply($,t)},r=[function(){var r,f,o,e;if(n="webCrypto",typeof Uint8Array!="undefined"&&(r=self.crypto,r=r&&r.subtle,f=[],o=[],r)){if(e=function(){return resolved(null)},h=h||function(n){return isValidHex(n)?r.digest("SHA-256",hexToArray(n)).then(function(n){return padLeft(arrayToHex(new Uint8Array(n)),"0",64)}):e()},typeof atob!="undefined"&&typeof btoa!="undefined"){var a=function(n,t){var u=f[n];return u?resolved(u):r.importKey("jwk",{kty:"EC",crv:"P-256",d:arrayToBase64url(hexToArray(n)),x:arrayToBase64url(hexToArray(t.substr(0,64))),y:arrayToBase64url(hexToArray(t.substr(64,64)))},i,!1,["sign"]).then(function(t){return f[n]=t,t})},v=function(n){var t=f[n];return t?resolved(t):r.importKey("jwk",{kty:"EC",crv:"P-256",x:arrayToBase64url(hexToArray(n.substr(0,64))),y:arrayToBase64url(hexToArray(n.substr(64,64)))},i,!1,["verify"]).then(function(t){return f[n]=t,t})},s=function(n){var t=o[n];return t?resolved(t):r.importKey("raw",hexToArray(n),{name:"AES-CBC"},!1,["encrypt","decrypt"]).then(function(t){return o[n]=t,t})};y=y||function(){return r.generateKey(i,!0,["sign","verify"]).then(function(n){return r.exportKey("jwk",n.privateKey)}).then(function(n){var t=padLeft(arrayToHex(base64urlToArray(n.d)),"0",64),i=padLeft(arrayToHex(base64urlToArray(n.x)),"0",64),r=padLeft(arrayToHex(base64urlToArray(n.y)),"0",64);return new KeyPair(t,i+r)})};c=c||function(n,t,i){return!isValidPrivateKey(n,secp256r1)||!isValidPublicKeyOrSignature(t)||!isValidHex(i)?e():a(n,t).then(function(n){return r.sign(u,n,hexToArray(i))}).then(function(n){return padLeft(arrayToHex(new Uint8Array(n)),"0",128)})};l=l||function(n,t,i){return!isValidPublicKeyOrSignature(n)||!isValidHex(t)||!isValidPublicKeyOrSignature(i)?e():v(n).then(function(n){return r.verify(u,n,hexToArray(i),hexToArray(t))})};p=p||function(n,t,i){return s(n).then(function(n){return r.encrypt({name:"AES-CBC",iv:hexToArray(t)},n,hexToArray(i)).then(function(n){return arrayToHex(new Uint8Array(n))})})};w=w||function(n,t,i){return s(n).then(function(n){return r.decrypt({name:"AES-CBC",iv:hexToArray(t)},n,hexToArray(i)).then(function(n){return arrayToHex(new Uint8Array(n))})})}}return t()}return resolved()},function(){return(n="webWorker",et)?et.then(function(){if(b)return b("addEntropy",Entropy.Current),et.then(function(){return h=h||function(){return b("sha256",arguments)},g=g||function(){return b("ripemd160",arguments)},y=y||function(){return b("generateKey",arguments)},k=k||function(){return b("generateKeyk1",arguments)},c=c||function(){return b("sign",arguments).then(function(n){return isValidPublicKeyOrSignature(n)?n:rejected(n)})},l=l||function(){return b("verify",arguments)},a=a||function(){return b("getPublicKey",arguments)},p=p||function(){return b("encrypt",arguments)},w=w||function(){return b("decrypt",arguments)},v=v||function(){return b("deriveKey",arguments)},Entropy.Load.then(function(n){b("addEntropy",n)})}).then(t,t)}):resolved()},function(){return n="plain",h=h||function(){return resolved(jsEncryption.sha256.apply(this,$.makeArray(arguments)))},g=g||function(){return resolved(jsEncryption.ripemd160.apply(this,$.makeArray(arguments)))},y=y||function(){return resolved(jsEncryption.generateKey.apply(this,$.makeArray(arguments)))},k=k||function(){return resolved(jsEncryption.generateKeyk1.apply(this,$.makeArray(arguments)))},c=c||function(){var n=jsEncryption.sign.apply(this,$.makeArray(arguments));return isValidPublicKeyOrSignature(n)?resolved(n):rejected(n)},l=l||function(){return resolved(jsEncryption.verify.apply(this,$.makeArray(arguments)))},a=a||function(){return resolved(jsEncryption.getPublicKey.apply(this,$.makeArray(arguments)))},p=p||function(){return resolved(jsEncryption.encrypt.apply(this,$.makeArray(arguments)))},w=w||function(){return resolved(jsEncryption.decrypt.apply(this,$.makeArray(arguments)))},v=v||function(){return resolved(jsEncryption.deriveKey.apply(this,$.makeArray(arguments)))},Entropy.Load.then(function(n){jsEncryption.addEntropy(n)}).then(t,t)}];return function(){var i=function(){r.length&&!lt()?r.shift()().then(i,i):(r=null,t=null,n=null,ht.resolve(),ht=null,lt()||alert("Encryption setup failure"))};i()}()}),u=function(n,t,i){this.id=n;this.shortName=i?n.toUpperCase():u.S[n+"_s"];this.fullName=i?u.Fiat.S[n]:u.S[n+"_f"];this.decimalUnits=t;this.unitDivisor=new BigInteger("10").pow(t);this.satoshiVersionBytes=null;this.isFiat=!!i;this.isSatoshiCurrency=!1;this.isEthereumCurrency=!1;this.isSymetriaToken=!1;this.isERC20=!1;this.canDetectBadAddress=!1},u.S=d("Currencies"),u.Fiat=function(){},u.Fiat.S=d("Fiat"),u.Fiat.ById={},u.All=[],u.ById={},u.SymetriaTokens={ById:{}},u.CreateSatoshiCurrency=function(n,t){var i=new u(n,8);return i.isSatoshiCurrency=!0,i.canDetectBadAddress=!0,i.satoshiVersionBytes=freeze(t),u.ById[n]=i,i},u.CreateEthereumCurrency=function(n){var t=new u(n,18);return t.isEthereumCurrency=!0,u.ById[n]=t,t},u.CreateSymetriaCurrency=function(n){var t=new u(n,8);return t.isEthereumCurrency=!0,t.isERC20=!0,t.isSymetriaToken=!0,u.SymetriaTokens.ById[n]=t,t},u.CreateFiatCurrency=function(n){var t=2,i;return(n==="jpy"||n==="krw")&&(t=0),n==="jod"&&(t=3),i=new u(n,t,!0),u.Fiat.ById[n]=i,i},u.GenerateSatoshiAddress=function(n,t,i){return!isInteger(n)||!isValidPublicKeyOrSignature(t)?null:Base58.EncodeCheck(jsEncryption.ripemd160(jsEncryption.sha256(padLeft(n.toString(),"0",2)+encodePublicKey(t,i))))},u.prototype.isValidSatoshiAddress=function(n){var u,t,i,f,r;if(typeof n!="string"||n.length<26||n.length>34||(u=this,t=u.satoshiVersionBytes,!t)||(i=Base58.DecodeCheck(n),!i||i.length!==42))return!1;for(f=parseInt(i.substr(0,2),16),r=0;r<t.length;++r)if(t[r]===f)return!0;return!1},u.prototype.isValidSatoshiChar=function(n){return Base58.Is(String.fromCharCode(n))},u.prototype.isValidEthereumAddress=function(n){return typeof n!="string"||n.length!==42?!1:/^0x[0-9a-f]{40}$/i.test(n)},u.prototype.isValidEthereumChar=function(n){return n>=48&&n<=57||n>=97&&n<=102||n>=65&&n<=70||n==88||n==120},u.All=[u.CreateSatoshiCurrency("btctest",[111,196]),u.CreateSatoshiCurrency("btc",[0,5]),u.CreateSatoshiCurrency("ltc",[48,5]),u.CreateSatoshiCurrency("doge",[30,22]),u.CreateEthereumCurrency("eth")],u.SymetriaTokens.All=[u.CreateSymetriaCurrency("symb"),u.CreateSymetriaCurrency("syme")],u.Fiat.All=Object.keys(u.Fiat.S).map(u.CreateFiatCurrency),u.Find=function(n){return u.ById[n]||u.SymetriaTokens.ById[n]},u.prototype.isValidAddress=function(n){var t=this;return t.isSatoshiCurrency?t.isValidSatoshiAddress(n):t.isEthereumCurrency?t.isValidEthereumAddress(n):!1},u.prototype.isValidChar=function(n){var t=this;return t.isSatoshiCurrency?t.isValidSatoshiChar(n):t.isEthereumCurrency?t.isValidEthereumChar(n):!1},u.prototype.friendlyValue=function(n){var t,i;return n.signum()?(t="",n.signum()<0&&(t="-",n=n.negate()),i=n.divideAndRemainder(this.unitDivisor),t+i[0].toString()+("."+padLeft(i[1].toString(),"0",this.decimalUnits)).replace(/[0.]+$/g,"")):"0"},u.prototype.parseValue=function(n){var r,t,i;return typeof n!="string"?null:(n=n.trim(),r=/^-/.test(n),r&&(n=n.substr(1)),!n.length)?null:/[^0-9.,]/.test(n)?null:(t=n.replace(/,/g,".").split("."),!t.length||t.length>2)?null:(i=new BigInteger("0"+t[0]).multiply(this.unitDivisor),r&&(i=i.negate()),t.length===1)?i:i.add(new BigInteger(padRight(t[1],"0",this.decimalUnits).substr(0,this.decimalUnits)))},delete u.CreateFiatCurrency,delete u.CreateSatoshiCurrency,delete u.CreateSymetriaCurrency,delete u.CreateEthereumCurrency,delete u.S,delete u.Fiat.S,freeze(u,u.All,u.ById,u.SymetriaTokens,u.SymetriaTokens.All,u.SymetriaTokens.ById),freeze.apply(freeze,u.All),freeze.apply(freeze,u.SymetriaTokens.All),it=function(){var t=function(){},f=function(n,t){var i={id:++f.id,method:n};return t&&(i.params=t),i};f.id=0;var o=function(n,t){var i={id:null,method:n};return t&&(i.params=t),i},n,u=2e3,r={},h=function(){setTimeout(t.ConnectWebSocket,u);u*=4;u>12e4&&(u=12e4)};t.ConnectWebSocket=function(){if(!n){try{n=new WebSocket((location.protocol=="http:"?"ws://":"wss://")+location.host+"/ws")}catch(t){n=null;return}n.onopen=function(){u=2e3;var n={conversionrates:!0};i.Me&&(n.account=i.Me.keyPair.publicKey);s("subscribe",n);setTimeout(e.Flush,0)};n.onclose=function(){var i,t;n=null;console.log("socket close");for(i in r)t=r[i],t&&t.reject&&t.reject();r={};h()};n.onmessage=function(t){var i,f;console.log("msg: "+t.data);try{i=JSON.parse(t.data)}catch(h){try{n.close(1007)}catch(a){}n=null;return}var u=i.id,e=i.method,o=i.result,s=i.error;if(o||s){u&&(f=r[u],f&&(delete r[u],o?f.resolve(o):f.reject(s)));return}e&&(typeof u!="undefined"&&u!==null&&u!==""?c(u,e,i.params):l(e,i.params))};n.onerror=function(){n=null}}};var c=function(){},l=function(n,t){switch(n){case"conversionrates":tt.Update(t)}},a=function(t,i){if(!n||n.readyState!==1)return rejected();var u=f(t,i),e=$.Deferred();r[u.id]=e;try{n.send(JSON.stringify(u))}catch(o){return delete r[u.id],rejected()}return e.promise()},s=t.socketSendNotification=function(t,i){if(!n||n.readyState!==1)return rejected();var r=o(t,i);try{return n.send(JSON.stringify(r)),resolved()}catch(u){return rejected()}};return t.isConnected=function(){return!!(n&&n.readyState===1)},t.Request=function(t,i){return n&&n.readyState===1?(console.log("sock req: "+t+" - "+JSON.stringify(i)),a(t,i)):(console.log("post req: "+t+" - "+JSON.stringify(i)),$.ajax({dataType:"json",contentType:"application/json; charset=utf-8",type:"POST",url:"/api",data:JSON.stringify(f(t,i))}).then(function(n){return(console.log("postresp: "+JSON.stringify(n)),n.result)?n.result:rejected(n.error)}))},t.Notify=function(t,i){return n&&n.readyState===1?s(t,i):$.ajax({contentType:"application/json; charset=utf-8",type:"POST",url:"/api",data:JSON.stringify(o(t,i))})},t}(),freeze(it),i=function(n){var t=this;Object.defineProperties(t,{keyPair:{value:n},onNewToken:{value:new o},onSpentToken:{value:new o},onUsernameChange:{value:new o},onEmailChange:{value:new o},onPhoneChange:{value:new o},username:{get:function(){return t._username}},email:{get:function(){return t._email}},phone:{get:function(){return t._phone}}});var i={},r={},f=t.setUsername=function(n){t._username=n;t.onUsernameChange.raise()},e=t.setEmail=function(n){t._email=n;t.onEmailChange.raise()},s=t.setPhone=function(n){t._phone=n;t.onPhoneChange.raise()};t.allTokens=function(n){return Object.keys(n?r[n.id]||{}:i).map(function(n){return i(n)})};t.allBalances=function(){return Object.keys(i).reduce(function(n,t){var r=i[t],u=r.currency.id;return n[u]=(n[u]||BigInteger.ZERO).add(r.value),n},{})};t.hasBalance=function(n){return n?Object.keys(r[n.id]).length>0:Object.keys(i).length>0};t.currenciesWithBalance=function(){return Object.keys(r).map(function(n){return u.Find(n)})};t.balance=function(n){var t=r[n.id];return Object.keys(t).reduce(function(n,i){return n.add(t[i].value)},BigInteger.ZERO)};t.addToken=function(n){var f=n.number,e,u;i[f]||n.account!==t||(i[f]=n,e=n.currency.id,u=r[e],u||(r[e]=u={}),u[f]=n,t.onNewToken.raise(n))};t.removeToken=function(n){var f=n.number,u;delete i[f];u=r[n.currency.id];u&&delete u[f];t.onSpentToken.raise(n)}},i.OnChange=new o,Object.defineProperties(i,{Me:{get:function(){return this._Me},set:function(n){var t=this,r=t._Me;r!==n&&(n&&(n.getAccountInfo(),n.getUnspentTokens(),n.getUnclaimedDeposits()),t._Me=n,i.OnChange.raise(r,n),o.Flush())}}}),i.OnChange.addHandler(!1,function(t,i){i?(n.body.attr("data-loggedin","1"),typeof i.username=="string"&&i.username.length?n.body.removeAttr("no-account"):n.body.attr("no-account","1")):(n.body.removeAttr("data-loggedin"),n.body.removeAttr("no-account"));n.GoHome();it.socketSendNotification("subscribe",{account:i?i.keyPair.publicKey:""})}),i.CreateBlob=function(n,t,r){return v(r).then(function(t){return p(t.key,t.iv,n.privateKey+n.publicKey)}).then(function(u){return{blob:u,usernameBlobToken:i.GetUsernameBlobToken(t,r),publicKeyBlobToken:i.GetPublicKeyBlobToken(jsEncryption.sha256(n.publicKey),r)}})},i.PasswordSeedLength=3,i.PublicKeySeedLength=32,i.GetUsernameBlobToken=function(n,t){return typeof n!="string"||!n.length?null:parseInt(new BigInteger(jsEncryption.sha256(utf8ToHex(n.toLowerCase()+t.substr(0,i.PasswordSeedLength))),16).mod(new BigInteger("100000000",10)).toString(),10)},i.GetPublicKeyBlobToken=function(n,t){return typeof n!="string"||!n.length||n.length<i.PublicKeySeedLength?null:parseInt(new BigInteger(jsEncryption.sha256(utf8ToHex(n.toLowerCase().substr(0,i.PublicKeySeedLength)+t.substr(0,i.PasswordSeedLength))),16).mod(new BigInteger("100000000",10)).toString(),10)},i.DecodeBlob=function(n,t){var i;return v(t).then(function(t){return w(keviv.key,t.iv,n)}).then(function(n){return n.length<192?rejected():(i=new KeyPair(n.substr(0,64),n.substr(64,128)),a(i.privateKey))}).then(function(n){return n!==i.publicKey?rejected():i})},i.prototype.claimDeposit=function(n,i,r){var u=this;return t.Calls.ClaimDeposit(u.keyPair,number,n,i,r).then(function(t){t=t.response;u.addToken(new ot(u,number,n,new BigInteger(t.value)))})},i.prototype.getDepositAddress=function(n,i){var r=this;return t.Calls.GetDepositAddress(r.keyPair,n,i).then(function(n){return n=n.response,{address:n.address,format:n.format}})},i.prototype.updatePassword=function(n){var r=this,u,f,e;return i.CreateBlob(r.keyPair,r.username,n).then(function(n){return u=n.blob,f=n.usernameBlobToken,e=n.publicKeyBlobToken,t.Calls.SetAccountBlob(r.keyPair,u,e,f)})},i.CreateKeyPair=function(){var n=randomBytes(32);return a(n).then(function(t){return new KeyPair(n,t)})},i.Create=function(n,r,u,f,e){var o,h,c;return i.CreateBlob(n,r,u).then(function(i){return o=i.blob,h=i.usernameBlobToken,c=i.publicKeyBlobToken,t.Calls.CreateAccount(n,s,f,e,r,h,c,o)})},i.prototype.commitToken=function(n,i){var r=this;return t.Calls.CommitToken(n.hash,i).then(function(n){return r.removeToken(i),n})},i.prototype.getAccountInfo=function(){var n=this;return t.Calls.GetAccountInfo(n.keyPair).then(function(t){t=t.response;n.setEmail(t.email);n.setPhone(t.phone);n.setUsername(t.username)})},i.prototype.getOrCreateToken=function(n,i){var u=this,o=u.allTokens(n),r,s,l,h,f,c,e;if(!o||!o.length)return rejected();for(r=BigInteger.ZERO,s=[],h=0;h<o.length;++h){if(f=o[h],f.value.equals(i))return resolved(f);l||(s.push(f),r=r.add(f.value),l=r.compareTo(i)>=0)}return(c=r.compareTo(i),c<0)?rejected():(e=[{number:randomBytes(16),value:i}],c>0&&e.push({number:randomBytes(16),value:r.subtract(i)}),t.Calls.SimpleTransfer(u.keyPair,n,s,e.map(function(n){return n.number}),e.map(function(n){return n.value})).then(function(){s.forEach(function(n){u.removeToken(n)});var t=e.map(function(t){new ot(u,t.number,n,new BigInteger(t.value))});return t.forEach(function(n){u.addToken(n)}),t[0]}))},i.prototype.getUnclaimedDeposits=function(){var n=this;return t.Calls.GetUnclaimedDeposits(n.keyPair).then(function(t){t=t.response;var i=t.unclaimeddeposits;i.forEach(function(t){n.claimDeposit(t.currency,t.transactionhash,t.index)})})},i.prototype.getUnspentTokens=function(){var n=this;return t.Calls.GetUnspentTokens(n.keyPair).then(function(t){t=t.response;var r=t.unspenttokens,u=n.allTokens(),i={};r.forEach(function(t){var r=new ot(n,t.number,t.currency,new BigInteger(t.value));i[t.number]=!0;n.addToken(r)});u.forEach(function(n){i[n.number]||alert("SPENT? *not implemented*")})})},rt=function(n,i,r,u){this.inputs=freeze(n.slice());this.tokenOutputs=freeze((i||[]).slice());this.blockchainOutputs=freeze((r||[]).slice());this.notes=typeof u=="string"?u:"";var f=t.Calls.CreateContract.Request(this);f.getHashData();this.hash=f.hash;freeze(this)},rt.Input=function(n,t){this.currency=n;this.value=t;freeze(this)},rt.TokenOutput=function(n,t,i,r){this.accountPublicKey=n;this.number=t;this.currency=i;this.value=r;freeze(this)},rt.BlockchainOutput=function(n,t,i,r){this.currency=n;this.value=t;this.fee=i;this.address=r;freeze(this)},ot=function(n,t,i,r){this.account=n;this.number=t;this.currency=i;this.value=r;freeze(this)},st=function(n,t,i){this.inputs=freeze(n.slice());this.outputs=freeze(t.slice());this.notes=typeof i=="string"?i:"";freeze(this)},st.Input=function(n,t){this.publicKey=n;this.numbers=freeze(t.slice());freeze(this)},st.Output=function(n,t){this.publicKey=n;this.values=freeze(t.slice());freeze(this)},st.Output.Value=function(n,t,i){this.number=n;this.currency=t;this.value=i;freeze(this)},t=function(){},t.Calls=function(){},t.Errors=function(){},t.GetNonce=function(){var n=+new Date;return n<=t.GetNonce.Last&&(n=t.GetNonce.Last+1),t.GetNonce.Last=n,n},t.GetNonce.Last=+new Date,t.Errors.NonceTooLow=34,t.Errors.AccountNotFound=29,t.Request=function(n,t){this.method=n;this.request=t;this.hashData=null;this.hash=null;this.response=null},t.Request.prototype.getHashData=function(){var n=this,i;n.hash||(i=n.getHashParameterData(),typeof i=="string")&&(n.hashData=t.HashBytes(asciiToHex(n.method))+i,n.hash=jsEncryption.sha256(n.hashData))},t.Request.prototype.getSignature=function(n){var t=this,i;return(t.getHashData(),!isValidHex(t.hashData))?rejected():(i=t.getSpentNumbersData(n.publicKey),c(n.privateKey,n.publicKey,i===null?t.hashData:jsEncryption.sha256(t.hashData)+i))},t.Request.prototype.addSignature=function(n,t){var i=this;return i.getSignature(n).then(function(n){i.request[t||"signature"]=n})},t.Request.prototype.getResponse=function(n){var i=this;return it.Request(i.method,i.request).then(function(r){var r=new t.Response(i,r);return n||(r=r.verify()),r},function(n){return n&&n.code?rejected(new t.Response(i,null,n)):rejected(new t.Response(i,null,null,n))})},t.HashInt=function(n){return padLeft(n.toString(16),0,8)},t.HashBytes=function(n){return t.HashInt(n.length/2)+n},t.Response=function(n,t,i,r){this.request=n;this.response=t;this.errorResponse=i;this.networkError=r;this.hashData=null;this.hash=null;n.response=this},t.Response.prototype.getHashData=function(){var n=this,t=n.getHashParameterData();typeof t=="string"&&(n.hashData=n.request.hash+t,n.hash=jsEncryption.sha256(n.hashData))},t.Response.prototype.verify=function(){var n=this;return typeof n.verifyResult=="boolean"?n.verifyResult?resolved(n):rejected(n):(n.getHashData(),typeof n.hashData!="string")?rejected(n):l(kt,n.hashData,n.response.signature).then(function(t){return(n.verifyResult=t,t)?n:rejected(n)},function(){return rejected(n)})},t.Request.prototype.getSpentNumbersData=function(n){var u=this,t=u.request,i,r;switch(u.method){case"committoken":return t.number;case"simpletransfer":return t.inputs.slice().sort().join("");case"transfer":for(i=0;i<t.inputs.length;++i)if(r=t.inputs[i],r.publickey===n)return r.numbers.slice().sort().join("")}return null},t.Request.prototype.getHashParameterData=function(){var u=this,n=u.request,i=t.HashBytes,r=t.HashInt;switch(u.method){case"setaccountblob":return n.publickey+i(n.blob)+i(asciiToHex((n.usernameblobtoken||0).toString()))+i(asciiToHex(n.publickeyblobtoken.toString()))+i(asciiToHex(n.nonce.toString()));case"createusername":return n.publickey+i(n.blob)+i(utf8ToHex(n.username))+i(asciiToHex(n.usernameblobtoken.toString()))+i(asciiToHex(n.publickeyblobtoken.toString()))+i(asciiToHex(n.nonce.toString()));case"setaccountemail":return n.publickey+i(utf8ToHex(n.email))+i(asciiToHex(n.nonce.toString()));case"setaccountphone":return n.publickey+i(utf8ToHex(n.phone))+i(asciiToHex(n.nonce.toString()));case"createcontract":return""+r(n.inputs.length)+n.inputs.slice().sort(function(n,t){return n.currency<t.currency?-1:1}).map(function(n){return i(utf8ToHex(n.currency))+i(asciiToHex(n.value))}).join("")+r((n.tokenoutputs||[]).length)+(n.tokenoutputs||[]).slice().sort(function(n,t){return n.publickey<t.publickey?-1:n.publickey>t.publickey?1:n.number<t.number?-1:1}).map(function(n){return n.publickey+n.number+i(utf8ToHex(n.currency))+i(asciiToHex(n.value))}).join("")+r((n.blockchainoutputs||[]).length)+(n.blockchainoutputs||[]).slice().sort(function(n,t){return n.currency<t.currency?-1:n.currency>t.currency?1:n.address<t.address?-1:n.address>t.address?1:0}).map(function(n){return i(utf8ToHex(n.currency))+i(utf8ToHex(n.address))+i(asciiToHex(n.value))+i(asciiToHex(n.fee))}).join("")+i(utf8ToHex(n.notes||""));case"getdepositaddress":return n.publickey+i(utf8ToHex(n.currency))+i(asciiToHex(n.nonce.toString()));case"committoken":return n.contracthash+n.publickey+n.number;case"cancelcommitment":return n.publickey+n.commitmenthash+n.number;case"claimdeposit":return n.publickey+n.transactionhash+i(asciiToHex(n.index.toString()))+n.number+i(utf8ToHex(n.currency));case"simpletransfer":return""+n.publickey+i(utf8ToHex(n.currency))+r(n.inputs.length)+n.inputs.slice().sort().join("")+r(n.outputs.length)+n.outputs.slice().sort(function(n,t){return n.number<t.number?-1:1}).map(function(n){return n.number+i(asciiToHex(n.value.toString()))}).join("");case"transfer":return""+r(n.inputs.length)+n.inputs.slice().sort(function(n,t){return n.publickey<t.publickey?-1:1}).map(function(n){return n.publickey+r(n.numbers.length)+n.numbers.slice().sort().join("")}).join("")+r(n.outputs.length)+n.outputs.slice().sort(function(n,t){return n.publickey<t.publickey?-1:1}).map(function(n){return n.publickey+r(n.values.length)+n.values.slice().sort(function(n,t){return n.number<t.number?-1:1}).map(function(n){return n.number+i(utf8ToHex(n.currency))+i(asciiToHex(n.value))}).join("")}).join("")+i(utf8ToHex(n.notes||""));case"getaccountinfo":return n.publickey;case"getunclaimeddeposits":return n.publickey;case"getunspenttokens":return n.publickey;case"createaccount":return n.publickey+i(utf8ToHex(n.referralcode||""))+i(utf8ToHex(n.email||""))+i(utf8ToHex(n.phone||""))+i(utf8ToHex(n.username||""))+i(asciiToHex((n.usernameblobtoken||0).toString()))+i(asciiToHex((n.publickeyblobtoken||0).toString()))+i(n.blob||"")}},t.Response.prototype.getHashParameterData=function(){var r=this,n=r.response,i=t.HashBytes,u=t.HashInt;switch(r.request.method){case"createaccount":case"setaccountblob":case"createusername":case"setaccountemail":case"setaccountphone":case"committoken":case"transfer":case"simpletransfer":return"";case"getdepositaddress":return i(utf8ToHex(n.address));case"cancelcommitment":return i(utf8ToHex(n.currency))+i(asciiToHex(n.value.toString()));case"claimdeposit":return i(asciiToHex(n.value))}},t.Calls.CreateAccount=function(n,i,r,u,f,e,o,s){var h={publickey:n.publicKey},c;return typeof i=="string"&&i.length&&(h.referralcode=i),typeof r=="string"&&r.length&&(h.email=r),typeof u=="string"&&u.length&&(h.phone=u),typeof f=="string"&&f.length&&(h.username=f,h.usernameblobtoken=e),typeof s=="string"&&s.length&&(h.blob=s,h.publickeyblobtoken=o),c=new t.Request("createaccount",h),c.addSignature(n).then(function(){return c.getResponse()})},t.Calls.CreateUsername=function(n,i,r,u,f,e){if(e>2)return rejected();var s={publickey:n.publicKey,blob:i,username:r,usernameblobtoken:u,publickeyblobtoken:f,nonce:t.GetNonce()},o=new t.Request("createusername",s);return o.addSignature(n).then(function(){return o.getResponse().catch(function(o){return o.code==t.Errors.NonceTooLow?t.Calls.CreateUsername(n,i,r,u,f,(e||0)+1):rejected(o)})})},t.Calls.SetAccountBlob=function(n,i,r,u,f){var e,o;return f>2?rejected():(e={publickey:n.publicKey,blob:i,publickeyblobtoken:r,nonce:t.GetNonce()},typeof u!="undefined"&&(e.usernameblobtoken=u),o=new t.Request("setaccountblob",e),o.addSignature(n).then(function(){return o.getResponse().catch(function(e){return e.code==t.Errors.NonceTooLow?t.Calls.SetAccountBlob(n,i,r,u,(f||0)+1):rejected(e)})}))},t.Calls.SetAccountEmail=function(n,i,r){if(r>2)return rejected();var f={publickey:n.publicKey,email:i,nonce:t.GetNonce()},u=new t.Request("setaccountemail",f);return u.addSignature(n).then(function(){return u.getResponse().catch(function(u){return u.code==t.Errors.NonceTooLow?t.Calls.SetAccountEmail(n,i,(r||0)+1):rejected(u)})})},t.Calls.SetAccountPhone=function(n,i,r){if(r>2)return rejected();var f={publickey:n.publicKey,phone:i,nonce:t.GetNonce()},u=new t.Request("setaccountphone",f);return u.addSignature(n).then(function(){return u.getResponse().catch(function(u){return u.code==t.Errors.NonceTooLow?t.Calls.SetAccountPhone(n,i,(r||0)+1):rejected(u)})})},t.Calls.GetUsernameBlob=function(n,i){var r={username:n,usernametoken:i},u=new t.Request("getusernameblob",r);return u.getResponse(!0)},t.Calls.CreateContract=function(n){return t.Calls.CreateContract.Request(n).getResponse(!0)},t.Calls.CreateContract.Request=function(n){var i={};return n.notes!==""&&(i.notes=n.notes),i.inputs=n.inputs.map(function(n){return{currency:n.currency.id,value:n.value.toString()}}),n.tokenOutputs.length&&(i.tokenoutputs=n.tokenOutputs.map(function(n){return{publickey:n.accountPublicKey,number:n.number,currency:n.currency.id,value:n.value.toString()}})),n.blockchainOutputs.length&&(i.blockchainoutputs=n.blockchainOutputs.map(function(n){return{currency:n.currency.id,value:n.value.toString(),fee:n.fee.toString(),address:n.address}})),new t.Request("createcontract",i)},t.Calls.GetDepositAddress=function(n,i,r){var f={publickey:n.publicKey,currency:i.id,nonce:t.GetNonce()},u;return r&&(f.format=r),u=new t.Request("getdepositaddress",f),u.addSignature(n).then(function(){return u.getResponse()})},t.Calls.CommitToken=function(n,i){var u={contracthash:n,publickey:i.account.keyPair.publicKey,number:i.number},r=new t.Request("committoken",u);return r.addSignature(i.account.keyPair).then(function(){return r.getResponse()})},t.Calls.CancelCommitment=function(n,i,r){var f={commitmenthash:i,publickey:n.publicKey,number:r},u=new t.Request("cancelcommitment",f);return u.addSignature(n).then(function(){return u.getResponse()})},t.Calls.ClaimDeposit=function(n,i,r,u,f){var o={publickey:n.publicKey,transactionhash:u,number:i,index:f,currency:r.id},e=new t.Request("claimdeposit",o);return e.addSignature(n).then(function(){return e.getResponse()})},t.Calls.GetAccountInfo=function(n){var r={publickey:n.publicKey},i=new t.Request("getaccountinfo",r);return i.addSignature(n).then(function(){return i.getResponse(!0)})},t.Calls.GetUnclaimedDeposits=function(n){var r={publickey:n.publicKey},i=new t.Request("getunclaimeddeposits",r);return i.addSignature(n).then(function(){return i.getResponse(!0)})},t.Calls.GetUnspentTokens=function(n){var r={publickey:n.publicKey},i=new t.Request("getunspenttokens",r);return i.addSignature(n).then(function(){return i.getResponse(!0)})},t.Calls.SimpleTransfer=function(n,i,r,u,f){for(var o,s={publickey:n.publicKey,currency:i.id,inputs:r.map(function(n){return n.number}),outputs:[]},e=0;e<u.length;++e)s.outputs.push({number:u[e],value:f[e].toString()});return o=new t.Request("simpletransfer",s),o.addSignature(n).then(function(){return o.getResponse()})},r=function(n){var t=this;t.element=n.empty();t.itemTexts={};t.filters=[];var i=n.attr("data-autocomplete"),f=n.attr("data-type")||"text",u=n.attr("data-maxlen");t.isCurrency=n.hasClass("Currency");t.isAddress=n.hasClass("Address");t.isHex=n.hasClass("Hex");t.anyItems=!1;var y=t.errorElement=$("<span class=Error><\/span>"),e=t.placeholderElement=$("<span class=Placeholder><\/span>"),o=t.alternateElement=$("<span class=Alternate><\/span>").click(t,r.AlternateHandler),s=t.labelElement=$("<span class=Label><\/span>"),h=t.dropdownElement=$("<span class='Dropdown Hide'><\/span>").click(t,r.DropDownHandler),c=t.enterPromptElement=$("<div class=EnterPrompt><\/div>"),l=t.noteElement=$("<div class=Note><\/div>"),a=t.itemsElement=$("<div class=Items><\/div>"),v=t.textElement=$("<input spellcheck=off />").prop("type",f).keypress(t,r.KeyPressHandler).on("input",t,r.InputHandler).focus(t,r.FocusHandler);t.setPlaceholder(n.attr("data-placeholder")).setEnterPrompt(n.attr("data-promptbutton"),n.attr("data-prompttext")).setAlternate(n.attr("data-alternate")).setNote(n.attr("data-note")).setLabel(n.attr("data-label")).setNoMatchingItems(n.attr("data-noitems"));i&&t.setAutocomplete(i);u&&t.setMaxLength(parseInt(u,10));n.append(v,t.errorElement,e,s,o,h,l,c,a)},r.Create=function(n){var t=$("<div class=LiveTextBox><\/div>");return n&&(n==="Currency"||n==="Address"||n==="Hex"?t.addClass(n):t.attr("data-type",n)),new r(t)},r.ConvertEventArgs=function(){var n=$.makeArray(arguments[0]);return n&&n.length&&typeof n[0]=="string"&&(n[0]="ltb_"+n[0]),n},r.prototype.addItem=function(n){var t=this,u=t.itemTexts,f=t.filters,i;return n.click(t,r.SelectItemHandler),i=r.GetItemText(n),u[i]=n,f.push([n,!0,i.toLowerCase()]),t.itemsElement.append(n),t.anyItems||(t.anyItems=!0,t.dropdownElement.removeClass("Hide")),t},r.prototype.removeItem=function(n){var t=this,e=t.itemTexts,u=t.filters,o=r.GetItemText(n),i,f;for(delete e[o],i=0;i<u.length;++i)if(f=u[i],f[0]===n){u.splice(i,1);break}return n.remove(),t.itemsElement.is(":empty")||(t.anyItems=!1,t.dropdownElement.addClass("Hide")),t},r.prototype.on=function(){var n=this,t=n.element;return t.on.apply(t,r.ConvertEventArgs(arguments)),n},r.prototype.off=function(){var n=this,t=n.element;return t.off.apply(t,r.ConvertEventArgs(arguments)),n},r.prototype.focus=function(){var i=this,n=i.textElement,t;n.focus();t=n.val().length;try{n[0].setSelectionRange(t,t)}catch(r){}return i},r.prototype.blur=function(){var n=this;return n.textElement.blur(),n},r.prototype.setNoMatchingItems=function(n){var t=this;return t.noMatchingItems=n||"",this},r.prototype.queueFilter=function(){var n=this;!n.filterQueued&&n.filters.length&&(n.filterQueued=!0,setTimeout(function(){n.filter()},0))},r.prototype.filter=function(){var n=this,t;(n.filterQueued=!1,t=n.textElement.val().trim().toLowerCase(),t!==n.lastFilter)&&(n.lastFilter=t,n.anyFilterMatches=!1,n.filters.forEach(function(i){for(var r=!1,u=2;u<i.length;++u)if(i[u].indexOf(t)!==-1){n.anyFilterMatches=r=!0;break}r!==i[1]&&(i[1]=r,i[0].toggleClass("Hide",!r))}),n.setError())},r.prototype.setAutocomplete=function(n){var t=this;return t.textElement.attr("autocomplete",n),t},r.prototype.raiseChange=function(n){var t=this;t.element.trigger("ltb_change",[n]);!n&&t.enterPromptElement&&t.enterPromptElement.removeClass("Active")},r.prototype.raiseEnterKey=function(){var n=this;n.element.trigger("ltb_enterkey")},r.prototype.match=function(n){var t=this,i;t.setError();n===t.textElement?(t.itemsElement.children().removeClass("Selected"),i=t.itemTexts[n.val().trim()],i&&i.addClass("Selected"),t.queueFilter()):n===t.itemsElement&&t.textElement.val(r.GetItemText(n.children(".Selected")));t.textElement.toggleClass("NotEmpty",t.textElement.val().trim().length>0)},r.prototype.setError=function(n){var t=this;return!n&&t.filters.length&&t.anyFilterMatches===!1&&(n=t.noMatchingItems),n?(t.element.addClass("Error"),t.errorElement.text(n)):t.element.removeClass("Error"),t},r.prototype.setEnterPrompt=function(n,t){var i=this,u=i.enterPromptElement.empty();return n&&u.append($("<div><\/div>").append($("<span class=Continue><\/span>").text(n).click(i,r.ContinueHandler))),t&&u.append($("<div><\/div>").append($("<span><\/span>").text(t))),i},r.prototype.setMaxLength=function(n){var t=this;return t.textElement.prop("maxlength",n||1e5),t},r.prototype.handleEnterPrompt=function(n){var t=this,i=t.enterPromptElement;i&&i.toggleClass("Active",n&&t.textElement.val().trim().length>0)},r.prototype.getText=function(){return this.textElement.val()},r.prototype.getItem=function(n){var t=this.itemsElement.children(".Selected");return t.length||!n,t},r.prototype.setText=function(n){var t=this;return n!==t.textElement.val()&&(t.textElement.val(n),t.match(t.textElement)),t},r.prototype.setItem=function(n){var t=this;return n&&n.hasClass("Selected")||(t.itemsElement.children().removeClass("Selected"),n&&n.addClass("Selected"),t.match(t.itemsElement)),t},r.prototype.setAlternate=function(n){var t=this,i=t.alternateElement.text(n||"").toggleClass("Hide",!n),r=n?i.width()+8+"px":"";return t.textElement.css("padding-right",r),t},r.prototype.setLabel=function(n){var t=this,i=t.labelElement.text(n||"").toggleClass("Hide",!n),r=n?i.width()+8+"px":"";return t.textElement.css("padding-right",r),t},r.prototype.setNote=function(n){var t=this;return t.noteElement.text(n||"").toggleClass("Hide",!n),t},r.prototype.setPlaceholder=function(n){var t=this;return t.placeholderElement.text(n||"").toggleClass("Hide",!n),t},r.SelectItemHandler=function(n){for(var i=n.data,t=$(n.target);t.length&&!t.parent().hasClass("Items");)t=t.parent();t.length&&(n.stopPropagation(),i.setItem(t),i.raiseChange(!1),i.textElement.removeClass("Active").blur())},r.KeyPressHandler=function(n){var t=n.data,i=n.which,u,e,h,r,o,f,s;if(i===13){t.raiseChange(!1);t.raiseEnterKey();n.preventDefault();return}if(u=t.Currency,e=i>=48&&i<=57,t.isCurrency){if(h=e||i===46||i===44,!h){n.preventDefault();return}if(r=t.getText(),o=/[.,]/.test(r),e){if(o&&u){f=r.indexOf(".");f===-1&&(f=r.indexOf(","));s=r.length;try{s=t.textElement[0].selectionStart}catch(c){}if(f+u.decimalUnits<r.length&&s>f){n.preventDefault();return}}}else if(o){n.preventDefault();return}}if(t.isAddress&&u&&!u.isValidChar(i)){n.preventDefault();return}if(t.isHex&&!e&&!(n.which>=65&&n.which<=70)&&!(n.which>=97&&n.which<=102)){n.preventDefault();return}},r.InputHandler=function(n){var t=n.data;t.isAddress&&t.Currency&&t.Currency.isEthereumCurrency&&/^0x0x/i.test(t.getText())&&t.setText(t.getText().substr(2).toLowerCase());t.match(t.textElement);t.handleEnterPrompt(!0);t.raiseChange(!0)},r.ContinueHandler=function(n){var t=n.data;t.raiseChange(!1)},r.FocusHandler=function(n){var t=n.data,i=t.element.find(":focus").length>0;t.textElement.toggleClass("Active",i);i&&t.isAddress&&t.getText()===""&&t.Currency&&t.Currency.isEthereumCurrency&&t.setText("0x");t.handleEnterPrompt(i)},r.DropDownHandler=function(n){var t=n.data;t.textElement.toggleClass("Active");t.setError()},r.AlternateHandler=function(n){var t=n.data;t.element.trigger("ltb_alternate")},r.GetItemText=function(n){if(!n)return"";var t=n.attr("data-txt");return t?t:n.text()},f=function(n){var t=this;t.element=n;t.clear()},f.ConvertEventArgs=function(){var n=$.makeArray(arguments[0]);return n&&n.length&&typeof n[0]=="string"&&(n[0]="cf_"+n[0]),n},f.prototype.on=function(){var n=this.element;n.on.apply(n,f.ConvertEventArgs(arguments))},f.prototype.off=function(){var n=this.element;n.off.apply(n,f.ConvertEventArgs(arguments))},f.prototype.addStep=function(n,t){var i=this,e=i.stepsElement,r,u;t=t||1;r=!i.stepCount;u=$("<div class=Step><\/div>").appendTo(e).append($("<div class=Overlay><\/div>").click(i,f.StepHandler)).append($("<div class=Dot><\/div>")).append($("<div class=Content><\/div>").append(n));++i.stepCount;f.SetupStepClasses(u,i.step-i.stepCount);t&&(i.stepFooterMap[i.stepCount]=t);r?i.element.trigger("cf_step",[1,0]):i.disableInputs(i.stepCount)},f.prototype.removeFutureSteps=function(){for(var n=this;n.stepCount>n.step;)n.enableInputs(n.stepCount),n.stepsElement.children().last().remove(),--n.stepCount},f.prototype.addFooterStep=function(n,t){var i=this,r,u,e;typeof t!="string"&&(t=n.attr("alt")||"");r=i.element.children("footer").children(".Steps");u=!i.footerStepCount;u?r=$("<div class=Steps><\/div>").appendTo($("<footer><\/footer>").prependTo(i.element).append($("<div class=Tracker><\/div>"))):r.append(document.createTextNode(" "));e=$("<div><\/div>").append($("<div><\/div>").append(n.click(i,f.FooterStepHandler))).append($("<span><\/span>").text(t).click(i,f.FooterStepHandler)).appendTo(r);++i.footerStepCount;f.SetupFooterStepClasses(e,i.footerStep-i.footerStepCount)},f.prototype.setSummary=function(n,t){var r=this,i=r.contentElement.children(".Summary");if(!n&&!t){i.remove();return}i.length||(i=$("<section class=Summary><\/section>").prependTo(r.contentElement));i.empty();n&&$("<div><\/div>").append(n).appendTo(i);t&&$("<footer><\/footer>").append(t).appendTo(i)},f.prototype.setHeader=function(n){var i=this,t=i.element.children("header");if(!n){t.remove();return}t.length||(t=$("<header><\/header>").prependTo(i.element));typeof n=="string"?$("<span><\/span>").text(n).appendTo(t):n.appendTo(t)},f.prototype.setError=function(n){var t=this;t.stepsElement.children(".Step").eq(t.step-1).toggleClass("Error",!!n)},f.prototype.clear=function(){var n=this,t;n.stepCount=0;n._step=1;n.footerStepCount=0;n._footerStep=1;n.stepFooterMap={};n.disabledInputs={};n.element.empty();t=n.contentElement=$("<div class=Content><\/div>").appendTo(n.element);n.stepsElement=$("<div class=Container><\/div>").appendTo($("<div class=Steps><\/div>").appendTo(t));n.element[0].addEventListener("wheel",function(t){var r,i;(t.preventDefault(),n.WheelDisableTimer)||(r=t.deltaY>0?1:-1,n.WheelCumulativeTimer||(n.WheelCumulativeTimer=setTimeout(function(){delete n.WheelCumulative;delete n.WheelCumulativeTimer},2e3)),n.WheelCumulative=(n.WheelCumulative||0)+r,(n.WheelCumulative>3||n.WheelCumulative<-3)&&(n.WheelCumulativeTimer&&(clearTimeout(n.WheelCumulativeTimer),delete n.WheelCumulativeTimer),n.WheelDisableTimer=setTimeout(function(){delete n.WheelDisableTimer;delete n.WheelCumulative},300),i=n.step+r,i>=1&&i<=n.stepCount&&n.element.trigger("cf_steprequest",[i])))});n.reposition()},f.prototype.findStepIndex=function(n){for(;;){if(!n.length)return 0;var t=n.parent("div");if(t.hasClass("Steps"))return n.index()+1;n=t}},f.prototype.reposition=function(){var t=this;setTimeout(function(){var i=0;if(t.stepCount>1){var r=t.stepsElement.parent().height(),f=t.stepsElement.height(),e=t.stepsElement.children().eq(t.step-1),s=e.position().top,o=e.height(),u=r<=o?0:r/2-o/2;u<n.rem&&(u=n.rem);i=-(s-u);i+f<r&&(i=r-f);i>0&&(i=0)}t.stepsElement.css("top",i+"px").parent().scrollTop(0)})},f.prototype.disableInputs=function(n){var t=this;n<1||n>t.stepCount||(t.disabledInputs[n]||(t.disabledInputs[n]=[]),t.stepsElement.children().eq(n-1).find("input").each(function(){this.disabled||(this.disabled=!0,t.disabledInputs[n].push(this))}))},f.prototype.enableInputs=function(n){var t=this,i;n<1||n>t.stepCount||(i=t.disabledInputs[n],i)&&(t.disabledInputs[n]=[],i.forEach(function(n){n.disabled=!1}))},f.prototype.stepDisplay=function(n,t){if(n=this.stepsElement.children(".Step").eq(n-1),typeof t=="undefined")return!n.hasClass("Hide");n.toggleClass("Hide",!t)},f.FooterStepHandler=function(n){var t=n.data,f=t.findStepIndex($(n.target)),i,e,r,u;if(f){for(i=1,e=1,r=1;r<t.stepCount;++r)if(u=t.stepFooterMap[r],u){if(u===f&&(i=r),u>=f)break;u>e&&(i=r)}i<=t.stepCount&&i!==t.step&&t.element.trigger("cf_steprequest",[i])}},f.StepHandler=function(n){var t=n.data,i=t.findStepIndex($(n.target));i&&i!=t.step&&t.element.trigger("cf_steprequest",[i])},f.SetupStepClasses=function(n,t){var i=Math.abs(t);n.toggleClass("Fade3",i>=3).toggleClass("Fade2",i==2).toggleClass("Fade1",i==1).toggleClass("Active",t>=0).children(".Overlay").toggleClass("Hide",!t)},f.SetupFooterStepClasses=function(n,t){n.toggleClass("Active",t>=0)},Object.defineProperties(f.prototype,{step:{get:function(){return this._step},set:function(n){var t=this,r=t._step,i;for(n<1&&(n=1),n>t.stepCount&&(n=t.stepCount);n<t.stepCount&&!this.stepDisplay(n);)++n;r!==n&&(t.setError(),t.stepsElement.children().each(function(t){f.SetupStepClasses($(this),n-t-1)}),t._step=n,i=t.stepFooterMap[n],i&&i!==t.footerStep&&(t.footerStep=i),t.disableInputs(r),t.enableInputs(n),t.reposition(),t.element.trigger("cf_step",[n,r]))}},footerStep:{get:function(){return this._footerStep},set:function(n){var t=this,i=t._footerStep;(n<1&&(n=1),n>t.footerStepCount&&(n=t.footerStepCount),i!==n)&&(t.element.children("footer").children(".Steps").children().each(function(t){f.SetupFooterStepClasses($(this),n-t-1)}),t._footerStep=n)}}}),f.S=d("ConversationFlows"),n=function(){},n.window=$(window),n.doc=$(document),n.body=$("body"),n.html=$("html"),n.print=$("body > .Print"),n.rem=parseInt($("html").css("font-size"),10)||16,n.Q=function(n){return $("<span class=Q><\/span>").text(n)},n.Regex={Email:/^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*(?:\.[a-zA-Z0-9-]{2,})$/,Username:/^.{1,50}$/,Password:/.{6,}/,Param0:/\[0\]/g,PrivateKey:/^[0-9a-f]{64}$/i},n.Setup=function(){delete n.Setup;[n.TopBar,n.WelcomeInfo,n.Scenes.Welcome,n.Ticker].forEach(function(n){n=n.Setup;n&&n()});n.WelcomeConverter.Reset();try{jsPerf.uiSetup=window.performance.now()}catch(t){}},n.DelaySetup=function(){var u;delete n.DelaySetup;var t=[n.Register,n.Login,n.ContextMenu,n.Languages,n.SlidingMenu,n.DashboardConverter,n.DashboardWallets,n.AllWallets,n.AccountInfoBar,n.RecoveryInfo,n.RecoverAccount],i=[nt.Get,ft.Get],r=function(){for(var n;!n&&t.length;)n=t.shift().Setup;!n&&i.length&&(n=i.shift());n&&(n(),setTimeout(r,10))};setTimeout(r,10);u=/input|select|textarea/i;n.doc.on("keydown",function(t){var i,r;t.which===8?(i=t.target,(!u.test(i.tagName)||i.disabled||i.readOnly)&&t.preventDefault()):t.which===27&&(r=n.ContextMenu,r.$.hasClass("Hide")||r.Hide())});$("form").submit(function(n){return n.preventDefault(),!1})},n.SetLanguage=function(n){try{document.cookie="L="+n+"; "+(location.protocol==="https:"?"Secure; ":"")+"Expires="+new Date((new Date).getFullYear()+2,1,1).toUTCString();location.reload()}catch(t){location.assign("language/"+n)}},n.Converter=function(){},n.Converter.CurrencyItem=function(n){return $("<div class=ConverterItem><\/div>").attr("data-id",n.id).append(nt.Get(n)).append($("<span><\/span>").text(n.fullName+" ("+n.shortName+")"))},n.Converter.WalletItem=function(t){var e=n.Converter,u=i.Me,f,r;return u?(f=u.balance(t),r=t.fullName+" ("+t.shortName+")",$("<div class='ConverterItem Wallet'><\/div>").attr("data-id",t.id).attr("data-txt",r).append(nt.Get(t)).append($("<div class=Info><\/div>").append($("<span><\/span>").text(r)).append($("<span class=Value><\/span>").text(t.friendlyValue(f)+" "+t.shortName)))):e.CurrencyItem(t)},n.Converter.UpdateWalletValue=function(n,t){return n.find(".Value").text(t.friendlyValue(bal)+" "+t.shortName)},n.Converter.GetCurrency=function(n){if(n){var t=n.getItem().attr("data-id");if(t)return u.ById[t]||u.SymetriaTokens.ById[t]}},n.Converter.S=d("Converters"),n.Scenes=function(){},n.Scenes.Show=function(t,i){n.body.attr("data-scene",t);n.Scenes[t].$.children(".Content").attr("data-content",i)},n.Scenes.Login=function(){},n.Scenes.Login.$=$("#LoginScene"),n.Scenes.Login.Show=function(t){n.Scenes.Show("Login",t)},n.Scenes.Welcome=function(){},n.Scenes.Welcome.$=$("#WelcomeScene"),n.Scenes.Welcome.Setup=function(){var t=n.Scenes.Welcome;(delete t.Setup,t.$.length)&&t.$.find(".RoundHighlighted").click(function(){$("#WelcomeContent").attr("data-action","Converting")})},n.Scenes.Welcome.Show=function(t){$("#WelcomeContent").removeAttr("data-action");n.Scenes.Show("Welcome",t||(i.Me?"Dashboard":"Welcome"));n.Ticker.StartReposition()},n.Scenes.Wallets=function(){},n.Scenes.Wallets.$=$("#WalletsScene"),n.Scenes.Wallets.Setup=function(){var t=n.Scenes.Wallets;(delete t.Setup,t.$.length)&&(t.Nav=t.$.children("nav"),t.Nav.children(".History").click(n.WalletsHistory.Show),t.Nav.children(".AllWallets").click(n.AllWallets.Show))},n.Scenes.Wallets.Show=function(t){var r=n.Scenes,i=r.Wallets;i.Setup&&i.Setup();r.Show("Wallets",t);i.Nav.attr("data-content",t)},n.Scenes.Account=function(){},n.Scenes.Account.$=$("#AccountScene"),n.Scenes.Account.Setup=function(){var t=n.Scenes.Account;(delete t.Setup,t.$.length)&&(t.Nav=t.$.children("nav"),t.Nav.children(".Profile").click(n.Profile.Show),t.Nav.children(".Preferences").click(n.Preferences.Show))},n.Scenes.Account.Show=function(t){var r=n.Scenes,i=r.Account;i.Setup&&i.Setup();r.Show("Account",t);i.Nav.attr("data-content",t)},n.WelcomeInfo=function(){},n.WelcomeInfo.$=$("#WelcomeInfo"),n.WelcomeInfo.Setup=function(){var t=n.WelcomeInfo;(delete t.Setup,t.$.length)&&t.$.children(".Invite").find(".Button").click(n.Register.Show)},n.WelcomeConverter=function(){},n.WelcomeConverter.$=$("#WelcomeConverter"),n.WelcomeConverter.S=d("WelcomeConverter"),n.WelcomeConverter.Setup=function(){var t=n.WelcomeConverter,i;if(delete t.Setup,t.$.length){i=t.$.children(".ConversationFlow");t.Footers=i.find("footer>.Steps img");t.Flow=new f(i.empty());t.Flow.on("steprequest",t.HandleStepRequest);t.Flow.on("step",t.HandleStepChange)}},n.WelcomeConverter.Reset=function(){var t=n.WelcomeConverter,i=n.Converter;(t.Setup&&t.Setup(),t.$.length)&&(t.Clear(),t.Footers.each(function(){t.Flow.addFooterStep($(this))}),t.Flow.setHeader(i.S.header),t.AddStep1(),t.AddStep2(),t.AddStep3(),t.AddStep4(),t.AddStep5())},n.WelcomeConverter.Clear=function(){var t=n.WelcomeConverter;t.Flow.clear()},n.WelcomeConverter.AddStep1=function(){var t=n.WelcomeConverter,i=n.Converter,e=n.Q(t.S.q1),f=t.ToCurrencyBox=r.Create().setPlaceholder(i.S.selectcurrency).setNoMatchingItems(i.S.nocurrencies);u.SymetriaTokens.All.forEach(function(n){f.addItem(i.CurrencyItem(n))});t.Flow.addStep(jQueryElementList(e,f.element),1);f.on("change",function(r,u){if(t.Flow.step===1&&!u){var f=i.GetCurrency(t.ToCurrencyBox);t.Q2.text(f?t.S.q2_2.replace(n.Regex.Param0,f.fullName):t.S.q2_1);t.Q4.text(f?t.S.q4_2.replace(n.Regex.Param0,f.fullName):t.S.q4_1);t.Q4_TokenNote.toggleClass("Hide",!(f&&f.isSymetriaToken));t.DestinationCurrencyBox.setPlaceholder(f?i.S.address.replace(n.Regex.Param0,f.fullName):i.S.enteraddress);t.DestinationCurrencyBox.setNote(f&&f.isERC20?i.S.erc20.replace(n.Regex.Param0,f.fullName):"");t.AmountCurrencyBox.setLabel(f?f.shortName:"");f&&(t.AmountCurrencyBox.Currency=f,t.DestinationCurrencyBox.Currency=f,++t.Flow.step)}})},n.WelcomeConverter.AddStep2=function(){var t=n.WelcomeConverter,i=n.Converter,e=t.Q2=n.Q(t.S.q2_1),f=t.FromCurrencyBox=r.Create().setPlaceholder(i.S.selectcurrency).setNoMatchingItems(i.S.nocurrencies);u.All.forEach(function(t){f.addItem(n.Converter.CurrencyItem(t))});t.Flow.addStep(jQueryElementList(e,f.element),1);f.on("change",function(r,u){if(t.Flow.step===2&&!u){var e=i.GetCurrency(t.ToCurrencyBox),f=i.GetCurrency(t.FromCurrencyBox);t.Q5.text(f?t.S.q5_2.replace(n.Regex.Param0,f.fullName):t.S.q5_1);t.RefundCurrencyBox.setPlaceholder(f?i.S.address.replace(n.Regex.Param0,f.fullName):i.S.enteraddress);e&&f&&e!==f&&(t.RefundCurrencyBox.Currency=f,++t.Flow.step)}})},n.WelcomeConverter.AddStep3=function(){var t=n.WelcomeConverter,i=n.Converter,o=n.Q(t.S.q3),u=t.AmountCurrencyBox=r.Create("Currency").setPlaceholder(i.S.enteramount).setEnterPrompt(f.S.continue,f.S.pressenter),s=$("<span class=Or><\/span>").text(i.S.or),e=$("<div class=BoxHighlighted><\/div>").text(i.S.convertall);t.Flow.addStep(jQueryElementList(o,u.element,s,e),2);u.on("change",function(n,r){var u,f;if(t.Flow.step===3&&(t.ConvertingAll=!1,!r)&&(u=i.GetCurrency(t.ToCurrencyBox),u)){if(f=u.parseValue(t.AmountCurrencyBox.getText()),!f||f.signum()<=0){t.Flow.setError(!0);return}t.RefundCurrencyBox.setNote("");++t.Flow.step}});e.click(function(){t.Flow.step===3&&(t.AmountCurrencyBox.setText(""),t.ConvertingAll=!0,t.RefundCurrencyBox.setNote(t.S.q5_note),++t.Flow.step)})},n.WelcomeConverter.AddStep4=function(){var t=n.WelcomeConverter,i=n.Converter,e=t.Q4=n.Q(t.S.q4_1),o=t.Q4_TokenNote=$("<span class='Hide TokenNote'><\/span>").text(t.S.q4_tokens),u=t.DestinationCurrencyBox=r.Create("Address").setPlaceholder(i.S.enteramount).setEnterPrompt(f.S.continue,f.S.pressenter),s=$("<span class=Or><\/span>").text(i.S.or),h=$("<div class=BoxHighlighted><\/div>").text(t.S.register).click(n.Register.Show);t.Flow.addStep(jQueryElementList(e,o,u.element,s,h),3);u.on("change",function(r,f){if(t.Flow.step===4&&!f){var e=i.GetCurrency(t.ToCurrencyBox),o=u.getText().trim();if(o.length){if(!e.isValidAddress(o)){t.Flow.setError(!0);u.setError(i.S.invalidaddress.replace(n.Regex.Param0,e.fullName));return}++t.Flow.step}}})},n.WelcomeConverter.AddStep5=function(){var t=n.WelcomeConverter,u=n.Converter,e=t.Q5=n.Q(t.Q5_1),i=t.RefundCurrencyBox=r.Create("Address").setPlaceholder(u.S.enteramount).setEnterPrompt(f.S.continue,f.S.pressenter);t.Flow.addStep(jQueryElementList(e,i.element),3);i.on("change",function(r,f){if(t.Flow.step===5&&!f){var e=u.GetCurrency(t.FromCurrencyBox),o=i.getText().trim();if(o.length&&!e.isValidAddress(o)){t.Flow.setError(!0);i.setError(u.S.invalidaddress.replace(n.Regex.Param0,e.fullName));return}}})},n.WelcomeConverter.HandleStepChange=function(t,i,r){var u=n.WelcomeConverter,f=n.Converter;switch(i){case 1:r&&u.ToCurrencyBox.focus();break;case 2:u.FromCurrencyBox.focus();break;case 3:u.AmountCurrencyBox.focus();break;case 4:u.DestinationCurrencyBox.focus();break;case 5:u.RefundCurrencyBox.focus()}},n.WelcomeConverter.HandleStepRequest=function(t,i){var r=n.WelcomeConverter,s=n.Converter,h=r.Flow,e=i<=h.step,o;if(!e){var f=s.GetCurrency(r.ToCurrencyBox),c=s.GetCurrency(r.FromCurrencyBox),u=1;f&&(u=2,c&&c!==f&&(u=3,o=f.parseValue(r.AmountCurrencyBox.getText()),(o&&o.signum()>0||r.ConvertingAll)&&(u=4,f.isValidAddress(r.DestinationCurrencyBox.getText().trim())&&(u=5))));e=i<=u}e&&(h.step=i)},i.OnChange.addHandler(!1,function(t,i){i||n.WelcomeConverter.Reset()}),n.Register=function(){},n.Register.$=$("#RegisterContent"),n.Register.S=d("Register"),n.Register.Setup=function(){var t=n.Register,r,u,i;if(delete t.Setup,t.$.length){r=t.$.children(".ConversationFlow");t.Footers=r.children("footer").children();u=r.children(".Content");i=u.children(".Summary");t.Summary=(t.SummaryTemplate=i.children("div").children()).clone();t.SummaryFooter=(t.SummaryFooterTemplate=i.children("footer").children()).clone();i=u.children(".Steps");t.Steps=i.children();t.Flow=new f(r.empty());t.Flow.on("steprequest",t.HandleStepRequest);t.Flow.on("step",t.HandleStepChange);t.Reposition();n.window.resize(t.Reposition)}},n.Register.Clear=function(){var t=n.Register;t.Flow.clear();t.EmailBox=null;t.UsernameBox=null;t.PasswordBox=null;t.PasswordConfirmBox=null},n.Register.Reset=function(){var t=n.Register;t.Setup&&t.Setup();t.Clear();t.Footers.each(function(){t.Flow.addFooterStep($(this))});t.Summary=t.SummaryTemplate.clone();t.SummaryFooter=t.SummaryFooterTemplate.clone();t.Flow.setSummary(t.Summary,t.SummaryFooter);t.SummaryFooter.filter(".Clickable").click(t.HandleLogin);t.AddStep1();t.AddStep2();t.AddStep3();t.AddStep4()},n.Register.SetMessage=function(t,i){n.Register.SummaryFooter.filter(".Messages").text(t||"").toggleClass("Error",!!i)},n.Register.HandleLogin=function(){n.Login.Show()},n.Register.AddStep1=function(){var t=n.Register,u=n.Q(t.S.q1),i=t.EmailBox=r.Create("email").setPlaceholder(t.S.q1_placeholder).setEnterPrompt(f.S.continue,f.S.pressenter).setAlternate(f.S.skip).setAutocomplete("email").setMaxLength(100);t.Flow.addStep(jQueryElementList(u,i.element),1);i.on("change",function(r,u){if(t.Flow.step===1){var f=i.getText().trim().toLowerCase(),e=n.Regex.Email.test(f);u||(e?t.Flow.step++:f&&(t.Flow.setError(!0),i.setError(t.S.emailerror)))}});i.on("alternate",function(){t.Flow.step++})},n.Register.AddStep2=function(){var t=n.Register,u=t.Q2=n.Q(t.S.q2),i=t.UsernameBox=r.Create().setPlaceholder(t.S.q2_placeholder).setEnterPrompt(f.S.continue,f.S.pressenter).setAutocomplete("username").setMaxLength(50);t.Flow.addStep(jQueryElementList(u,i.element),2);i.on("change",function(r,u){var f,e,o;t.Flow.step===2&&(f=i.getText().trim(),e=f.indexOf("@")!==-1,e&&(t.Flow.setError(!0),i.setError(t.S.usernameat)),o=n.Regex.Username.test(f),u||(o?t.Flow.step++:f&&(t.Flow.setError(!0),i.setError(t.S.usernameerror))))});i.on("alternate",function(){t.Flow.step++})},n.Register.AddStep3=function(){var t=n.Register,u=t.Q3=n.Q(t.S.q3_1),i=t.PasswordBox=r.Create("password").setPlaceholder(t.S.q3_placeholder).setEnterPrompt(f.S.continue,f.S.pressenter).setAutocomplete("new-password");t.Flow.addStep(jQueryElementList(u,i.element),3);i.on("change",function(r,u){if(t.Flow.step===3){var f=i.getText(),e=n.Regex.Password.test(f);u||(e?t.Flow.step++:f&&(t.Flow.setError(!0),i.setError(t.S.passworderror)))}});i.on("alternate",t.Go)},n.Register.AddStep4=function(){var t=n.Register,u=n.Q(t.S.q4),i=t.PasswordConfirmBox=r.Create("password").setPlaceholder(t.S.q4_placeholder).setEnterPrompt(f.S.continue,f.S.pressenter).setAutocomplete("new-password");t.Flow.addStep(jQueryElementList(u,i.element),3);i.on("change",function(n,r){if(t.Flow.step===4){var f=t.PasswordBox.getText(),u=i.getText(),e=f===u;r||(e?t.Go():u&&(t.Flow.setError(!0),i.setError(t.S.passworddifferent)))}})},n.Register.HandleStepChange=function(t,i,r){var u=n.Register,e=u.EmailBox.getText().trim().toLowerCase(),o=u.UsernameBox&&u.UsernameBox.getText().trim(),s=u.PasswordBox&&u.PasswordBox.getText();switch(i){case 1:u.EmailBox.focus();break;case 2:u.UsernameBox.focus();i>r&&u.UsernameBox.setAlternate(e?"":f.S.skip);break;case 3:u.PasswordBox.focus();i>r&&(e||o?(u.PasswordBox.setAlternate(),u.Q3.text(u.S.q3_1)):(u.PasswordBox.setAlternate(f.S.skip),u.Q3.text(u.S.q3_2)));break;case 4:u.PasswordConfirmBox.setError();u.PasswordConfirmBox.focus()}},n.Register.HandleStepRequest=function(t,i){var r=n.Register,e=r.Flow,f=i<=e.step;if(!f){var o=r.EmailBox.getText().trim().toLowerCase(),s=r.UsernameBox&&r.UsernameBox.getText().trim(),h=r.PasswordBox&&r.PasswordBox.getText(),u=1;o&&n.Regex.Email.test(o)&&(u=2,s&&n.Regex.Username.test(s)&&(u=3,h&&n.Regex.Password.test(h)&&(u=4)));f=i<=u}f&&(e.step=i)},n.Register.Reposition=function(){var i=n.Register,r=n.window.height(),u=i.$.offset().top||200,t=(r-u)*.9/n.rem;t<20&&(t=20);t>45&&(t=45);i.$.height(t+"rem")},n.Register.Show=function(){n.ContextMenu.Hide();n.Scenes.Login.Show("Register");n.Register.Reset();n.Register.Reposition()},n.Register.Go=function(){var t=n.Register,f=t.EmailBox.getText().trim().toLowerCase(),e=t.UsernameBox.getText().trim(),u=t.PasswordBox.getText(),r;return t.SetMessage(t.S.creatingaccount),i.CreateKeyPair().then(function(n){return r=n,i.Create(r,e,u,f,null)}).then(function(){t.Clear();i.Me=new i(r);setTimeout(function(){n.RecoveryInfo.Show(u?"Welcome":"NoAccount")},0)})},n.RecoverAccount=function(){},n.RecoverAccount.$=$("#RecoverAccountContent"),n.RecoverAccount.S=d("RecoverAccount"),n.RecoverAccount.Setup=function(){var t=n.RecoverAccount,i,r;if(delete t.Setup,t.$.length){i=t.$.find(".ConversationFlow");r=i.find(".Summary");t.Summary=r.children("div");t.SummaryFooter=r.children("footer");t.Flow=new f(i.empty());t.Flow.on("step",t.HandleStepChange);t.Flow.on("steprequest",t.HandleStepRequest)}},n.RecoverAccount.Clear=function(){var t=n.RecoverAccount;t.Flow.clear();t.KeyBox=null;t.KnownBad=null;t.Account=null},n.RecoverAccount.Reset=function(){var t=n.RecoverAccount,i;t.Setup&&t.Setup();t.Clear();i=t.SummaryFooter.clone();t.Flow.setSummary(t.Summary,i);i.find(".Clickable").click(function(){t.Clear();n.Login.Show()});t.AddStep1();t.Reposition();n.window.resize(t.Reposition)},n.RecoverAccount.AddStep1=function(){var t=n.RecoverAccount,u=n.Q(t.S.q1),i=t.KeyBox=r.Create("Hex").setPlaceholder(t.S.q1_placeholder).setEnterPrompt(f.S.continue,f.S.pressenter).setMaxLength(64);t.Flow.addStep(jQueryElementList(u,i.element),1);i.on("change",function(r,u){if(t.Flow.step===1&&!u){var f=i.getText();if(!n.Regex.PrivateKey.test(f)){f&&(f.length<64?i.setError(t.S.tooshort):i.setError(t.S.invalid));t.Flow.setError(!0);return}t.AddStep2();++t.Flow.step}})},n.RecoverAccount.AddStep2=function(){var t=n.RecoverAccount,i=t.Q2=n.Q("");t.Flow.addStep(jQueryElementList(i),1)},n.RecoverAccount.AddStep3=function(){var t=n.RecoverAccount,u=t.Account,s=n.Register,e=n.Q(""),o=$("<input class=Hide autocomplete=Username />"),i;e.text(t.S.q3_username.replace(n.Regex.Param0,u.username));o.val(u.username);i=t.PasswordBox=r.Create("password").setPlaceholder(t.S.q3_placeholder).setEnterPrompt(f.S.continue,f.S.pressenter).setAutocomplete("new-pasword");t.Flow.addStep(jQueryElementList(o,e,i.element),1);i.on("change",function(r,u){if(t.Flow.step===3&&!u){var f=i.getText();if(!n.Regex.Password.test(f)){txt&&i.setError(s.S.passworderror);t.Flow.setError(!0);return}++t.Flow.step}})},n.RecoverAccount.AddStep4=function(){var t=n.RecoverAccount,e=t.Account,o=n.Register,s=n.Q(t.S.q4),u=t.ConfirmBox=r.Create("password").setPlaceholder(t.S.q4_placeholder).setEnterPrompt(f.S.continue,f.S.pressenter).setAutocomplete("new-pasword");t.Flow.addStep(jQueryElementList(s,u.element),1);u.on("change",function(r,f){if(t.Flow.step===4&&!f){var s=t.PasswordBox.getText(),h=u.getText();if(s!==h){txt&&u.setError(o.S.passworddifferent);t.Flow.setError(!0);return}return e.updatePassword(s).then(function(){i.Me=e;t.Clear();n.GoHome()})}})},n.RecoverAccount.Reposition=function(){var i=n.RecoverAccount,r=n.window.height(),u=i.$.offset().top||200,t=(r-u)*.9/n.rem;t<20&&(t=20);t>45&&(t=45);i.$.height(t+"rem")},n.RecoverAccount.Show=function(){n.ContextMenu.Hide();n.Scenes.Login.Show("RecoverAccount");n.RecoverAccount.Reset()},n.RecoverAccount.HandleStepChange=function(t,i){var r=n.RecoverAccount,u=r.Flow,f=r.KeyBox.getText();switch(i){case 1:r.KeyBox.focus();u.removeFutureSteps();break;case 2:n.Regex.PrivateKey.test(f)?r.TryKey(f):--u.step;break;case 3:r.PasswordBox.focus();break;case 4:r.ConfirmBox.focus()}},n.RecoverAccount.HandleStepRequest=function(t,i){var u=n.RecoverAccount,r=u.Flow;i===3&&r.step===4&&(r.step=3)},n.RecoverAccount.KeyBox=function(r){var u=n.RecoverAccount,o=u.Flow,f,s,e;return(u.Q2.text(u.S.testing),u.Q2.siblings().remove(),u.Flow.setError(),f=function(){u.Flow.setError(!0);u.Q2.text(u.S.wrong);u.Q2.after($("<span class=BoxHighlighted><\/span>").text(u.S.tryagain).click(function(){--o.step}));u.KnownBad=r},r===u.KnownBad)?(f(),rejected()):a(r).then(function(n){return s=new KeyPair(r,n),e=new i(s),e.getAccountInfo()}).then(function(){u.Q2.text(u.S.success);u.Account=e;u.AddStep3();u.AddStep4();++o.step},function(n){n&&n.code==t.Errors.AccountNotFound?f():(u.Flow.setError(!0),u.Q2.text(u.S.networkerror),setTimeout(function(){u.Q2.after($("<span class=BoxHighlighted><\/span>").text(u.S.tryagain).click(function(){u.TryKey(r)}))},1e3))})},n.DashboardWallets=function(){},n.DashboardWallets.$=$("#DashboardWallets"),n.DashboardWallets.Setup=function(){var t=n.DashboardWallets,i;(delete t.Setup,t.$.length)&&(i=t.Wallets=t.$.find(".Wallets"),t.GotoWallet=t.$.attr("data-go"),t.GotoWalletSrc=t.$.attr("data-gosrc"),t.GotoWalletSrcset=t.$.attr("data-gosrcset"),t.$.find("footer").children().click(n.AllWallets.Show),i.empty())},n.DashboardWallets.Clear=function(){var t=n.DashboardWallets;t.Wallets.empty()},n.DashboardWallets.Reset=function(){var t=n.DashboardWallets,r,f,e;(t.Setup&&t.Setup(),t.Clear(),r=i.Me,r)&&(f=r.allBalances(),e=!0,Object.keys(f).forEach(function(n){var i=u.ById[n];i&&(t.Add(i,f[n]),e=!1)}),t.$.toggleClass("NoWallets",e))},n.DashboardWallets.Add=function(t,i){var r=n.DashboardWallets;$("<div class=Wallet><\/div>").attr("data-currency",t.id).click(n.AllWallets.Show).append(nt.Get(t).addClass("Icon")).append($("<img class=GotoWallet />").attr("alt",n.AllWallets.S.go).attr("src",r.GotoWalletSrc).attr("srcset",r.GotoWalletSrcset)).append($("<div class=Info><\/div>").append($("<span><\/span>").text(t.fullName)).append($("<span><\/span>").text(t.friendlyValue(i)+" "+t.shortName+" / ").append($("<span class=Minor><\/span>").text(" CAD $10,000.01")))).appendTo(r.Wallets)},n.DashboardWallets.NewTokenHandler=function(){n.DashboardWallets.Reset()},n.DashboardWallets.SpentTokenHandler=function(){n.DashboardWallets.Reset()},i.OnChange.addHandler(!1,function(t,i){t&&(t.onNewToken.removeHandler(n.DashboardWallets.NewTokenHandler),t.onSpentToken.removeHandler(n.DashboardWallets.SpentTokenHandler));i&&(i.onNewToken.addHandler(!0,n.DashboardWallets.NewTokenHandler),i.onSpentToken.addHandler(!0,n.DashboardWallets.SpentTokenHandler));n.DashboardWallets.Reset()}),n.DashboardConverter=function(){},n.DashboardConverter.$=$("#DashboardConverter"),n.DashboardConverter.S=d("DashboardConverter"),n.DashboardConverter.Setup=function(){var t=n.DashboardConverter,i;if(delete t.Setup,t.$.length){i=t.$.children(".ConversationFlow");t.Footers=i.children("footer").children("img");t.Flow=new f(i.empty());t.Flow.on("steprequest",t.HandleStepRequest);t.Flow.on("step",t.HandleStepChange)}},n.DashboardConverter.Clear=function(){var t=n.DashboardConverter;t.Flow.clear()},n.DashboardConverter.Reset=function(){var t=n.DashboardConverter,f=n.Converter,r,u;t.Setup&&t.Setup();r=t.Flow;t.Clear();t.Footers.each(function(){t.Flow.addFooterStep($(this))});r.setHeader(f.S.header);t.AddStep1();t.AddStep2();t.AddStep3();t.AddStep4();t.AddStep5();t.AddStep6();u=i.Me;u&&u.hasBalance()?(r.stepDisplay(3,!1),r.stepDisplay(5,!1),r.stepDisplay(6,!1)):(r.stepDisplay(2,!1),r.stepDisplay(4,!1))},n.DashboardConverter.AddStep1=function(){var t=n.DashboardConverter,f=n.Converter,e=t.Flow,s=n.Q(t.S.q1),o=t.ToCurrencyBox=r.Create().setPlaceholder(f.S.selectcurrency).setNoMatchingItems(f.S.nocurrencies);u.SymetriaTokens.All.forEach(function(n){o.addItem(f.CurrencyItem(n))});t.Flow.addStep(jQueryElementList(s,o.element),1);o.on("change",function(r,u){var o,h,s;t.Flow.step===1&&(u||(o=f.GetCurrency(t.ToCurrencyBox),t.Q_bal1.text(o?t.S.bal_q1_2.replace(n.Regex.Param0,o.fullName):t.S.bal_q1_1),t.Q_dep1.text(o?t.S.dep_q1_2.replace(n.Regex.Param0,o.fullName):t.S.dep_q1_1),t.ReceiveBox.Currency=o,t.ReceiveBox.setLabel(o?o.shortName:""),t.AmountBox.Currency=o,t.AmountBox.setLabel(o?o.shortName:""),t.Q_dep3.text(o?t.S.dep_q3_2.replace(n.Regex.Param0,o.fullName):t.S.dep_q3_1),t.AddressBox.Currency=o,t.AddressBox.setPlaceholder(o?f.S.address.replace(n.Regex.Param0,o.fullName):f.S.enteraddress),t.AddressBox.setNote(o&&o.isERC20?f.S.erc20.replace(n.Regex.Param0,o.fullName):""),h=i.Me,s=h&&h.hasBalance(),e.stepDisplay(2,s),e.stepDisplay(4,s),e.stepDisplay(3,!s),e.stepDisplay(5,!s),e.stepDisplay(6,!s),o&&++e.step))})},n.DashboardConverter.AddStep2=function(){var t=n.DashboardConverter,f=n.Converter,u=t.Flow,o=t.Q_bal1=n.Q(t.S.bal_q1_1),s=$("<span class=Or><\/span>").text(f.S.or),h=$("<span class=BoxHighlighted><\/span>").text(t.S.bal_deposit).click(function(){u.stepDisplay(4,!1);u.stepDisplay(3,!0);u.stepDisplay(5,!0);u.stepDisplay(6,!0);t.MakeDeposit=!0;++t.Flow.step}),c=i.Me,e=t.WalletBox=r.Create().setPlaceholder(t.S.bal_selectwallet).setNoMatchingItems(t.S.bal_nowallets);t.Flow.addStep(jQueryElementList(o,e.element,s,h),1);e.on("change",function(n,i){if(u.step===2&&!i){var e=f.GetCurrency(t.ToCurrencyBox),r=f.GetCurrency(t.WalletBox);u.MakeDeposit=!1;u.stepDisplay(4,!0);u.stepDisplay(3,!1);u.stepDisplay(5,!1);u.stepDisplay(6,!1);t.SpendBox.Currency=r;t.SpendBox.setLabel(r.shortName);e&&r&&e!==r&&++u.step}})},n.DashboardConverter.AddStep3=function(){var t=n.DashboardConverter,i=n.Converter,e=t.Q_dep1=n.Q(t.S.dep_q1_1),f=t.FromCurrencyBox=r.Create().setPlaceholder(i.S.selectcurrency).setNoMatchingItems(i.S.nocurrencies);u.All.forEach(function(n){f.addItem(i.CurrencyItem(n))});t.Flow.addStep(jQueryElementList(e,f.element),1);f.on("change",function(n,r){if(t.Flow.step===3&&!r){var u=i.GetCurrency(t.ToCurrencyBox),f=i.GetCurrency(t.FromCurrencyBox);u&&f&&u!==f&&++t.Flow.step}})},n.DashboardConverter.AddStep4=function(){var t=n.DashboardConverter,u=n.Converter,s=n.Q(t.S.bal_q2),h=$("<span class=Or><\/span>").text(u.S.or),e=t.SpendBox=r.Create("Currency").setPlaceholder(u.S.spendamt).setEnterPrompt(f.S.continue,f.S.pressenter).setAlternate(u.S.max),o=t.ReceiveBox=r.Create("Currency").setPlaceholder(u.S.receiveamt).setEnterPrompt(f.S.continue,f.S.pressenter);t.Flow.addStep(jQueryElementList(s,e.element,h,o.element),2);e.on("alternate",function(){if(t.Flow.step===4){var r=i.Me,n=t.SpendBox.Currency;r&&n&&t.SpendBox.setText(n.friendlyValue(r.balance(n)))}});e.on("change",function(n,i){if(t.Flow.step===4&&!i)var r=u.GetCurrency(t.ToCurrencyBox)});o.on("change",function(n,i){if(t.Flow.step===4&&!i)var r=u.GetCurrency(t.ToCurrencyBox)})},n.DashboardConverter.AddStep5=function(){var t=n.DashboardConverter,i=n.Converter,e=t.Q_dep2=n.Q(t.S.dep_q2),o=$("<span class=Or><\/span>").text(i.S.or),s=$("<span class=BoxHighlighted><\/span>").text(i.S.convertall).click(function(){t.ConvertingAll=!0;++t.Flow.step}),u=t.AmountBox=r.Create("Currency").setPlaceholder(i.S.enteramount).setEnterPrompt(f.S.continue,f.S.pressenter);t.Flow.addStep(jQueryElementList(e,u.element,o,s),2);u.on("change",function(n,r){var f,e;if(t.Flow.step===5&&!r&&(f=i.GetCurrency(t.ToCurrencyBox),f)){if(e=f.parseValue(u.getText()),t.ConvertingAll=!1,!e||e.signum()<=0){t.Flow.setError(!0);return}++t.Flow.step}})},n.DashboardConverter.AddStep6=function(){var t=n.DashboardConverter,o=n.Converter,s=t.Q_dep3=n.Q(t.S.dep_q3_1),u=$("<span class='BoxHighlighted'><\/span>").text(t.S.dep_wallet).click(function(){u.removeClass("Inactive");e.addClass("Inactive");i.element.addClass("Hide")}),e=$("<span class='BoxHighlighted'><\/span>").text(t.S.dep_send).click(function(){e.removeClass("Inactive");u.addClass("Inactive");i.element.removeClass("Hide")}),i=t.AddressBox=r.Create().setPlaceholder(o.S.enteraddress).setEnterPrompt(f.S.continue,f.S.pressenter);i.element.addClass("Hide");t.Flow.addStep(jQueryElementList(s,u,e,i.element),3);i.on("change",function(n,i){t.Flow.step===5&&i})},n.DashboardConverter.HandleStepChange=function(t,r,u){var f=n.DashboardConverter,s=n.Converter,o=f.Flow,c=s.GetCurrency(f.ToCurrencyBox),l=s.GetCurrency(f.FromCurrencyBox),h=i.Me,e;switch(r){case 1:u&&f.ToCurrencyBox.focus();e=h&&h.hasBalance();o.stepDisplay(2,e);o.stepDisplay(4,e);o.stepDisplay(3,!e);o.stepDisplay(5,!e);o.stepDisplay(6,!e);break;case 2:f.WalletBox.focus();break;case 3:f.SpendBox.focus();break;case 4:f.FromCurrencyBox.focus();break;case 5:f.AmountBox.focus();break;case 6:f.AddressBox.focus()}},n.DashboardConverter.HandleStepRequest=function(t,i){var r=n.DashboardConverter,e=n.Converter,o=r.Flow,u=i<=o.step;if(!u){var s=e.GetCurrency(r.ToCurrencyBox),h=e.GetCurrency(r.FromCurrencyBox),f=1;s&&(f=2,h&&h!==s&&(f=3));u=i<=f}u&&(o.step=i)},n.DashboardConverter.UpdateWallets=function(t){var u=i.Me;if(u&&t){var r=n.DashboardConverter,f=n.Converter,e={},o=[];t.forEach(function(n){n.forEach(function(n){var t=n.currency;e[t.id]||(e[t.id]=!0,o.push(t))})});o.forEach(function(n){var t=u.balance(n),i=r.WalletBox.itemsElement.children("[data-id='"+n.id+"']");!t||t.signum()<=0?r.WalletBox.removeItem(i):i.length?f.UpdateWalletValue(i,n,t):r.WalletBox.addItem(f.WalletItem(n))})}},i.OnChange.addHandler(!1,function(t,i){var r=n.DashboardConverter;t&&(t.onNewToken.removeHandler(r.UpdateWallets),t.onSpentToken.removeHandler(r.UpdateWallets));i&&(r.Reset(),i.onNewToken.addHandler(!0,r.UpdateWallets),i.onSpentToken.addHandler(!0,r.UpdateWallets))}),n.Login=function(){},n.Login.$=$("#LoginContent"),n.Login.S=d("Login"),n.Login.Setup=function(){var t=n.Login,e,u;if(delete t.Setup,t.$.length){var o=t.$.find("div[data-autocomplete='username']"),s=t.$.find("div[data-type='password']"),h=t.MessagesBox=t.$.find("div.Messages"),f=t.UsernameBox=new r(o),i=t.PasswordBox=new r(s);t.RememberBox=t.$.find("input[type='checkbox']");e=t.$.find(".SignIn").click(t.HandleSignin);u=t.$.children("footer");u.find(".Register").click(n.Register.Show);u.find(".Recover").click(n.RecoverAccount.Show);f.on("enterkey",function(){f.getText()&&i.focus()});i.on("change",function(n,i){i&&t.HandlePrefetch()});i.on("enterkey",function(){e.click()})}},n.Login.RememberKey="LastUsername",n.Login.Reset=function(){var t=n.Login,i;t.Setup&&t.Setup();i=ut.Get(t.RememberKey)||"";t.UsernameBox.setText(i);t.PasswordBox.setText("");t.SetMessage();t.Prefetch=null;t.KnownBad=null;i?(t.RememberBox.prop("checked",!0),t.PasswordBox.focus()):(t.RememberBox.prop("checked",!1),t.UsernameBox.focus())},n.Login.SetMessage=function(t,i){n.Login.MessagesBox.text(t||"").toggleClass("Info",!i)},n.Login.Show=function(){n.ContextMenu.Hide();n.Scenes.Login.Show("Login");n.Login.Reset()},n.Login.HandleSignin=function(){var r=n.Login,h,a,u,l,c,s;r.SetMessage();var f=r.UsernameBox.getText().trim(),e=r.PasswordBox.getText(),o=!1;(n.Regex.Username.test(f)||(r.UsernameBox.setError(r.S.usernameerror),r.UsernameBox.focus(),o=!0),e===""&&(r.PasswordBox.setError(r.S.passworderror),o||(r.PasswordBox.focus(),o=!0)),o||(h=r.KnownBad,h&&h[0]===f&&h[1]===e&&(r.SetMessage(r.S.wrong,!0),r.PasswordBox.focus(),o=!0)),o)||(r.KnownBad=null,r.SetMessage(r.S.loggingin),r.RememberBox.prop("checked")?ut.Set(r.RememberKey,f):ut.Remove(r.RememberKey),a=i.GetUsernameBlobToken(f,e),u=r.Prefetch,r.Prefetch=null,u&&(u=u[0]!==f||u[1]!==token?null:u[2]),l=v(e),u&&(c=(c||rejected()).catch(function(n){return s=n,u}).then(function(n){return(n=n.response.blob,rem&&rem.blob===n)?rejected(s):i.DecodeBlob(n,e)})),c=(c||rejected()).catch(function(n){return s=s||n,resolved().then(function(){return t.Calls.GetUsernameBlob(f,token)}).then(function(n){return(n=n.response.blob,rem&&rem.blob===n)?rejected(s):l.then(function(){return i.DecodeBlob(n,e)})})}).then(function(n){r.Reset();i.Me=new i(n)},function(n){var i=r.S.unknownerror,u;return n&&(n.networkError?i=r.S.networkerror:n.errorResponse?n.errorResponse.code===t.Errors.BlobNotFound&&(u=!0):n.decodeBlobFailed&&(u=!0),u&&(i=r.S.wrong,r.KnownBad=[f,e])),r.SetMessage(i,!0),r.PasswordBox.focus(),rejected(n)}))},n.Login.HandlePrefetch=function(){var r=n.Login,u,f,e,o;r.Prefetch||(u=r.UsernameBox.getText().trim().toLowerCase(),f=r.PasswordBox.getText(),f.length<i.PasswordSeedLength)||(e=i.GetPasswordToken(u,f),o=t.Calls.GetUsernameBlob(u,e),r.Prefetch=[u,e,o])},n.TopBar=function(){},n.TopBar.$=$("#TopBar"),n.TopBar.Setup=function(){var r=n.TopBar,i,t;(delete r.Setup,r.$.length)&&(i=r.$,i.find(".Logo").click(n.GoHome),r.Languages=i.find(".Languages").click(n.Languages.Show),t=i.find(".Menus"),t.find("[data-go='Login']").click(n.Login.Show),t.find("[data-go='Register']").click(n.Register.Show),t.find("[data-go='Menu']").add(i.find(".More")).click(function(){n.SlidingMenu.Show("Full")}),t.find("[data-go='Dashboard']").click(n.GoHome),t.find("[data-go='Order Book']").click(function(){alert("coming soon!@!!")}),t.find("[data-go='Wallets']").click(n.AllWallets.Show))},n.ContextMenu=function(){},n.ContextMenu.$=$("#ContextMenu"),n.ContextMenu.Setup=function(){var t=n.ContextMenu;(delete t.Setup,t.$.length)&&(t.$.children(".Overlay, .Content").click(function(t){if(this==t.target)return n.ContextMenu.Hide(),!1}),t.Popups=t.$.children(".Content").children(".Popup"))},n.ContextMenu.Show=function(t,i,r){var u=n.ContextMenu,e;if(u.Setup&&u.Setup(),u.$.removeClass("Hide").children(".Content").attr("data-content",t),e=u.Centering=!(i&&r),i&&r){var f=r.offset(),o=r.height(),s=r.width(),a=n.window.height(),v=n.window.width(),h=n.html.scrollTop(),c=i.height(),l=i.width(),y=a+h-f.top-o-c>=0,p=f.top-c>=h,w=f.left+s-l>=0,b=f.left+l<=v;y||!p?i.css("top",f.top+o).css("bottom",""):i.css("bottom",u.$.height()-f.top).css("top","");b||!w?i.css("left",f.left).css("right",""):i.css("right",u.$.width()-f.left-s).css("left","")}e&&u.Center();u.OnChange.raise(!0)},n.ContextMenu.Hide=function(){var t=n.ContextMenu;t.$.addClass("Hide");t.OnChange.raise(!1);t.Centering=!1},n.ContextMenu.Center=function(){var u=n.ContextMenu,t,e,i;if(u.Centering&&(t=u.Popups.filter(":visible"),t.length)){var o=parseInt(t.css("width"),10),s=parseInt(t.css("height"),10),f=n.window,h=f.height(),c=f.width(),r=(c-o)/2;r<0&&(r=0);e=n.html.scrollTop();i=(h-s)/2;i<0&&(i=0);t.css("left",r).css("top",i+e)}},n.ContextMenu.GetContent=function(){var t=n.ContextMenu;return t.$.hasClass("Hide")?"":t.$.children(".Content").attr("data-content")||""},n.window.resize(n.ContextMenu.Center),n.ContextMenu.OnChange=new o,n.Languages=function(){},n.Languages.$Context=$("#LanguagesContent"),n.Languages.$Sliding=$("#SlidingMenuLanguages"),n.Languages.Setup=function(){var t=n.Languages;delete t.Setup;t.$Context.add(t.$Sliding).children("[lang]").click(function(t){n.ContextMenu.Hide();var i=$(t.target).closest("[lang]").attr("lang");i&&i!==n.html.attr("lang")&&n.SetLanguage(i);t.preventDefault()})},n.Languages.Show=function(){var t=n.Languages;t.Setup&&t.Setup();n.ContextMenu.Show("Languages",n.Languages.$Context,n.TopBar.Languages)},n.SlidingMenu=function(){},n.SlidingMenu.$=$("#SlidingMenuContent"),n.SlidingMenu.Setup=function(){var t=n.SlidingMenu;(delete t.Setup,t.$.length)&&(t.$.find(".Close").click(n.ContextMenu.Hide),t.$.find("[data-go='Home']").click(n.GoHome),t.$.find("[data-go='Login']").click(n.Login.Show),t.$.find("[data-go='Register']").click(n.Register.Show),t.$.find("[data-go='Dashboard']").click(n.GoHome),t.$.find("[data-go='Wallets']").click(n.AllWallets.Show),t.$.find("[data-go='Order Book']").click(function(){alert("coming soon!@!!")}),t.$.find("[data-go='Settings']").click(n.Profile.Show),t.$.find("[data-go='SignOut']").click(function(){i.Me=null}),t.Languages=t.$.find(".Languages").click(function(){n.SlidingMenu.Show("Languages")}))},n.SlidingMenu.Show=function(t){var i=n.SlidingMenu;i.Setup&&i.Setup();n.ContextMenu.Show("SlidingMenu");i.$.attr("data-content",t)},n.AllWallets=function(){},n.AllWallets.$=$("#AllWalletsContent"),n.AllWallets.S=d("AllWallets"),n.AllWallets.Setup=function(){var t=n.AllWallets,i;(delete t.Setup,t.$.length)&&(t.WithBalance=t.$.children(".Balance"),t.NoBalance=t.$.children(".NoBalance"),t.GotoWalletSrc=t.$.attr("data-gosrc"),t.GotoWalletSrcset=t.$.attr("data-gosrcset"),i=t.OptionsMenu=$("#WalletOptionsContent"),i.find("[data-go='Deposit']").click("ctx",t.HandleDeposit),i.find("[data-go='Withdraw']").click("ctx",t.HandleWithdraw),i.find("[data-go='Convert']").click("ctx",t.HandleConvert))},n.AllWallets.Clear=function(){var t=n.AllWallets;t.$.find(".Wallet").remove();t.WithBalance.addClass("Hide");t.NoBalance.addClass("Hide")},n.AllWallets.Reset=function(){var t=n.AllWallets,r,o,f,e;(t.Setup&&t.Setup(),t.Clear(),r=i.Me,r)&&(o=r.allBalances(),u.All.forEach(function(i){var s=o[i.id],r=$("<div class=Wallet><\/div>").attr("data-currency",i.id),h=$("<div class=Controls><\/div>").append(nt.Get(i).addClass("Icon")).appendTo(r),u=$("<div class=Details><\/div>").append($("<span class=Title><\/span>").text(i.fullName+" ("+i.shortName+")"));s?(f=!0,u.append($("<span class=Amount><\/span>").text(i.friendlyValue(s)+" "+i.shortName+" / ").append($("<span class=Minor><\/span>").text(" CAD $10,000.10"))),h.click("small",t.HandleContext).append(u).append($("<span class='Button Withdraw'><\/span>").text(t.S.withdraw).click(n.AllWallets.HandleWithdraw)).append($("<span class='Button Deposit'><\/span>").text(t.S.deposit).click(n.AllWallets.HandleDeposit)).append($("<span class='Button Convert'><\/span>").text(t.S.convert).click(n.AllWallets.HandleConvert)).append($("<img class=OpenWallet />").attr("alt",t.S.openwallet).attr("src",t.GotoWalletSrc).attr("srcset",t.GotoWalletSrcset).click(t.HandleContext)),t.WithBalance.append(r)):(e=!0,h.click("small",t.HandleContext).append(u).append($("<span class='Button Deposit'><\/span>").text(t.S.deposit).click(n.AllWallets.HandleDeposit)).append($("<img class=OpenWallet />").attr("alt",t.S.openwallet).attr("src",t.GotoWalletSrc).attr("srcset",t.GotoWalletSrcset).click(t.HandleContext)),t.NoBalance.append(r))}),t.WithBalance.toggleClass("Hide",!f),t.NoBalance.toggleClass("Hide",!e),t.NoBalance.children("h3").add(t.WithBalance.children("h3")).toggleClass("Hide",!f||!e))},n.AllWallets.Show=function(){n.ContextMenu.Hide();n.Scenes.Wallets.Show("AllWallets")},n.AllWallets.GetAction=function(t,i){var s=n.AllWallets,e=$(t.target),h,c,o,f,r;return t.data==="ctx"&&(n.ContextMenu.Hide(),h=s.OptionsMenu.find(".Currency").attr("data-currency"),c=e.attr("data-go"),e=s.$.find(".Wallet[data-currency='"+h+"'] .Button."+c)),o=!e.hasClass("Open"),f=e.closest(".Wallet"),f.find(".Controls>.Button").removeClass("Open"),e.toggleClass("Open",o),r=f.children(".Action"),r.addClass("Hide"),r=r.filter("[data-type='"+i+"']"),r.length?o&&r.removeClass("Hide"):r=$("<div class=Action><\/div>").attr("data-type",i).appendTo(f),{wallet:f,currency:u.ById[f.attr("data-currency")],action:r,opening:o}},n.AllWallets.HandleConvert=function(t){var s=n.AllWallets,e=n.Converter,t=s.GetAction(t,"Convert"),a,h,o,v,c,y,l,p;t.opening&&(a=i.Me,a)&&(t.action.empty(),h=$("<div class=ConversationFlow><\/div>"),o=new f(h),o.setSummary($("<h4>Summary<\/h4>")),v=$("<span class=Q><\/span>").text(s.S.conv_q1.replace(n.Regex.Param0,t.currency.fullName)),c=r.Create().setPlaceholder(e.S.selectcurrency).setNoMatchingItems(e.S.nocurrencies),u.SymetriaTokens.All.forEach(function(n){n!==t.currency&&c.addItem(e.CurrencyItem(n))}),y=$("<span class=Q><\/span>").text(s.S.conv_q2.replace(n.Regex.Param0,t.currency.fullName)),l=r.Create("Currency").setPlaceholder(e.S.enteramount).setNote(e.S.spendamt).setLabel(t.currency.shortName).setAlternate(e.S.max),l.Currency=t.currency,p=r.Create("Currency").setPlaceholder(e.S.enteramount).setNote(e.S.receiveamt),o.addStep(jQueryElementList(v,c.element),1),o.addStep(jQueryElementList(y,l.element,p.element),1),h.appendTo(t.action))},n.AllWallets.HandleDeposit=function(t){var u=n.AllWallets,t=u.GetAction(t,"Deposit"),r;t.opening&&(r=i.Me,r)&&(t.action.empty(),r.getDepositAddress(t.currency).then(function(n){$("<div class=Deposit><\/div>").append(ft.Get(n.address)).append($("<div class=Info><\/div>").append($("<h3><\/h3>").text(u.S.deposit+" - "+t.currency.fullName)).append($("<span class=SelectableAddress><\/span>").text(n.address))).appendTo(t.action)}))},n.AllWallets.HandleWithdraw=function(t){var r=n.AllWallets,t=r.GetAction(t,"Withdraw"),u;t.opening&&(u=i.Me,u)&&(t.action.empty(),$("<div><\/div>").append($("<span>Address: <\/span><input type=text class=Address /><br/><span>Amount: <\/span><input type=text class=Amount /><br/>")).append($("<span class=Withdraw>Withdraw<\/span>").click(r.RequestWithdrawal)).appendTo(t.action))},n.AllWallets.HandleContext=function(t){var e=n.AllWallets,f=$(t.target),i=f.closest(".Wallet"),r=u.ById[i.attr("data-currency")];if(r){if(t.data==="small"){if(i.find(".Button:visible").length)return;f=i.find(".OpenWallet")}if(t.stopPropagation(),i.closest(".NoBalance").length){t.target=i.find(".Deposit")[0];n.AllWallets.HandleDeposit(t);return}e.OptionsMenu.find(".Currency").attr("data-currency",r.id).text(r.fullName+" ("+r.shortName+")");n.ContextMenu.Show("WalletOptions",e.OptionsMenu,f)}},n.AllWallets.RequestWithdrawal=function(n){var e=$(n.target).closest(".Action"),r=u.ById[e.closest(".Wallet").attr("data-currency")],h=e.find(".Address").val().trim(),f=r.parseValue(e.find(".Amount").val().trim()),o=i.Me,c,s;if(o){if(c=o.balance(r),!r.isValidAddress(h)){e.find(".Address").focus();return}if(!f||f.signum()<=0||f.compareTo(c)>0){e.find(".Amount").focus();return}s=new rt([new rt.Input(r,f)],[],[new rt.BlockchainOutput(r,f,BigInteger.ZERO,h)]);t.Calls.CreateContract(s).then(function(){return o.getOrCreateToken(r,f)}).then(function(n){return o.commitToken(s,n)})}},n.AllWallets.NewTokensHandler=function(){n.AllWallets.Reset()},n.AllWallets.SpentTokensHandler=function(){n.AllWallets.Reset()},i.OnChange.addHandler(!1,function(t,i){t&&(t.onNewToken.removeHandler(n.AllWallets.NewTokensHandler),t.onSpentToken.removeHandler(n.AllWallets.SpentTokensHandler));i&&(i.onNewToken.addHandler(!0,n.AllWallets.NewTokensHandler),i.onSpentToken.addHandler(!0,n.AllWallets.SpentTokensHandler));n.AllWallets.Reset()}),n.WalletsHistory=function(){},n.WalletsHistory.$=$("#WalletsHistoryContent"),n.WalletsHistory.Setup=function(){var t=n.WalletsHistory;delete t.Setup;!t.$.length},n.WalletsHistory.Clear=function(){var t=n.WalletsHistory},n.WalletsHistory.Reset=function(){var t=n.WalletsHistory,r;t.Setup&&t.Setup();t.Clear();r=i.Me;!r},n.WalletsHistory.Show=function(){n.Scenes.Wallets.Show("History")},n.WalletsHistory.NewTokensHandler=function(){n.WalletsHistory.Reset()},n.WalletsHistory.SpentTokensHandler=function(){n.WalletsHistory.Reset()},i.OnChange.addHandler(!1,function(t,i){t&&(t.onNewToken.removeHandler(n.WalletsHistory.NewTokensHandler),t.onSpentToken.removeHandler(n.WalletsHistory.SpentTokensHandler));i&&(i.onNewToken.addHandler(!0,n.WalletsHistory.NewTokensHandler),i.onSpentToken.addHandler(!0,n.WalletsHistory.SpentTokensHandler));n.WalletsHistory.Reset()}),n.AccountInfoBar=function(){},n.AccountInfoBar.$=$("#AccountInfoBar"),n.AccountInfoBar.Currency=u.ById.btc,n.AccountInfoBar.Setup=function(){var t=n.AccountInfoBar,r,u;(delete t.Setup,t.$.length)&&(t.Account=t.$.attr("data-account"),t.Values=t.$.find(".Portfolio .Values"),r=t.AccountMenu=$("#AccountBarContent"),r.find("[data-go='SignOut']").click(function(){i.Me=null}),r.find("[data-go='Account']").click(n.Profile.Show),u=t.$.find(".Account").click(t.OpenAccountMenu),t.Username=u.find(".Username"))},n.AccountInfoBar.OpenAccountMenu=function(){var t=n.AccountInfoBar;n.ContextMenu.Show("AccountBar",t.AccountMenu,t.Username)},n.AccountInfoBar.Reset=function(){var t=n.AccountInfoBar,u,r,f;(t.Setup&&t.Setup(),u=i.Me,u)&&(r=u.username,typeof r=="string"&&r.length||(r=t.Account),t.Username.text(r),f=t.AccountMenu.find(".User").empty().append($("<span><\/span>").text(r)),u.email&&f.append($("<span><\/span>").text(u.email)),t.Values.empty(),t.Values.append(nt.Get(t.Currency)).append($("<span class=Estimate><\/span>").text("1.2586 BTC")).append($("<span class=Down><\/span>")).append($("<span class='Estimate Extra'><\/span>").text("CAD $19,500")).append($("<span class='Down Extra'><\/span>")))},n.AccountInfoBar.NewTokensHandler=function(){n.AccountInfoBar.Reset()},n.AccountInfoBar.SpentTokensHandler=function(){n.AccountInfoBar.Reset()},n.AccountInfoBar.EmailChangeHandler=function(){n.AccountInfoBar.Reset()},n.AccountInfoBar.UsernameChangeHandler=function(){n.AccountInfoBar.Reset()},i.OnChange.addHandler(!1,function(t,i){var r=n.AccountInfoBar;t&&(t.onNewToken.removeHandler(r.NewTokensHandler),t.onSpentToken.removeHandler(r.SpentTokensHandler),t.onEmailChange.removeHandler(r.EmailChangeHandler),t.onUsernameChange.removeHandler(r.UsernameChangeHandler));i&&(i.onNewToken.addHandler(!0,r.NewTokensHandler),i.onSpentToken.addHandler(!0,r.SpentTokensHandler),i.onEmailChange.addHandler(!0,r.EmailChangeHandler),i.onUsernameChange.addHandler(!0,r.UsernameChangeHandler),r.Reset())}),n.Profile=function(){},n.Profile.$=$("#AccountProfileContent"),n.Profile.Setup=function(){var t=n.Profile;(delete t.Setup,t.$.length)&&(t.dataElements=t.$.find(".Data"),t.$.find("[data-go='ChangePassword']").click(n.ChangePassword.Show),t.$.find("[data-go='RecoveryInfo']").click(function(){n.EnterPassword.Show().then(function(){n.RecoveryInfo.Show("Recover")})}))},n.Profile.Reset=function(){var t=n.Profile,r;(t.Setup&&t.Setup(),r=i.Me,r)&&(t.EmailChangeHandler(),t.UsernameChangeHandler())},n.Profile.Show=function(){n.ContextMenu.Hide();n.Scenes.Account.Show("Profile")},n.Profile.EmailChangeHandler=function(){var r=n.Profile,t=i.Me;!t},n.Profile.UsernameChangeHandler=function(){var r=n.Profile,t=i.Me;t&&r.dataElements.filter(".Username").text(t.username)},i.OnChange.addHandler(!1,function(t,i){var r=n.Profile;t&&(t.onEmailChange.removeHandler(r.EmailChangeHandler),t.onUsernameChange.removeHandler(r.UsernameChangeHandler));i&&(i.onEmailChange.addHandler(!0,r.EmailChangeHandler),i.onUsernameChange.addHandler(!0,r.UsernameChangeHandler),r.Reset())}),n.Preferences=function(){},n.Preferences.$=$("#AccountPreferencesContent"),n.Preferences.Setup=function(){var t=n.Preferences;delete t.Setup;!t.$.length},n.Preferences.Reset=function(){var t=n.Preferences;t.Setup&&t.Setup()},n.Preferences.Show=function(){n.Scenes.Account.Show("Preferences")},i.OnChange.addHandler(!1,function(){var t=n.Preferences;t.Reset()}),n.ChangePassword=function(){},n.ChangePassword.$=$("#ChangePasswordContent"),n.ChangePassword.Setup=function(){var t=n.ChangePassword,i;(delete t.Setup,t.$.length)&&(t.Username=t.$.find("input[autocomplete='username']"),t.OldPassword=new r($(t.$.find(".Old"))),t.NewPassword=new r($(t.$.find(".New"))),t.ConfirmPassword=new r($(t.$.find(".Confirm"))),i=t.$.find(".Controls"),i.find(".Cancel").click(t.HandleCancel),i.find(".Change").click(t.HandleChangePassword))},n.ChangePassword.Reset=function(){var t=n.ChangePassword,r;(t.Setup&&t.Setup(),t.Clear(),r=i.Me,r)&&t.Username.val(r.username||"")},n.ChangePassword.Clear=function(){var t=n.ChangePassword;t.Username.val("");t.OldPassword.setText("");t.NewPassword.setText("");t.ConfirmPassword.setText("")},n.ChangePassword.HandleCancel=function(){n.ChangePassword.Clear();n.ContextMenu.Hide()},n.ChangePassword.HandleChangePassword=function(){var t=n.ChangePassword,o=n.Register,h=n.Login,u=i.Me,e;if(u){var f=t.OldPassword.getText(),r=t.NewPassword.getText(),s=t.ConfirmPassword.getText();if(!f){t.OldPassword.focus();return}if(!r){t.NewPassword.focus();return}if(s||t.ConfirmPassword.focus(),!n.Regex.Password.test(r)){t.NewPassword.setError(o.S.passworderror).focus();return}if(r!==s){t.ConfirmPassword.setError(o.S.passworddifferent).focus();return}return e=function(){return t.OldPassword.setError(h.S.wrong).focus(),rejected()},i.DecodeBlob(blob,f).then(function(n){return n.publicKey!==u.keyPair.publicKey?e():f===r?void 0:u.updatePassword(r)},e).then(function(){t.Clear();n.ContextMenu.Hide()})}},n.ChangePassword.Show=function(){var t=n.ChangePassword,i=n.ContextMenu;t.Reset();i.Show("ChangePassword");t.OldPassword.focus()},n.EnterPassword=function(){},n.EnterPassword.$=$("#EnterPasswordContent"),n.EnterPassword.Setup=function(){var t=n.EnterPassword,u,i;if(delete t.Setup,t.$.length){u=t.PasswordBox=new r(t.$.find(".LiveTextBox"));i=t.$.find(".Controls");i.find(".Ok").click(t.HandleOk);i.find(".Cancel").click(t.HandleCancel);u.on("change",function(n,i){i||t.HandleOk()})}},n.EnterPassword.Clear=function(){var t=n.EnterPassword;t.PasswordBox.setText("")},n.EnterPassword.Reset=function(){var t=n.EnterPassword;t.Setup&&t.Setup();t.Clear()},n.EnterPassword.HandleOk=function(){var t=n.EnterPassword,r=t.PasswordBox.getText(),u=i.Me,f;u&&r!=""&&i.DecodeBlob(f,r).then(function(){var i=t.Deferred;t.Deferred=null;t.Clear();n.ContextMenu.Hide();i&&i.resolve()},function(){t.PasswordBox.setError(n.Login.S.wrong).focus()})},n.EnterPassword.HandleCancel=function(){var t=n.EnterPassword,i;t.Clear();n.ContextMenu.Hide();i=t.Deferred;t.Deferred=null;i&&i.reject()},n.EnterPassword.Show=function(){var u=i.Me,t,r;return u?(t=n.EnterPassword,t.Reset(),n.ContextMenu.Show("EnterPassword"),t.PasswordBox.focus(),r=t.Deferred=$.Deferred(),r.promise()):resolved()},n.ContextMenu.OnChange.addHandler(!1,function(){if(n.ContextMenu.GetContent()!="EnterPassword"){var t=n.EnterPassword,i=t.Deferred;t.Deferred=null;i&&i.reject()}}),n.RecoveryInfo=function(){},n.RecoveryInfo.$=$("#RecoveryInfoContent"),n.RecoveryInfo.Setup=function(){var t=n.RecoveryInfo,i,r;if(delete t.Setup,t.$.length){t.$.find(".Ok").click(t.HandleOk);t.$.find(".Print").click(function(){t.WarnOnIgnore=!1;window.print()});t.$.find(".Display").click(function(){t.WarnOnIgnore=!1;t.InfoData.removeClass("Hide");t.$.find(".Display").addClass("Hide");n.ContextMenu.Center()});i=t.$.find(".Save");try{r=!!new Blob}catch(u){}r?i.click(function(){t.WarnOnIgnore=!1;var i="";n.print.children().children().each(function(n,t){if(t=$(t),!t.hasClass("Controls")){if(t.hasClass("InfoData")){t.children().each(function(n,t){t=$(t);var r=t.text();i+=r+"\r\n";t.hasClass("Title")||(i+="\r\n")});return}if(t.css("display")!=="none"){var r=t.text().trim();i+=r+"\r\n\r\n"}}});i=i.trim();try{saveAs(new Blob([i],{type:"text/plain;charset=utf-8"}),"symetria.txt")}catch(r){}}):i.remove();t.InfoData=t.$.find(".InfoData");t.Username=t.$.find(".Username");t.WalletId=t.$.find(".WalletId");t.Seed=t.$.find(".Seed")}},n.RecoveryInfo.Clear=function(){var t=n.RecoveryInfo;(t.Setup&&t.Setup(),t.$.length)&&(t.$.find(".Display").removeClass("Hide"),t.InfoData.addClass("Hide"),t.Username.text(""),t.WalletId.text(""),t.Seed.text(""),t.$.find(".Warning").addClass("Hide"))},n.RecoveryInfo.Reset=function(){var t=n.RecoveryInfo,r;(t.Setup&&t.Setup(),t.Clear(),r=i.Me,r)&&(t.UsernameChangeHandler(),t.Seed.text(r.keyPair.privateKey))},n.RecoveryInfo.HandleOk=function(){var t=n.RecoveryInfo;if(t.WarnOnIgnore){t.Warn();return}n.RecoveryInfo.Clear();n.ContextMenu.Hide()},n.RecoveryInfo.Warn=function(){var t=n.RecoveryInfo;t.$.find(".Warning").removeClass("Hide");t.WarnOnIgnore=!1;setTimeout(n.ContextMenu.Center,0)},n.RecoveryInfo.Show=function(t){var i=n.RecoveryInfo,r=n.ContextMenu;i.$.attr("data-action",t);i.Reset();r.Show("RecoveryInfo");i.PrintSetup();i.WarnOnIgnore=t==="Welcome"||t==="NoAccount"},n.RecoveryInfo.UsernameChangeHandler=function(){var t=n.RecoveryInfo,r=i.Me;r&&(t.Username.text(r.username),t.HasPrintContent&&t.PrintSetup())},n.RecoveryInfo.HasPrintContent=!1,n.RecoveryInfo.ContextMenuChangeHandler=function(){var t=n.RecoveryInfo,r=n.Print,i=n.ContextMenu.GetContent()==="RecoveryInfo";if(!i){t.HasPrintContent&&(t.HasPrintContent=!1,n.print.empty(),n.body.attr("data-print",0));t.WarnOnIgnore&&(t.Show(t.$.attr("data-action")||"Welcome"),setTimeout(t.Warn,0));t.Clear();return}t.HasPrintContent=!0;n.print.empty();n.body.attr("data-print",1);t.PrintSetup()},n.RecoveryInfo.PrintSetup=function(){var t=n.RecoveryInfo,i=n.print;i.empty();t.$.clone().removeAttr("id").attr("data-action","Recover").appendTo(i);i.find(".Controls").remove();i.find(".InfoData").removeClass("Hide");t.DoingQR||(t.DoingQR=!0,setTimeout(t.DoQR,10))},n.RecoveryInfo.DoingQR=!1,n.RecoveryInfo.DoQR=function(){var t=n.RecoveryInfo,r=i.Me;(t.DoingQR=!1,r&&t.HasPrintContent)&&n.print.append($("<div class=QR><\/div>").append(ft.Get(r.keyPair.privateKey))).append($("<div class=QR><\/div>").text(location.hostname))},i.OnChange.addHandler(!1,function(t,i){var r=n.RecoveryInfo;t&&t.onUsernameChange.removeHandler(r.UsernameChangeHandler);i&&i.onUsernameChange.addHandler(!0,r.UsernameChangeHandler);r.Reset()}),n.ContextMenu.OnChange.addHandler(!0,n.RecoveryInfo.ContextMenuChangeHandler),n.Ticker=function(){},n.Ticker.$=$("#Ticker"),n.Ticker.Setup=function(){var t=n.Ticker;(delete t.Setup,t.$.length)&&(t.$Items=$("<div><\/div>").appendTo(t.$))},n.Ticker.HandleFiatChange=function(){var t=n.Ticker},n.Ticker.HandleCryptoChange=function(){var t=n.Ticker},n.Ticker.Rate1=new BigInteger("10000000000000000"),n.Ticker.Hundred=new BigInteger("100"),n.Ticker.Update=function(){var t=n.Ticker},n.Ticker.StartReposition=function(){var t=n.Ticker;t.Repositioning||(t.Repositioning=!0,setTimeout(t.Reposition,0))},n.Ticker.Reposition=function(){var t=n.Ticker,u,s,f,e;if((t.Repositioning=!1,t.$.length)&&(u=t.$Items.children(".TickerItem"),u.length)){var i=u.first().outerWidth(),r=i*u.length,o=n.body.width();for(r<o&&(r=o),s=r-o,f=t.$Items.position().left;f<=-i;)t.$Items.children().first().detach().appendTo(t.$Items),f+=i;if(e=s*4/i,e<2){t.$Items.css("transition-duration","0s").css("width",r+i+"px").css("transform","translateX(0px)");return}t.$Items.css("transition","none").css("width",r+i+"px").css("transform","translateX("+f+"px)");window.getComputedStyle(t.$Items[0]).getPropertyValue("left");t.$Items.css("transition",e+"s linear").css("transform","translateX(-"+s+"px)");t.Again&&clearTimeout(t.Again);t.Again=setTimeout(t.Reposition,e*1e3)}},n.window.resize(n.Ticker.StartReposition),n.GoHome=function(){n.Scenes.Welcome.Show();n.ContextMenu.Hide();n.html.scrollTop(0);BrowserHistory.Replace("","","/")},ut=function(){for(var t=function(){},r={},n,u=[localStorage,sessionStorage],i,f;u.length;)if(n=u.shift(),n)try{i="__Test";f="Test__";n.setItem(i,f);n.getItem(i)!==f&&(n=null);n.removeItem(i);u=[]}catch(e){n=null}return t.Get=function(t){try{if(n)return n.getItem(t)}catch(i){}return r[t]},t.Set=function(t,i){try{if(n){n.setItem(t,i);return}}catch(u){}r[t]=i},t.Remove=function(t){try{n&&n.removeItem(t)}catch(i){}delete r[t]},t}(),s=decodeURIComponent((location.hash||"#").substr(1)),typeof s=="string"&&s.length&&s.length<=50){ut.Set("ReferralCode",s);try{document.cookie="R="+encodeURIComponent(s)+"; "+(location.protocol==="https:"?"Secure; ":"")+"Expires="+new Date((new Date).getFullYear()+2,1,1).toUTCString()}catch(dt){}BrowserHistory.Replace("","",location.pathname)}if(s||(s=ut.Get("ReferralCode")),!s)try{document.cookie.split("; ").forEach(function(n){if(/^R=/.test(n)){var t=decodeURIComponent(n.split("=")[1]);t.length&&t.length<=50&&(s=t,ut.Set("ReferralCode",s))}})}catch(dt){}if(typeof s!="string"||s.length||(s=null),nt=function(){},nt.Get=function(t){if(_c_icons_){var i=nt.SVG=_c_icons_(),r=['<g id="ci_unknown" fill="none" fill-rule="evenodd"><circle cx="16" cy="16" r="16" fill="#F7931A" /><\/g>'];Object.keys(i).forEach(function(n){var t=i[n];i[n]=!0;t=t.substr(0,3)==="<g "?"<g id='ci_"+n+"' "+t.substr(3):"<g id='ci_"+n+"'>"+t+"<\/g>";r.push(t)});n.body.append("<svg xmlns='http://www.w3.org/2000/svg' class=Hide><defs>"+r.join("")+"<\/defs><\/svg>")}if(typeof t!="undefined")return typeof t!="string"&&(t=t.id),nt.SVG[t]||(t="unknown"),$("<svg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewbox='0 0 32 32'><use xlink:href='#ci_"+t+"'/><\/svg>")},ft=function(){},ft.Get=function(n,t,i,r){var u=ft.Code||(ft.Code=_QR_());if(typeof n=="string")return $(new u({content:n,background:r||"transparent",color:i||"#000",padding:typeof t=="number"?t:2}).svg()).addClass("QR")},tt=function(){},tt.USD={},tt.btc={},tt.Update=function(){var n=tt.USD,t=tt.btc,i=tt.OnChange},tt.OnChange=new o,e=function(){},e.Seq=0,e.PostQueue=[],e.Last=(new Date).getTime(),e.FirstReport=function(){var n,i,t,r;if(!e.DoneFirst){e.DoneFirst=!0;e.Session=randomBytes(16);n={};Object.keys(jsPerf).length&&(n.jsPerformance=jsPerf);try{document.cookie.split("; ").forEach(function(t){if(/^P=/.test(t)){var i=t.split("=")[1];i.length===32&&(n.id=i)}})}catch(u){}if(typeof s=="string"&&(n.referralcode=s),n.date=(new Date).toString(),n.tz=(new Date).getTimezoneOffset(),i={name:navigator.appName,version:navigator.appVersion,platform:navigator.platform,width:window.innerWidth,height:window.innerHeight},typeof navigator.maxTouchPoints=="number"&&(i.maxTouchPoints=navigator.maxTouchPoints),t={},navigator.language&&(t[navigator.language]=!0),navigator.browserLanguage&&(t[navigator.browserLanguage]=!0),navigator.languages&&navigator.languages.forEach(function(n){n&&(t[n]=!0)}),t=Object.keys(t),t.length&&(i.languages=t),n.browser=i,n.encryption={sha256:h.algo,sign:c.algo,verify:l.algo,generateKey:y.algo,generateKeyk1:k.algo,getPublicKey:a.algo,encrypt:p.algo,decrypt:w.algo,deriveKey:v.algo},window.performance)try{r={};["navigationStart","unloadEventStart","unloadEventEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","secureConnectionStart","requestStart","responseStart","responseEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd"].forEach(function(n){r[n]=window.performance.timing[n]});n.timings=r}catch(u){}jsPerf={};e.AddReport(n)}},e.AddReport=function(n){e.Last=(new Date).getTime();n.session=e.Session;n.now=(new Date).getTime();n.seq=++e.Seq;it.socketSendNotification("optimization",n).catch(function(){e.PostQueue.push(n);e.FlushTimer||(e.FlushTimer=setTimeout(e.Flush,1e3))})},e.Flush=function(){e.FlushTimer=null;var n=e.PostQueue;n.length&&(e.PostQueue=[],it.Notify("optimizations",{reports:n}).catch(function(){e.PostQueue=n.concat(e.PostQueue)}))},e.KeepAlive=function(){var n=(new Date).getTime();n-e.Last<3e4||e.AddReport({keepalive:!0})},setInterval(e.KeepAlive,3e4),/^\/conduct\/?$/i.test(location.pathname)?n.body.attr("data-scene","CodeOfConduct"):/^\/whitepaper\/?$/i.test(location.pathname)&&n.body.attr("data-scene","Whitepaper"),et.then(function(){try{jsPerf.worker=window.performance.now()}catch(n){}}),at.then(function(){try{jsPerf.encryption=window.performance.now()}catch(n){}}),setTimeout(n.Setup,0),vt=waitAll(et,at).catch(function(){}),vt.then(function(){try{jsPerf.setup=window.performance.now()}catch(i){}if(pt||typeof WebSocket!="function"||it.ConnectWebSocket(),bt){var t=navigator.serviceWorker;t&&t.register("/sw.js").then(function(n){setInterval(function(){n.update()},36e5)},function(){})}n.DelaySetup&&n.DelaySetup();e.FirstReport()}),n.body.attr("data-landing")==="1"){n.body.click(function(n){var i="",t,r,u,f;try{if(t=n.originalEvent,t)for(t.pointerType&&(i=t.pointerType),typeof t.pageX!="undefined"&&(i+="["+Math.floor(t.pageX)+","+Math.floor(t.pageY)+"] ["+Math.floor(t.offsetX)+","+Math.floor(t.offsetY)+"]"),t=t.target;t;){if(r=$(t),u=r.prop("id"),u){i="#"+u+" + "+i;break}if(t.tagName.toLowerCase()==="body"){i="body + "+i;break}f=t.className;i=t.tagName+(f?"."+f:"")+" + "+i;t=r.parent()[0]}}catch(o){}e.AddReport({click:i})});$("#Preregister .More").click(function(){$("#Preregister .More").remove();$("#LearnMore").removeClass("Hide");e.AddReport({learnmore:1})});$("#TopBar .Logo").click(function(){n.body.removeAttr("data-modal");BrowserHistory.Push(null,"",location.href);e.AddReport({logoclick:1})});$("#PersonalBlockchains .Paper.White").click(function(){n.body.attr("data-modal","1");$("#Modal").attr("data-display","Whitepaper");window.scrollTo(0,0);BrowserHistory.Push({display:"Whitepaper"},"",location.href);e.AddReport({whitepaper:1})});$("#PersonalBlockchains .Paper.Implementation").click(function(){n.body.attr("data-modal","1");$("#Modal").attr("data-display","Implementation");window.scrollTo(0,0);BrowserHistory.Push({display:"Implementation"},"",location.href);e.AddReport({implementationpaper:1})});$("input[type='email']").keypress(function(n){n.which===13&&(ct=!0,n.preventDefault(),$(n.target).closest("div").find(".EmailButton").click())});$(".EmailButton").click(function(t){var r=ct,u,i,f;if(ct=!1,u=$(t.target).closest("div").find("input"),i=u.val().trim(),!n.Regex.Email.test(i)){u.focus();e.AddReport({bademail:i,enter:r});return}f={email:i};typeof s=="string"&&(f.referralcode=s);console.log("here1");it.Request("preregisteremail",f).then(function(n){console.log("here2");$("#Email1, #Email2, #LearnMore, #Preregister .More").remove();$("#Preregister").attr("data-registered","1");$("#Preregister .Info").toggleClass("Hide");$("#ReferralLink").text("https://symetria.io/#"+n.referrercode);e.AddReport({goodemail:i,enter:r})},function(n){console.log("here3");e.AddReport({goodemail:i,enter:r,fail:n})})});try{window.onpopstate=function(t){t.state?t.state.display&&(n.body.attr("data-modal","1"),$("#Modal").attr("data-display",t.state.display),e.AddReport({backbutton:"display: "+t.state.display})):(n.body.removeAttr("data-modal"),e.AddReport({backbutton:"home"}))}}catch(dt){}}}();